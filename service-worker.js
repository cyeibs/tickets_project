let CACHE="lupapp-v1",precacheFiles=["/","/index.html","/manifest.json","/icon.png","/login-image.png"];self.addEventListener("install",function(e){console.log("Service Worker: Installing...."),e.waitUntil(caches.open(CACHE).then(function(e){return console.log("Service Worker: Caching App Shell at the moment..."),e.addAll(precacheFiles)}))}),self.addEventListener("activate",function(e){return console.log("Service Worker: Activating...."),e.waitUntil(caches.keys().then(function(e){return Promise.all(e.map(function(e){if(e!==CACHE)return console.log("Service Worker: Removing Old Cache",e),caches.delete(e)}))})),self.clients.claim()}),self.addEventListener("fetch",function(e){console.log("Service Worker: Fetch",e.request.url),e.respondWith(caches.match(e.request).then(function(n){return n?(console.log("Service Worker: Found in Cache",e.request.url),n):(console.log("Service Worker: Not in Cache, fetching from network",e.request.url),fetch(e.request).then(function(n){if(!n||200!==n.status||"basic"!==n.type)return n;let t=n.clone();return caches.open(CACHE).then(function(n){n.put(e.request,t)}),n}).catch(function(e){return console.log("Service Worker: Fetch failed; returning offline page instead.",e),caches.match("/")}))}))});