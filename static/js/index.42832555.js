(()=>{"use strict";var e={2927:function(e,t,a){var n,i=a(5893),r=a(745),s=a(7294),l=a(2135),o=a.n(l),c=a(2303),d=a(4997);let u=e=>{let{size:t=24,color:a="#000000",title:n="Arrow Left"}=e;return(0,i.jsxs)("svg",{width:t,height:t,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"false","aria-label":n,role:"img",children:[(0,i.jsx)("title",{children:n}),(0,i.jsx)("path",{d:"M14.9998 19.9201L8.47984 13.4001C7.70984 12.6301 7.70984 11.3701 8.47984 10.6001L14.9998 4.08008",stroke:a,strokeWidth:"1.5",strokeMiterlimit:"10",strokeLinecap:"round",strokeLinejoin:"round"})]})},p=e=>{let{size:t=24,color:a="#000000",title:n="Arrow Right"}=e;return(0,i.jsxs)("svg",{width:t,height:t,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"false","aria-label":n,role:"img",children:[(0,i.jsx)("title",{children:n}),(0,i.jsx)("path",{d:"M8.91 19.92L15.43 13.4C16.2 12.63 16.2 11.37 15.43 10.6L8.91 4.07996",stroke:a,strokeWidth:"1.5",strokeMiterlimit:"10",strokeLinecap:"round",strokeLinejoin:"round"})]})},h=e=>{let{size:t=24,color:a="#000000",title:n="Arrow Export"}=e;return(0,i.jsxs)("svg",{width:t,height:t,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"false","aria-label":n,role:"img",children:[(0,i.jsx)("title",{children:n}),(0,i.jsx)("path",{d:"M13 10.9998L21.2 2.7998",stroke:a,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,i.jsx)("path",{d:"M22 6.8V2H17.2",stroke:a,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,i.jsx)("path",{d:"M11 2H9C4 2 2 4 2 9V15C2 20 4 22 9 22H15C20 22 22 20 22 15V13",stroke:a,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]})},m=e=>{let{size:t=24,color:a="#000000",title:n="Edit"}=e,r=(0,s.useId)();return(0,i.jsxs)("svg",{width:t,height:t,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"false","aria-label":n,role:"img",children:[(0,i.jsx)("title",{children:n}),(0,i.jsxs)("g",{clipPath:`url(#${r})`,children:[(0,i.jsx)("path",{d:"M11 2H9C4 2 2 4 2 9V15C2 20 4 22 9 22H15C20 22 22 20 22 15V13",stroke:a,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,i.jsx)("path",{d:"M16.04 3.01928L8.16 10.8993C7.86 11.1993 7.56 11.7893 7.5 12.2193L7.07 15.2293C6.91 16.3193 7.68 17.0793 8.77 16.9293L11.78 16.4993C12.2 16.4393 12.79 16.1393 13.1 15.8393L20.98 7.95928C22.34 6.59928 22.98 5.01928 20.98 3.01928C18.98 1.01928 17.4 1.65928 16.04 3.01928Z",stroke:a,strokeWidth:"1.5",strokeMiterlimit:"10",strokeLinecap:"round",strokeLinejoin:"round"}),(0,i.jsx)("path",{d:"M14.91 4.15039C15.58 6.54039 17.45 8.41039 19.85 9.09039",stroke:a,strokeWidth:"1.5",strokeMiterlimit:"10",strokeLinecap:"round",strokeLinejoin:"round"})]}),(0,i.jsx)("defs",{children:(0,i.jsx)("clipPath",{id:r,children:(0,i.jsx)("rect",{width:"24",height:"24",fill:"white"})})})]})},v=e=>{let{width:t=67,height:a=22}=e,n=(0,s.useId)();return(0,i.jsxs)("svg",{width:t,height:a,viewBox:"0 0 67 22",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":n,children:[(0,i.jsx)("title",{id:n,children:"LUP App Logo"}),(0,i.jsx)("path",{d:"M46.2715 6.02637C44.2232 6.15995 44.2357 9.76771 43.875 11.1865C42.8803 15.7622 40.7161 19.9177 35.9268 21.1406C32.4034 22.0878 26.7889 22.7132 23.6983 20.1377C23.1277 19.6649 22.7283 19.1429 22.5 18.5723C21.3314 15.5156 23.7169 12.8548 26.5186 12.5908C27.7208 12.4776 29.0413 13.0765 29.5186 13.3398C29.9914 13.5844 30.416 13.9513 30.791 14.4404L31.3291 14C30.8726 13.4404 30.3311 12.8735 29.6162 12.5068C28.9806 12.1809 28.3366 11.9851 27.6846 11.9199C27.212 11.871 26.7636 11.7492 26.3399 11.5537C24.26 10.5938 24.7926 6.12996 22.3291 6.02637C21.5085 4.28253 21.7208 1.88299 22.4268 0.157227C26.4372 0.473834 30.3652 0.474418 34.3682 0.158203C33.5108 3.7549 34.4693 7.61959 35.6573 11.041V10.9668L35.6328 5.87988H34.9483C34.667 3.98797 34.667 2.02025 35.1436 0.157227C38.839 0.583627 42.5195 0.453483 46.2227 0.157227C46.8828 1.77083 47.0478 4.37645 46.2715 6.02637Z",fill:"#AFF940"}),(0,i.jsx)("path",{d:"M5.14651 0C10.5082 0 16 0.157227 21.3706 0.157227C20.8458 2.08911 20.4804 4.65053 21.3457 6.48926C23.6983 7.5 23.3084 10.1009 25 11.7861C21.9366 12.704 20.382 16.0778 21.4844 18.9609L21.4903 18.9766L21.4912 18.9785C21.4562 18.9784 21.4211 18.9785 21.3858 18.9785C20.2608 18.9785 19.1844 18.9947 18.1573 19.0273C17.1301 19.0763 16.2412 19.1087 15.4912 19.125C14.8056 15.6205 15.4912 11.7856 15.4912 8.21777H14.4649C14.4649 13.7559 14.6417 19.8094 7.71487 19.8096C2.08983 19.8096 -1.61014 11.8049 3.21487 8.2666C5.42583 6.64537 8.22253 7.42636 9.57327 9.61133L10.1358 9.21973C9.057 7.37564 7.04737 6.32914 5.00003 5.94336C4.19872 4.25171 4.42754 1.72553 5.14651 0Z",fill:"#AFF940"}),(0,i.jsx)("path",{d:"M62.4404 0.158203C63.1594 1.88373 63.3882 4.25269 62.5869 5.94434C60.5396 6.33014 58.5299 7.37661 57.4512 9.2207L58.0137 9.6123C60.7724 5.14966 66.5 8.56297 66.5 13.2812C66.4999 15.5381 65.7503 17.7467 63.7363 18.9551C61.7796 20.0963 59.0401 20.0277 56.9131 19.4199C51.9553 18.0282 53.1231 12.1541 53.1231 8.21875H52.0957C52.0957 11.7865 52.0957 15.2887 52.0957 19.126C48.4662 19.0471 44.8655 18.9003 41.2402 19.2617C43.2357 17.1352 44.1961 14.2243 44.8047 11.4297C45.0473 10.4745 45.2514 9.61004 45.416 8.83789C45.7147 7.53473 46.0699 7.18528 47.125 6.49023C47.9841 4.66461 47.7972 2.08538 47.3066 0.158203C52.3604 0.284744 57.3907 0.158214 62.4404 0.158203Z",fill:"#AFF940"})]})},g=e=>{let{size:t=16,color:a="#626974",title:n="Close"}=e;return(0,i.jsxs)("svg",{width:t,height:t,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[n&&(0,i.jsx)("title",{children:n}),(0,i.jsx)("path",{d:"M12 4L4 12M4 4L12 12",stroke:a,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]})},x=e=>{let{size:t=24,color:a="#000000",title:n="Heart",fill:r="none"}=e,l=(0,s.useId)();return(0,i.jsxs)("svg",{width:t,height:t,viewBox:"0 0 24 24",fill:r,xmlns:"http://www.w3.org/2000/svg","aria-labelledby":`heart-title-${l}`,children:[(0,i.jsx)("title",{id:`heart-title-${l}`,children:n}),(0,i.jsx)("g",{clipPath:`url(#${l})`,children:(0,i.jsx)("path",{d:"M12.62 20.8096C12.28 20.9296 11.72 20.9296 11.38 20.8096C8.48 19.8196 2 15.6896 2 8.68961C2 5.59961 4.49 3.09961 7.56 3.09961C9.38 3.09961 10.99 3.97961 12 5.33961C13.01 3.97961 14.63 3.09961 16.44 3.09961C19.51 3.09961 22 5.59961 22 8.68961C22 15.6896 15.52 19.8196 12.62 20.8096Z",stroke:a,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})}),(0,i.jsx)("defs",{children:(0,i.jsx)("clipPath",{id:l,children:(0,i.jsx)("rect",{width:"24",height:"24",fill:"white"})})})]})},C=e=>{let{size:t=24,color:a="#000000",title:n="CalendarIcon"}=e,r=(0,s.useId)();return(0,i.jsxs)("svg",{width:t,height:t,viewBox:"0 0 24 24",fill:a,xmlns:"http://www.w3.org/2000/svg","aria-labelledby":`calendar-title-${r}`,children:[(0,i.jsx)("title",{id:`calendar-title-${r}`,children:n}),(0,i.jsxs)("g",{clipPath:`url(#${r})`,children:[(0,i.jsx)("path",{d:"M16.75 3.56V2C16.75 1.59 16.41 1.25 16 1.25C15.59 1.25 15.25 1.59 15.25 2V3.5H8.74999V2C8.74999 1.59 8.40999 1.25 7.99999 1.25C7.58999 1.25 7.24999 1.59 7.24999 2V3.56C4.54999 3.81 3.23999 5.42 3.03999 7.81C3.01999 8.1 3.25999 8.34 3.53999 8.34H20.46C20.75 8.34 20.99 8.09 20.96 7.81C20.76 5.42 19.45 3.81 16.75 3.56Z",fill:"white",style:{fill:"var(--fillg)"}}),(0,i.jsx)("path",{d:"M20 9.83984H4C3.45 9.83984 3 10.2898 3 10.8398V16.9998C3 19.9998 4.5 21.9998 8 21.9998H16C19.5 21.9998 21 19.9998 21 16.9998V10.8398C21 10.2898 20.55 9.83984 20 9.83984ZM9.21 18.2098C9.11 18.2998 9 18.3698 8.88 18.4198C8.76 18.4698 8.63 18.4998 8.5 18.4998C8.37 18.4998 8.24 18.4698 8.12 18.4198C8 18.3698 7.89 18.2998 7.79 18.2098C7.61 18.0198 7.5 17.7598 7.5 17.4998C7.5 17.2398 7.61 16.9798 7.79 16.7898C7.89 16.6998 8 16.6298 8.12 16.5798C8.36 16.4798 8.64 16.4798 8.88 16.5798C9 16.6298 9.11 16.6998 9.21 16.7898C9.39 16.9798 9.5 17.2398 9.5 17.4998C9.5 17.7598 9.39 18.0198 9.21 18.2098ZM9.42 14.3798C9.37 14.4998 9.3 14.6098 9.21 14.7098C9.11 14.7998 9 14.8698 8.88 14.9198C8.76 14.9698 8.63 14.9998 8.5 14.9998C8.37 14.9998 8.24 14.9698 8.12 14.9198C8 14.8698 7.89 14.7998 7.79 14.7098C7.7 14.6098 7.63 14.4998 7.58 14.3798C7.53 14.2598 7.5 14.1298 7.5 13.9998C7.5 13.8698 7.53 13.7398 7.58 13.6198C7.63 13.4998 7.7 13.3898 7.79 13.2898C7.89 13.1998 8 13.1298 8.12 13.0798C8.36 12.9798 8.64 12.9798 8.88 13.0798C9 13.1298 9.11 13.1998 9.21 13.2898C9.3 13.3898 9.37 13.4998 9.42 13.6198C9.47 13.7398 9.5 13.8698 9.5 13.9998C9.5 14.1298 9.47 14.2598 9.42 14.3798ZM12.71 14.7098C12.61 14.7998 12.5 14.8698 12.38 14.9198C12.26 14.9698 12.13 14.9998 12 14.9998C11.87 14.9998 11.74 14.9698 11.62 14.9198C11.5 14.8698 11.39 14.7998 11.29 14.7098C11.11 14.5198 11 14.2598 11 13.9998C11 13.7398 11.11 13.4798 11.29 13.2898C11.39 13.1998 11.5 13.1298 11.62 13.0798C11.86 12.9698 12.14 12.9698 12.38 13.0798C12.5 13.1298 12.61 13.1998 12.71 13.2898C12.89 13.4798 13 13.7398 13 13.9998C13 14.2598 12.89 14.5198 12.71 14.7098Z",fill:"white",style:{fill:"var(--fillg)"}})]}),(0,i.jsx)("defs",{children:(0,i.jsx)("clipPath",{id:r,children:(0,i.jsx)("rect",{width:"24",height:"24",fill:"white"})})})]})},j=e=>{let{size:t=24,color:a="#000000",title:n="LocationIcon"}=e,r=(0,s.useId)();return(0,i.jsxs)("svg",{width:t,height:t,viewBox:"0 0 24 24",fill:a,xmlns:"http://www.w3.org/2000/svg","aria-labelledby":`${r}-title`,children:[(0,i.jsx)("title",{id:`${r}-title`,children:n}),(0,i.jsx)("g",{clipPath:`url(#${r})`,children:(0,i.jsx)("path",{d:"M20.6201 8.45C19.5701 3.83 15.5401 1.75 12.0001 1.75C12.0001 1.75 12.0001 1.75 11.9901 1.75C8.4601 1.75 4.4201 3.82 3.3701 8.44C2.2001 13.6 5.3601 17.97 8.2201 20.72C9.2801 21.74 10.6401 22.25 12.0001 22.25C13.3601 22.25 14.7201 21.74 15.7701 20.72C18.6301 17.97 21.7901 13.61 20.6201 8.45ZM12.0001 13.46C10.2601 13.46 8.8501 12.05 8.8501 10.31C8.8501 8.57 10.2601 7.16 12.0001 7.16C13.7401 7.16 15.1501 8.57 15.1501 10.31C15.1501 12.05 13.7401 13.46 12.0001 13.46Z",fill:"white",style:{fill:"var(--fillg)"}})}),(0,i.jsx)("defs",{children:(0,i.jsx)("clipPath",{id:r,children:(0,i.jsx)("rect",{width:"24",height:"24",fill:"white"})})})]})},f=e=>{let{size:t=24,color:a="#000000",title:n="CardIcon"}=e;return(0,i.jsxs)("svg",{width:t,height:t,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"false","aria-label":n,role:"img",children:[(0,i.jsx)("title",{children:n}),(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20.7998 10.25C21.4598 10.25 22 10.7902 22 11.4502V16.4502C21.9999 18.7401 20.1395 20.5996 17.8496 20.5996H6.13965C3.84981 20.5994 2 18.7498 2 16.46V11.4502C2 10.7902 2.5402 10.25 3.2002 10.25H20.7998ZM6 15.75C5.59 15.75 5.25 16.09 5.25 16.5C5.25 16.91 5.59 17.25 6 17.25H8C8.41 17.25 8.75 16.91 8.75 16.5C8.75 16.09 8.41 15.75 8 15.75H6ZM10.5 15.75C10.09 15.75 9.75 16.09 9.75 16.5C9.75 16.91 10.09 17.25 10.5 17.25H14.5C14.91 17.25 15.25 16.91 15.25 16.5C15.25 16.09 14.91 15.75 14.5 15.75H10.5Z",fill:a}),(0,i.jsx)("path",{d:"M17.8496 3.39941C20.1396 3.39941 21.9999 5.25985 22 7.5498C22 8.2098 21.4598 8.75 20.7998 8.75H3.2002C2.5402 8.75 2 8.2098 2 7.5498V7.54004C2 5.25016 3.84981 3.3996 6.13965 3.39941H17.8496Z",fill:a})]})},w=e=>{let{size:t=24,color:a="#000000",title:n="HomeIcon"}=e;return(0,i.jsxs)("svg",{width:t,height:t,viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,i.jsx)("title",{children:n}),(0,i.jsx)("path",{d:"M12.0266 3.78666L4.83996 9.38666C3.63996 10.32 2.66663 12.3067 2.66663 13.8133V23.6933C2.66663 26.7867 5.18663 29.32 8.27996 29.32H23.72C26.8133 29.32 29.3333 26.7867 29.3333 23.7067V14C29.3333 12.3867 28.2533 10.32 26.9333 9.39999L18.6933 3.62666C16.8266 2.31999 13.8266 2.38666 12.0266 3.78666Z",stroke:a,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,i.jsx)("path",{d:"M16 23.9867V19.9867",stroke:a,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]})},N=e=>{let{size:t=24,color:a="#000000",title:n="HomeIconBold"}=e;return(0,i.jsxs)("svg",{width:t,height:t,viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,i.jsx)("title",{children:n}),(0,i.jsx)("path",{d:"M12.1283 4.4209C13.9107 3.03985 16.8036 2.96761 18.6576 4.2666H18.6586L26.3383 9.63965C26.9638 10.0776 27.556 10.7957 27.9926 11.6318C28.4291 12.4681 28.6801 13.3661 28.6801 14.1338V23.1738C28.6799 26.2055 26.2186 28.667 23.1869 28.667H8.81384C5.78391 28.667 3.32068 26.1938 3.32068 23.1602V13.96C3.32074 13.2474 3.54718 12.3953 3.9447 11.5879C4.34211 10.7808 4.88197 10.0763 5.45056 9.63281L12.1273 4.41992L12.1283 4.4209ZM16.0004 18.334C15.0856 18.334 14.3335 19.0853 14.3334 20V24C14.3334 24.9149 15.0855 25.667 16.0004 25.667C16.9152 25.667 17.6674 24.9149 17.6674 24V20C17.6672 19.0853 16.9151 18.334 16.0004 18.334Z",fill:a,stroke:"#212C3A",strokeWidth:"1.33333"})]})},y=e=>{let{size:t=24,color:a="#000000",title:n="SearchIcon"}=e,r=(0,s.useId)();return(0,i.jsxs)("svg",{width:t,height:t,viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r,children:[(0,i.jsx)("title",{id:r,children:n}),(0,i.jsx)("path",{d:"M15.3333 28C22.3289 28 28 22.329 28 15.3334C28 8.33775 22.3289 2.66669 15.3333 2.66669C8.33769 2.66669 2.66663 8.33775 2.66663 15.3334C2.66663 22.329 8.33769 28 15.3333 28Z",stroke:a,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,i.jsx)("path",{d:"M29.3333 29.3334L26.6666 26.6667",stroke:a,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]})},b=e=>{let{size:t=24,color:a="#000000",title:n="SearchIconBold"}=e,r=(0,s.useId)();return(0,i.jsxs)("svg",{width:t,height:t,viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r,children:[(0,i.jsx)("title",{id:r,children:n}),(0,i.jsx)("path",{d:"M15.3333 28C22.3289 28 28 22.3289 28 15.3333C28 8.33772 22.3289 2.66666 15.3333 2.66666C8.33769 2.66666 2.66663 8.33772 2.66663 15.3333C2.66663 22.3289 8.33769 28 15.3333 28Z",fill:a}),(0,i.jsx)("path",{d:"M28.4 29.3333C28.16 29.3333 27.92 29.24 27.7466 29.0667L25.2666 26.5867C24.9066 26.2267 24.9066 25.64 25.2666 25.2667C25.6266 24.9067 26.2133 24.9067 26.5866 25.2667L29.0666 27.7467C29.4266 28.1067 29.4266 28.6933 29.0666 29.0667C28.88 29.24 28.64 29.3333 28.4 29.3333Z",fill:a})]})},k=e=>{let{size:t=24,color:a="#000000",title:n="AddCircle"}=e;return(0,i.jsxs)("svg",{width:t,height:t,viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,i.jsx)("title",{children:n}),(0,i.jsx)("path",{d:"M16 29.3334C23.3333 29.3334 29.3333 23.3334 29.3333 16C29.3333 8.66669 23.3333 2.66669 16 2.66669C8.66663 2.66669 2.66663 8.66669 2.66663 16C2.66663 23.3334 8.66663 29.3334 16 29.3334Z",stroke:a,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,i.jsx)("path",{d:"M10.6666 16H21.3333",stroke:a,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,i.jsx)("path",{d:"M16 21.3334V10.6667",stroke:a,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]})},L=e=>{let{size:t=24,color:a="#000000",title:n="AddCircleBold"}=e;return(0,i.jsxs)("svg",{width:t,height:t,viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,i.jsx)("title",{children:n}),(0,i.jsx)("path",{d:"M15.9996 3.33365C22.978 3.33365 28.6664 9.02134 28.6666 15.9997C28.6666 22.9781 22.9781 28.6667 15.9996 28.6667C9.02131 28.6665 3.33362 22.978 3.33362 15.9997C3.3338 9.02144 9.02141 3.33383 15.9996 3.33365ZM15.9996 8.99966C15.0849 8.99984 14.3336 9.75191 14.3336 10.6667V14.3336H10.6666C9.75188 14.3336 8.99981 15.085 8.99963 15.9997C8.99963 16.9145 9.75177 17.6667 10.6666 17.6667H14.3336V21.3336C14.3338 22.2482 15.085 22.9995 15.9996 22.9997C16.9144 22.9997 17.6664 22.2484 17.6666 21.3336V17.6667H21.3336C22.2483 17.6665 22.9996 16.9144 22.9996 15.9997C22.9995 15.0851 22.2482 14.3338 21.3336 14.3336H17.6666V10.6667C17.6666 9.7518 16.9145 8.99966 15.9996 8.99966Z",fill:a,stroke:"#212C3A",strokeWidth:"1.33333"})]})},S=e=>{let{size:t=24,color:a="#000000",title:n="TicketIcon"}=e;return(0,i.jsxs)("svg",{width:t,height:t,viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,i.jsx)("title",{children:n}),(0,i.jsx)("path",{d:"M25.2134 19.59C25.2134 21.31 26.6267 22.71 28.3467 22.71C28.3467 27.71 27.0934 28.9633 22.0934 28.9633H9.58671C4.58671 28.9633 3.33337 27.71 3.33337 22.71V22.0967C5.05337 22.0967 6.46671 20.6833 6.46671 18.9633C6.46671 17.2433 5.05337 15.83 3.33337 15.83V15.2167C3.34671 10.2167 4.58671 8.96332 9.58671 8.96332H22.08C27.08 8.96332 28.3334 10.2167 28.3334 15.2167V16.47C26.6134 16.47 25.2134 17.8567 25.2134 19.59Z",stroke:a,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,i.jsx)("path",{d:"M21.6148 8.96335H9.49475L13.4014 5.05669C16.5881 1.87002 18.1881 1.87002 21.3748 5.05669L22.1748 5.85669C21.3348 6.69669 21.1348 7.93669 21.6148 8.96335Z",stroke:a,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,i.jsx)("path",{d:"M13.1719 8.96356L13.1719 28.9636",stroke:a,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeDasharray:"5 5"})]})},I=e=>{let{size:t=24,color:a="#000000",title:n="TicketIconBold"}=e;return(0,i.jsxs)("svg",{width:t,height:t,viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,i.jsx)("title",{children:n}),(0,i.jsx)("path",{d:"M22.9199 6.61332C22.9199 6.62666 22.9199 6.62666 22.9199 6.63999C22.5866 6.62666 22.2532 6.61332 21.8932 6.61332H11.6266L13.0532 5.19999C14.3599 3.87999 15.7999 2.66666 17.4666 2.66666C19.1466 2.66666 20.5866 3.87999 21.8932 5.19999L22.6399 5.94666C22.8266 6.11999 22.9199 6.35999 22.9199 6.61332Z",fill:a}),(0,i.jsx)("path",{d:"M27.7866 17.56C28.3066 17.56 28.7199 17.1333 28.7199 16.6V15.4267C28.7199 10.1867 27.1199 8.59999 21.8932 8.59999H10.1066C4.87991 8.59999 3.27991 10.2 3.27991 15.4267V16C3.27991 16.5333 3.69324 16.9467 4.21324 16.9467C5.33324 16.9467 6.22657 17.8533 6.22657 18.96C6.22657 20.0667 5.33324 20.9867 4.21324 20.9867C3.69324 20.9867 3.27991 21.4 3.27991 21.9333V22.5067C3.27991 27.7467 4.87991 29.3333 10.1066 29.3333H21.8799C27.1066 29.3333 28.7066 27.7333 28.7066 22.5067C28.7066 21.9867 28.2932 21.56 27.7732 21.56C26.6532 21.56 25.7599 20.6667 25.7599 19.56C25.7732 18.4533 26.6666 17.56 27.7866 17.56ZM14.4266 25.1467C14.4266 25.6667 13.9999 26.0933 13.4799 26.0933C12.9599 26.0933 12.5332 25.6667 12.5332 25.1467V21.5733C12.5332 21.0533 12.9599 20.6267 13.4799 20.6267C13.9999 20.6267 14.4266 21.0533 14.4266 21.5733V25.1467ZM14.4266 16.36C14.4266 16.88 13.9999 17.3067 13.4799 17.3067C12.9599 17.3067 12.5332 16.88 12.5332 16.36V12.7867C12.5332 12.2667 12.9599 11.84 13.4799 11.84C13.9999 11.84 14.4266 12.2667 14.4266 12.7867V16.36Z",fill:a})]})},T=e=>{let{size:t=24,color:a="#000000",title:n="ProfileIcon"}=e,r=(0,s.useId)();return(0,i.jsxs)("svg",{width:t,height:t,viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r,children:[(0,i.jsx)("title",{id:r,children:n}),(0,i.jsx)("path",{d:"M16.16 17.04C16.0667 17.0266 15.9467 17.0266 15.84 17.04C13.4934 16.96 11.6267 15.04 11.6267 12.68C11.6267 10.2666 13.5734 8.30664 16 8.30664C18.4134 8.30664 20.3734 10.2666 20.3734 12.68C20.36 15.04 18.5067 16.96 16.16 17.04Z",stroke:a,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,i.jsx)("path",{d:"M24.9866 25.84C22.6133 28.0133 19.4666 29.3334 16 29.3334C12.5333 29.3334 9.38664 28.0133 7.01331 25.84C7.14664 24.5867 7.94664 23.36 9.37331 22.4C13.0266 19.9734 19 19.9734 22.6266 22.4C24.0533 23.36 24.8533 24.5867 24.9866 25.84Z",stroke:a,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,i.jsx)("path",{d:"M16 29.3334C23.3638 29.3334 29.3333 23.3638 29.3333 16C29.3333 8.63622 23.3638 2.66669 16 2.66669C8.63616 2.66669 2.66663 8.63622 2.66663 16C2.66663 23.3638 8.63616 29.3334 16 29.3334Z",stroke:a,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]})},B=e=>{let{size:t=24,color:a="#000000",title:n="ProfileIconBold"}=e,r=(0,s.useId)();return(0,i.jsxs)("svg",{width:t,height:t,viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r,children:[(0,i.jsx)("title",{id:r,children:n}),(0,i.jsx)("path",{d:"M15.9996 2.66666C23.3462 2.66666 29.3334 8.65315 29.3336 15.9997C29.3336 19.8663 27.6666 23.3468 25.0133 25.7868C25.0265 25.8 25.027 25.8 25.027 25.8131C24.8937 25.9331 24.7469 26.0535 24.6002 26.1735C24.5203 26.2268 24.4536 26.2934 24.3737 26.36C24.1337 26.56 23.8796 26.7466 23.6129 26.9333C23.5197 26.9999 23.4396 27.0665 23.3463 27.1198C23.0797 27.2931 22.8131 27.4403 22.5465 27.6003C22.4533 27.6535 22.36 27.7198 22.2535 27.7731C21.9736 27.9197 21.6936 28.0535 21.4137 28.1735C21.3071 28.2268 21.2 28.28 21.0934 28.32C20.8134 28.44 20.5068 28.5336 20.2135 28.6403C20.1068 28.667 19.9999 28.7067 19.8932 28.7467C19.5866 28.8534 19.2532 28.9197 18.9332 28.9997C18.8267 29.013 18.7335 29.0537 18.6403 29.067C18.2669 29.147 17.8931 29.1999 17.5065 29.2399C17.4532 29.2532 17.3996 29.2663 17.3463 29.2663C16.9064 29.3063 16.4529 29.3336 15.9996 29.3336C15.5465 29.3336 15.0934 29.3062 14.6403 29.2663C14.587 29.2529 14.5334 29.2399 14.4801 29.2399C14.0934 29.1999 13.7196 29.147 13.3463 29.067C13.2398 29.0537 13.1466 29.0263 13.0533 28.9997C12.7334 28.9197 12.4133 28.8401 12.0934 28.7467C11.9867 28.7201 11.8797 28.6803 11.7731 28.6403C11.4798 28.547 11.1865 28.44 10.8932 28.32C10.7866 28.28 10.6795 28.2268 10.5729 28.1735C10.2797 28.0535 9.99961 27.9197 9.73303 27.7731C9.63983 27.7198 9.53325 27.6535 9.44006 27.6003C9.1601 27.4536 8.89356 27.2931 8.64026 27.1198C8.547 27.0532 8.4669 26.9999 8.37366 26.9333C8.12032 26.7466 7.85292 26.56 7.61292 26.36C7.53303 26.3067 7.46627 26.2401 7.38635 26.1735C7.25303 26.0535 7.09291 25.9465 6.95959 25.8131C6.97289 25.7998 6.97327 25.8 6.97327 25.7868C4.33327 23.3468 2.66663 19.8663 2.66663 15.9997C2.6668 8.65325 8.65322 2.66683 15.9996 2.66666ZM15.9996 4.66666C9.74656 4.66683 4.6668 9.74659 4.66663 15.9997C4.66663 19.093 5.92026 21.9063 7.9469 23.9596C8.34684 23.4664 8.82717 23.0132 9.4137 22.6266C13.0537 20.2002 18.9733 20.2001 22.5865 22.6266C23.1731 23.0132 23.6667 23.4664 24.0533 23.9596C26.0799 21.9063 27.3336 19.0929 27.3336 15.9997C27.3334 9.74648 22.2529 4.66666 15.9996 4.66666ZM15.9996 9.2399C18.7595 9.2399 20.9995 11.48 20.9996 14.2399C20.9863 16.9465 18.8667 19.1338 16.1735 19.2272H15.9332C13.1199 19.1472 10.9996 16.9465 10.9996 14.2399C10.9998 11.4802 13.2399 9.2401 15.9996 9.2399Z",fill:a})]})},F=e=>{let{size:t=24,color:a="#000000",title:n="FilterIcon"}=e;return(0,i.jsxs)("svg",{width:t,height:t,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,i.jsx)("title",{children:n}),(0,i.jsx)("path",{d:"M5.40039 2.09998H18.6004C19.7004 2.09998 20.6004 2.99998 20.6004 4.09998V6.29998C20.6004 7.09998 20.1004 8.09998 19.6004 8.59998L15.3004 12.4C14.7004 12.9 14.3004 13.9 14.3004 14.7V19C14.3004 19.6 13.9004 20.4 13.4004 20.7L12.0004 21.6C10.7004 22.4 8.90039 21.5 8.90039 19.9V14.6C8.90039 13.9 8.50039 13 8.10039 12.5L4.30039 8.49998C3.80039 7.99998 3.40039 7.09998 3.40039 6.49998V4.19998C3.40039 2.99998 4.30039 2.09998 5.40039 2.09998Z",stroke:a,strokeWidth:"1.5",strokeMiterlimit:"10",strokeLinecap:"round",strokeLinejoin:"round"}),(0,i.jsx)("path",{d:"M10.93 2.09998L6 9.99998",stroke:a,strokeWidth:"1.5",strokeMiterlimit:"10",strokeLinecap:"round",strokeLinejoin:"round"})]})},z=e=>{let{size:t=24,color:a="#000000",title:n="Star"}=e,r=(0,s.useId)();return(0,i.jsxs)("svg",{width:t,height:t,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r,children:[(0,i.jsx)("title",{id:r,children:n}),(0,i.jsx)("path",{d:"M13.7299 3.50965L15.4899 7.02965C15.7299 7.51965 16.3699 7.98965 16.9099 8.07965L20.0999 8.60965C22.1399 8.94965 22.6199 10.4296 21.1499 11.8896L18.6699 14.3696C18.2499 14.7896 18.0199 15.5996 18.1499 16.1796L18.8599 19.2496C19.4199 21.6796 18.1299 22.6196 15.9799 21.3496L12.9899 19.5796C12.4499 19.2596 11.5599 19.2596 11.0099 19.5796L8.01991 21.3496C5.87991 22.6196 4.57991 21.6696 5.13991 19.2496L5.84991 16.1796C5.97991 15.5996 5.74991 14.7896 5.32991 14.3696L2.84991 11.8896C1.38991 10.4296 1.85991 8.94965 3.89991 8.60965L7.08991 8.07965C7.61991 7.98965 8.25991 7.51965 8.49991 7.02965L10.2599 3.50965C11.2199 1.59965 12.7799 1.59965 13.7299 3.50965Z",fill:a})]})},M=e=>{let{size:t=24,color:a="#000000",title:n="ReviewsIcon"}=e,r=(0,s.useId)();return(0,i.jsxs)("svg",{width:t,height:t,viewBox:"0 0 16 17",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r,children:[(0,i.jsx)("title",{id:r,children:n}),(0,i.jsx)("path",{d:"M8.79398 4.5H4.52732C4.35398 4.5 4.18732 4.50667 4.02732 4.52667C2.23398 4.68 1.33398 5.74 1.33398 7.69333V10.36C1.33398 13.0267 2.40065 13.5533 4.52732 13.5533H4.79398C4.94065 13.5533 5.13398 13.6533 5.22065 13.7667L6.02065 14.8333C6.37398 15.3067 6.94732 15.3067 7.30065 14.8333L8.10065 13.7667C8.20065 13.6333 8.36065 13.5533 8.52732 13.5533H8.79398C10.7473 13.5533 11.8073 12.66 11.9607 10.86C11.9807 10.7 11.9873 10.5333 11.9873 10.36V7.69333C11.9873 5.56667 10.9207 4.5 8.79398 4.5ZM4.33398 9.83333C3.96065 9.83333 3.66732 9.53333 3.66732 9.16667C3.66732 8.8 3.96732 8.5 4.33398 8.5C4.70065 8.5 5.00065 8.8 5.00065 9.16667C5.00065 9.53333 4.70065 9.83333 4.33398 9.83333ZM6.66065 9.83333C6.28732 9.83333 5.99398 9.53333 5.99398 9.16667C5.99398 8.8 6.29398 8.5 6.66065 8.5C7.02732 8.5 7.32732 8.8 7.32732 9.16667C7.32732 9.53333 7.03398 9.83333 6.66065 9.83333ZM8.99398 9.83333C8.62065 9.83333 8.32732 9.53333 8.32732 9.16667C8.32732 8.8 8.62732 8.5 8.99398 8.5C9.36065 8.5 9.66065 8.8 9.66065 9.16667C9.66065 9.53333 9.36065 9.83333 8.99398 9.83333Z",fill:a}),(0,i.jsx)("path",{d:"M14.6541 5.02683V7.6935C14.6541 9.02683 14.2408 9.9335 13.4141 10.4335C13.2141 10.5535 12.9808 10.3935 12.9808 10.1602L12.9875 7.6935C12.9875 5.02683 11.4608 3.50016 8.79415 3.50016L4.73415 3.50683C4.50081 3.50683 4.34082 3.2735 4.46082 3.0735C4.96082 2.24683 5.86748 1.8335 7.19415 1.8335H11.4608C13.5875 1.8335 14.6541 2.90016 14.6541 5.02683Z",fill:a})]})},W=e=>{let{size:t=24,color:a="#212C3A",title:n="Check"}=e;return(0,i.jsxs)("svg",{width:t,height:t,viewBox:"0 0 25 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"false","aria-label":n,role:"img",children:[(0,i.jsx)("title",{children:n}),(0,i.jsx)("path",{d:"M9.57825 15.642L19.2202 6L20.5005 7.28025L9.57825 18.2025L4.5 13.1257L5.78025 11.8455L9.57825 15.642Z",fill:a})]})},E=e=>{let{size:t=24,color:a="#000000",title:n="TimeIcon"}=e,r=(0,s.useId)();return(0,i.jsxs)("svg",{width:t,height:t,viewBox:"0 0 25 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r,children:[(0,i.jsx)("title",{id:r,children:n}),(0,i.jsx)("path",{d:"M12.5 2C6.99 2 2.5 6.49 2.5 12C2.5 17.51 6.99 22 12.5 22C18.01 22 22.5 17.51 22.5 12C22.5 6.49 18.01 2 12.5 2ZM16.85 15.57C16.71 15.81 16.46 15.94 16.2 15.94C16.07 15.94 15.94 15.91 15.82 15.83L12.72 13.98C11.95 13.52 11.38 12.51 11.38 11.62V7.52C11.38 7.11 11.72 6.77 12.13 6.77C12.54 6.77 12.88 7.11 12.88 7.52V11.62C12.88 11.98 13.18 12.51 13.49 12.69L16.59 14.54C16.95 14.75 17.07 15.21 16.85 15.57Z",fill:a})]})},A=e=>{let{size:t=24,color:a="#000000",title:n="AddIcon"}=e;return(0,i.jsxs)("svg",{width:t,height:t,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,i.jsx)("title",{children:n}),(0,i.jsx)("path",{d:"M6 12H18",stroke:a,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,i.jsx)("path",{d:"M12 18V6",stroke:a,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]})},U=e=>{let{size:t=24,color:a="#000000",title:n="MinusIcon"}=e;return(0,i.jsxs)("svg",{width:t,height:t,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,i.jsx)("title",{children:n}),(0,i.jsx)("path",{d:"M6 12H18",stroke:a,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]})},H=e=>{let{size:t=24,color:a="#ffffff",title:n="ImageIcon"}=e;return(0,i.jsxs)("svg",{width:t,height:t,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,i.jsx)("title",{children:n}),(0,i.jsx)("path",{d:"M21.6809 16.9599L18.5509 9.64988C17.4909 7.16988 15.5409 7.06988 14.2309 9.42988L12.3409 12.8399C11.3809 14.5699 9.5909 14.7199 8.3509 13.1699L8.1309 12.8899C6.8409 11.2699 5.0209 11.4699 4.0909 13.3199L2.3709 16.7699C1.1609 19.1699 2.9109 21.9999 5.5909 21.9999H18.3509C20.9509 21.9999 22.7009 19.3499 21.6809 16.9599Z",stroke:a,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,i.jsx)("path",{d:"M6.9707 8C8.62756 8 9.9707 6.65685 9.9707 5C9.9707 3.34315 8.62756 2 6.9707 2C5.31385 2 3.9707 3.34315 3.9707 5C3.9707 6.65685 5.31385 8 6.9707 8Z",stroke:a,strokeWidth:"1.5",strokeLinecap:"round","stroke-linejoin":"round"})]})},$=e=>{let{size:t=24,color:a="#ffffff",title:n="GalleryAddIcon"}=e;return(0,i.jsxs)("svg",{width:t,height:t,viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,i.jsx)("title",{children:n}),(0,i.jsx)("path",{d:"M9.5 10.5C10.6046 10.5 11.5 9.60457 11.5 8.5C11.5 7.39543 10.6046 6.5 9.5 6.5C8.39543 6.5 7.5 7.39543 7.5 8.5C7.5 9.60457 8.39543 10.5 9.5 10.5Z",stroke:a,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,i.jsx)("path",{d:"M13.5 2.5H9.5C4.5 2.5 2.5 4.5 2.5 9.5V15.5C2.5 20.5 4.5 22.5 9.5 22.5H15.5C20.5 22.5 22.5 20.5 22.5 15.5V10.5",stroke:a,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,i.jsx)("path",{d:"M16.25 5.5H21.75",stroke:a,strokeWidth:"1.5",strokeLinecap:"round"}),(0,i.jsx)("path",{d:"M19 8.25V2.75",stroke:a,strokeWidth:"1.5",strokeLinecap:"round"}),(0,i.jsx)("path",{d:"M3.16992 19.4501L8.09992 16.1401C8.88992 15.6101 10.0299 15.6701 10.7399 16.2801L11.0699 16.5701C11.8499 17.2401 13.1099 17.2401 13.8899 16.5701L18.0499 13.0001C18.8299 12.3301 20.0899 12.3301 20.8699 13.0001L22.4999 14.4001",stroke:a,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]})},D=e=>{let{size:t=24,color:a="#23222A",title:n="TickCircleIcon"}=e;return(0,i.jsxs)("svg",{width:t,height:t,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,i.jsx)("title",{children:n}),(0,i.jsx)("path",{d:"M12 22C17.5 22 22 17.5 22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22Z",stroke:a,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,i.jsx)("path",{d:"M7.75 11.9999L10.58 14.8299L16.25 9.16992",stroke:a,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]})};var P=a(3568),q=a(3760);let R=a(430).Z.create({baseURL:"http://localhost:4001",headers:{"Content-Type":"application/json"}});function V(e){let t=e.replace(/\D/g,"");return`+7${t}`}R.interceptors.request.use(e=>{let t=localStorage.getItem("authToken");return t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e)),R.interceptors.response.use(e=>e,e=>(e.response&&401===e.response.status&&(localStorage.removeItem("authToken"),console.log("Redirecting to login page"),window.location.href="/login"),Promise.reject(e)));let O={getEvents:async e=>(await R.get("/events",{params:e})).data.items.map(e=>{var t;return{id:e.id,title:e.name,date:new Date(e.eventDate).toLocaleDateString("ru-RU",{day:"2-digit",month:"2-digit",year:"numeric"})+` \u{432} ${e.startTime}`,location:e.location,price:`${Number(e.price).toFixed(0)}\u{20BD}`,imageUrl:(null==(t=e.poster)?void 0:t.storagePath)?`${R.defaults.baseURL}/uploads/${e.poster.storagePath}`:void 0,organization:{id:e.organization.id}}}),getTicketById:async e=>{var t;let a=(await R.get(`/tickets/${e}`)).data.ticket;return{id:a.id,code:a.code,orderNumber:a.orderNumber,event:{id:a.event.id,title:a.event.name,date:new Date(a.event.eventDate).toLocaleDateString("ru-RU",{day:"2-digit",month:"2-digit",year:"numeric"}),time:a.event.startTime,location:a.event.location,imageUrl:(null==(t=a.event.poster)?void 0:t.storagePath)?`${R.defaults.baseURL}/uploads/${a.event.poster.storagePath}`:void 0,price:Number(a.event.price)}}},getEventById:async e=>{var t,a,n,i,r;let s=(await R.get(`/events/${e}`)).data.event;return{id:s.id,title:s.name,date:new Date(s.eventDate).toLocaleDateString("ru-RU",{day:"2-digit",month:"2-digit",year:"numeric"}),time:s.startTime,imageUrl:(null==(t=s.poster)?void 0:t.storagePath)?`${R.defaults.baseURL}/uploads/${s.poster.storagePath}`:void 0,description:s.description??void 0,location:s.location,organization:{id:(null==(a=s.organization)?void 0:a.id)??s.organizationId,name:(null==(n=s.organization)?void 0:n.name)??"",avatarUrl:(null==(r=s.organization)||null==(i=r.avatar)?void 0:i.storagePath)?`${R.defaults.baseURL}/uploads/${s.organization.avatar.storagePath}`:void 0},raw:{eventDate:s.eventDate,startTime:s.startTime,organizationId:s.organizationId,categoryId:s.categoryId,cityId:s.cityId,colorId:s.colorId,maxQuantity:s.maxQuantity,posterId:s.posterId??null},price:Number(s.price)}},getCities:async()=>(await R.get("/dictionaries/cities")).data.items,getCategories:async()=>(await R.get("/dictionaries/categories")).data.items,getColors:async()=>(await R.get("/dictionaries/colors")).data.items,getStoryColors:async()=>(await R.get("/dictionaries/story-colors")).data.items,checkPhone:async e=>{let t=V(e);return(await R.post("/auth/check-phone",{telephone:t})).data},login:async(e,t)=>{let a=V(e);return(await R.post("/auth/login",{telephone:a,password:t})).data},register:async(e,t,a)=>{var n;let i=V(e),r={firstName:a.firstName||"User",lastName:a.lastName||"",...(null==(n=a.middleName)?void 0:n.trim())?{middleName:a.middleName.trim()}:{},telephone:i,password:t};return(await R.post("/auth/register",r)).data},uploadAvatar:async e=>{let t=new FormData;return t.append("file",e),(await R.post("/uploads",t,{headers:{"Content-Type":"multipart/form-data"}})).data},uploadFile:async e=>{let t=new FormData;return t.append("file",e),(await R.post("/uploads",t,{headers:{"Content-Type":"multipart/form-data"}})).data},updateMe:async e=>(await R.patch("/users/me",e)).data,getCurrentUser:async()=>(function(e){var t,a,n,i,r;let s=[e.firstName,e.middleName,e.lastName].filter(Boolean).join(" ");return{id:e.id,phone:e.telephone,name:s||void 0,avatar:(null==(t=e.avatar)?void 0:t.storagePath)?`${R.defaults.baseURL}/uploads/${e.avatar.storagePath}`:void 0,isOrganizer:(null==(a=e.role)?void 0:a.code)==="organizer",organizationId:e.organizationId??(null==(n=e.organization)?void 0:n.id)??null,organizerApplicationStatus:(null==(r=e.organizerApplications)||null==(i=r[0])?void 0:i.status)??null}})((await R.get("/auth/me")).data.user),getOrganization:async e=>{var t;let a=(await R.get(`/organizations/${e}`)).data.org;return{id:a.id,name:a.name,description:a.description??void 0,avatarUrl:(null==(t=a.avatar)?void 0:t.storagePath)?`${R.defaults.baseURL}/uploads/${a.avatar.storagePath}`:void 0,ratingAvg:a.ratingAvg??null,reviewsCount:a.reviewsCount,telephone:a.telephone??void 0,socialUrl:a.socialUrl??void 0,inn:a.inn??void 0,ogrn:a.ogrn??void 0,kpp:a.kpp??void 0,licence:a.licence??void 0}},getOrganizationEvents:async(e,t)=>(await R.get("/events",{params:{organizationId:e,...t||{}}})).data.items.map(e=>{var t;return{id:e.id,title:e.name,date:new Date(e.eventDate).toLocaleDateString("ru-RU",{day:"2-digit",month:"2-digit",year:"numeric"}),location:e.location,price:`${Number(e.price).toFixed(0)}\u{20BD}`,imageUrl:(null==(t=e.poster)?void 0:t.storagePath)?`${R.defaults.baseURL}/uploads/${e.poster.storagePath}`:void 0,time:e.startTime}}),getOrganizationDrafts:async e=>(await R.get(`/organizations/${e}/drafts`)).data.items.map(e=>{var t;return{id:e.id,title:e.name,date:e.eventDate?new Date(e.eventDate).toLocaleDateString("ru-RU",{day:"2-digit",month:"2-digit",year:"numeric"}):void 0,time:e.startTime??void 0,imageUrl:(null==(t=e.poster)?void 0:t.storagePath)?`${R.defaults.baseURL}/uploads/${e.poster.storagePath}`:void 0}}),getOrganizationStories:async e=>(await R.get(`/organizations/${e}/stories`)).data.items.map(e=>{var t;return{id:e.id,title:e.title,description:e.description??void 0,color:e.color,textColor:e.textColor,name:e.name,posterUrl:(null==(t=e.poster)?void 0:t.storagePath)?`${R.defaults.baseURL}/uploads/${e.poster.storagePath}`:void 0}}),getMySubscriptions:async()=>(await R.get("/subscriptions")).data.items.map(e=>{var t;return{id:e.id,organization:{id:e.org.id,name:e.org.name,description:e.org.description??void 0,avatarUrl:(null==(t=e.org.avatar)?void 0:t.storagePath)?`${R.defaults.baseURL}/uploads/${e.org.avatar.storagePath}`:void 0,ratingAvg:e.org.ratingAvg??null,reviewsCount:e.org.reviewsCount}}}),subscribe:async e=>(await R.post("/subscriptions",{organizationId:e})).data,unsubscribe:async e=>(await R.delete(`/subscriptions/${e}`)).data,getFavorites:async()=>(await R.get("/favorites")).data.items.map(e=>e.eventId),getFavoriteEvents:async()=>(await R.get("/favorites")).data.items.map(e=>{var t;return{id:e.event.id,title:e.event.name,date:new Date(e.event.eventDate).toLocaleDateString("ru-RU",{day:"2-digit",month:"2-digit"}),time:e.event.startTime,imageUrl:(null==(t=e.event.poster)?void 0:t.storagePath)?`${R.defaults.baseURL}/uploads/${e.event.poster.storagePath}`:void 0}}),addFavorite:async e=>(await R.post("/favorites",{eventId:e})).data,removeFavorite:async e=>(await R.delete(`/favorites/${e}`)).data,getEventPurchases:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"paid";return(await R.get("/purchases",{params:{eventId:e,statusCode:t}})).data.items.map(e=>{var t;return{user:{id:e.user.id,name:`${e.user.firstName} ${e.user.lastName}`.trim(),avatarUrl:(null==(t=e.user.avatar)?void 0:t.storagePath)?`${R.defaults.baseURL}/uploads/${e.user.avatar.storagePath}`:void 0},price:Number(e.price),serviceTax:Number(e.serviceTax)}})},getMyPurchases:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"paid";return(await R.get("/purchases",{params:{statusCode:e}})).data.items.map(e=>{var t,a,n,i;return{id:e.id,orderNumber:e.orderNumber,ticketsCount:(null==(t=e.tickets)?void 0:t.length)||0,firstTicketId:null==(n=e.tickets)||null==(a=n[0])?void 0:a.id,eventId:e.event.id,title:e.event.name,date:new Date(e.event.eventDate).toLocaleDateString("ru-RU",{day:"2-digit",month:"2-digit"}),time:e.event.startTime,imageUrl:(null==(i=e.event.poster)?void 0:i.storagePath)?`${R.defaults.baseURL}/uploads/${e.event.poster.storagePath}`:void 0,raw:{eventDate:e.event.eventDate,startTime:e.event.startTime}}})},createPurchase:async e=>{let t={eventId:e.eventId,firstName:e.firstName,lastName:e.lastName,quantity:e.quantity,statusCode:e.statusCode??"paid"};return(await R.post("/purchases",t)).data},submitOrganizerApplication:async e=>{let t=V(e.phoneDigits),a={name:e.name,description:e.description,telephone:t,socialUrl:e.socialUrl,inn:e.inn,ogrn:e.ogrn,kpp:e.kpp,licence:e.licence,...e.avatarId?{avatarId:e.avatarId}:{}};return(await R.post("/organizer-applications",a)).data},submitOrganizationUpdateApplication:async e=>{let t=V(e.phoneDigits),a={organizationId:e.organizationId,name:e.name,description:e.description,telephone:t,socialUrl:e.socialUrl,inn:e.inn,ogrn:e.ogrn,kpp:e.kpp,licence:e.licence,...e.avatarId?{avatarId:e.avatarId}:{}};return(await R.post("/organizer-applications",a)).data},updateOrganizationAvatar:async(e,t)=>(await R.patch(`/organizations/${e}`,{avatarId:t})).data,createEvent:async e=>(await R.post("/events",e)).data,updateEvent:async(e,t)=>(await R.patch(`/events/${e}`,t)).data,createOrganizationStory:async e=>{let{organizationId:t,...a}=e;return(await R.post(`/organizations/${t}/stories`,a)).data}},Z=()=>{let[e,t]=(0,s.useState)(null),{data:a,isLoading:n,refetch:i}=(0,P.a)({queryKey:["currentUser"],queryFn:async()=>{try{if(!localStorage.getItem("authToken"))return null;return await O.getCurrentUser()}catch(e){return localStorage.removeItem("authToken"),null}}}),r=(0,q.D)({mutationFn:O.checkPhone,onError:e=>{t(e)}}),l=(0,q.D)({mutationFn:e=>{let{phone:t,password:a}=e;return O.login(t,a)},onSuccess:e=>{localStorage.setItem("authToken",e.token),i()},onError:e=>{t(e)}}),o=(0,q.D)({mutationFn:async e=>{let{phone:t,password:a,names:n,avatarFile:i}=e,{token:r}=await O.register(t,a,n);if(localStorage.setItem("authToken",r),i){let{id:e}=await O.uploadAvatar(i);await O.updateMe({avatarId:e})}return{token:r}},onSuccess:()=>{i()},onError:e=>{t(e)}});return{user:a||null,isAuthenticated:!!a,isLoading:n,error:e,checkPhone:async e=>await r.mutateAsync(e),login:async(e,t)=>{await l.mutateAsync({phone:e,password:t})},register:async(e,t,a,n)=>{await o.mutateAsync({phone:e,password:t,names:a,avatarFile:n})},logout:()=>{localStorage.removeItem("authToken"),i()}}};var K=a(3387),Q=a.n(K);let X={avatar:"avatar-qbba3M",size12:"size12-E65s_A",size24:"size24-aHbJrb",size32:"size32-u1xTS0",size48:"size48-XY33N8",size64:"size64-GTGaPo",size100:"size100-mJtZd6",uploading:"uploading-Qf4626",countText:"countText-mzH7mZ"},_=e=>{let{src:t,alt:a="Avatar",size:n=32,className:r,count:s,backgroundColor:l,uploading:o=!1}=e;return(0,i.jsxs)("div",{className:Q()(X.avatar,X[`size${n}`],o&&X.uploading,r),style:l?{backgroundColor:l}:{},children:[t&&!s&&(0,i.jsx)("img",{src:t,alt:a}),o&&(0,i.jsx)(H,{size:24,color:"#575757"}),s&&(0,i.jsxs)("span",{className:X.countText,children:["+",s]})]})},J={button:"button-fwJAh7",accent:"accent-yPQONS",disabled:"disabled-fpktbW"},G=e=>{let{children:t,className:a="",accent:n=!1,disabled:r=!1,...s}=e,l=[J.button,n?J.accent:"",r?J.disabled:"",a].filter(Boolean).join(" ");return(0,i.jsx)("button",{className:l,disabled:r,...s,children:t})},Y=()=>(console.error((0,d.lk)()),(0,i.jsxs)("div",{className:"container-MQNrGT",children:[(0,i.jsx)("h1",{className:"title-oGDkmP",children:"Упс! Что-то пошло не так"}),(0,i.jsx)("p",{className:"message-eCE5ne",children:"Произошла ошибка в приложении. Пожалуйста, попробуйте еще раз."}),(0,i.jsx)("button",{type:"button",className:"button-OEszG4",onClick:()=>{window.location.href="/"},children:"Вернуться на главную"})]})),ee={iconButton:"iconButton-NZhHXh",round:"round-AAi3SJ",basic:"basic-Pdko5y",active:"active-FwJ3v_",focused:"focused-EgrB5t",disabled:"disabled-EimXY3",accent:"accent-kvFAgo",minimal:"minimal-k4hKTu",small:"small-V_Xjhp",medium:"medium-hOWlg9",large:"large-DKdvIi"},et=e=>{let{icon:t,image:a,variant:n="basic",size:r="medium",iconSize:l,iconColor:o,className:c="",onClick:d,round:u=!0,isActive:p=!1,isFocused:h=!1,disabled:m=!1,fill:v="none",...g}=e;return(0,i.jsx)("button",{className:[ee.iconButton,ee[n],ee[r],u?ee.round:"",p?ee.active:"",h?ee.focused:"",m?ee.disabled:"",c].filter(Boolean).join(" "),disabled:m,onClick:d,...g,children:(()=>{if(!t&&a)return a;if(s.isValidElement(t))return t;let e=o;return!e&&"minimal"===n&&p&&(e="#AFF940"),(0,i.jsx)(t,{size:(()=>{if(l)return l;switch(r){case"small":return 16;case"large":return 24;default:return 20}})(),color:e,fill:v})})()})},ea={eventCard:"eventCard-Lr1R47",withImage:"withImage-T2SUuv",content:"content-QSBLce",noImage:"noImage-BficxF",withMinHeight:"withMinHeight-UIW6fU",withSearch:"withSearch-pyiYoX",image:"image-BoloQR",short:"short-xAi_8H",info:"info-XXPvtB",avatar:"avatar-uzTqe1",title:"title-c_cFaa",infoWrapper:"infoWrapper-WOOWhX",infoText:"infoText-MXL9QJ",actionsWrapper:"actionsWrapper-l5kVLP",actionsLine:"actionsLine-Bj07OV",actions:"actions-bKYrJK",button:"button-rOSkGw"},en=e=>{let{title:t,date:a,location:n,imageUrl:r,short:s=!1,image:l=!0,forSearch:o=!1,onButtonClick:c,onIconClick:d,onLikeClick:u,className:p="",price:m,backgroundColor:v,textColor:g,liked:w=!1}=e,N=[ea.eventCard,l?ea.withImage:ea.noImage,s?ea.short:"",!s?ea.withMinHeight:"",o?ea.withSearch:"",p].filter(Boolean).join(" ");return(0,i.jsxs)("div",{className:N,children:[l&&r&&(0,i.jsx)("img",{src:r,alt:t,className:ea.image}),(0,i.jsxs)("div",{className:ea.content,style:{backgroundColor:v},children:[(0,i.jsx)("h3",{className:ea.title,style:{color:g},children:t}),!o&&(a||n||m)&&(0,i.jsxs)("div",{className:ea.info,children:[a&&(0,i.jsxs)("span",{className:ea.infoWrapper,children:[(0,i.jsx)(C,{size:16,color:g}),(0,i.jsx)("span",{className:ea.infoText,style:{color:g},children:a})]}),n&&(0,i.jsxs)("span",{className:ea.infoWrapper,children:[(0,i.jsx)(j,{size:16,color:g}),(0,i.jsx)("span",{className:ea.infoText,style:{color:g},children:n})]}),m&&(0,i.jsxs)("span",{className:ea.infoWrapper,children:[(0,i.jsx)(f,{size:16,color:g}),(0,i.jsx)("span",{className:ea.infoText,style:{color:g},children:m})]})]})]}),!s&&(0,i.jsxs)("div",{className:ea.actionsWrapper,children:[!o&&(0,i.jsxs)("div",{className:ea.actionsLine,children:[(0,i.jsx)(et,{icon:(0,i.jsx)("img",{src:"./avatars/1.webp",alt:"avatar",className:ea.avatar}),onClick:d,iconColor:"#151515",iconSize:24}),(0,i.jsx)(et,{icon:x,onClick:u,iconColor:w?"#212C3A":"#151515",variant:w?"accent":"basic",iconSize:24,fill:w?"#212C3A":"none"})]}),(0,i.jsxs)("div",{className:ea.actions,children:[(0,i.jsx)(G,{accent:!0,onClick:c,className:ea.button,children:"К событию"}),!o&&(0,i.jsx)(et,{icon:h,onClick:d,iconColor:"#151515",iconSize:24})]})]})]})},ei={header:"header-e3kZGF",contentWrapper:"contentWrapper-hOGDvv",topRow:"topRow-xdlumN",leftButton:"leftButton-GA72dS",logoContainer:"logoContainer-I_Ewlz",logo:"logo-n9cgWy",rightButton:"rightButton-uM55ce",searchRow:"searchRow-dUo7du",searchInputContainer:"searchInputContainer-j1oy29",bottomRow:"bottomRow-Xq3gZw",combinedRow:"combinedRow-OS4UfW",pageName:"pageName-liXSfy"},er={container:"container-qDolEX",inputWrapper:"inputWrapper-eUKKyb",disabled:"disabled-Akmlag",input:"input-wuDgXD",searchIcon:"searchIcon-mC2xvX"},es=(0,s.forwardRef)((e,t)=>{let{className:a,disabled:n=!1,...r}=e,s=r.id||`search-input-${Math.random().toString(36).substring(2,9)}`;return(0,i.jsx)("div",{className:`${er.container} ${a||""}`,children:(0,i.jsxs)("div",{className:`${er.inputWrapper} ${n?er.disabled:""}`,children:[(0,i.jsx)("div",{className:er.searchIcon,children:(0,i.jsx)(y,{color:"#626974",size:20})}),(0,i.jsx)("input",{ref:t,id:s,className:er.input,placeholder:"Поиск",disabled:n,...r})]})})});es.displayName="SearchInput";let el=e=>{let{pageName:t,showLeftButton:a=!0,showLogo:n=!0,showRightButton:r=!0,showSearchInput:l=!1,showFilterButton:o=!1,onLeftButtonClick:c,onRightButtonClick:d,onFilterButtonClick:p,onSearchChange:h}=e,[g,x]=(0,s.useState)("auto"),C=(0,s.useRef)(null),[j,f]=(0,s.useState)("");(0,s.useMemo)(()=>new URLSearchParams(window.location.search),[]),(0,s.useLayoutEffect)(()=>{let e=C.current;e&&x(e.scrollHeight)},[t,a,n,r,l,o]),(0,s.useLayoutEffect)(()=>{l&&f(new URLSearchParams(window.location.search).get("q")||"")},[l]);let w=a||n||r,N=!n&&t&&(a||r);return(0,i.jsx)("header",{className:ei.header,children:(0,i.jsxs)("div",{ref:C,className:ei.contentWrapper,children:[w&&!N&&(0,i.jsxs)("div",{className:ei.topRow,children:[(0,i.jsx)("div",{className:ei.leftButton,children:a&&(0,i.jsx)(et,{icon:u,variant:"minimal",iconColor:"#151515",onClick:c})}),(0,i.jsx)("div",{className:ei.logoContainer,children:n&&(0,i.jsx)("div",{className:ei.logo,children:(0,i.jsx)(v,{})})}),(0,i.jsx)("div",{className:ei.rightButton,children:r&&(0,i.jsx)(et,{icon:m,variant:"minimal",iconColor:"#FFFFFF",onClick:d})})]}),(l||o)&&(0,i.jsxs)("div",{className:ei.searchRow,children:[l&&(0,i.jsx)("div",{className:ei.searchInputContainer,children:(0,i.jsx)(es,{value:j,onChange:e=>{f(e.target.value),null==h||h(e)}})}),o&&(0,i.jsx)(et,{icon:F,variant:"basic",onClick:p})]}),N?(0,i.jsxs)("div",{className:ei.combinedRow,children:[(0,i.jsx)("div",{className:ei.leftButton,children:a&&(0,i.jsx)(et,{icon:u,variant:"minimal",iconColor:"#151515",size:"small",onClick:c})}),(0,i.jsx)("div",{className:ei.pageName,children:t}),(0,i.jsx)("div",{className:ei.rightButton,children:r&&(0,i.jsx)(et,{icon:m,variant:"minimal",iconColor:"#FFFFFF",size:"small",onClick:d})})]}):t?(0,i.jsx)("div",{className:ei.bottomRow,children:(0,i.jsx)("div",{className:ei.pageName,children:t})}):null]})})},eo=e=>{let{value:t,onChange:a,error:n}=e,[r,l]=(0,s.useState)(!1);return(0,i.jsxs)("div",{className:"inputContainer-F5mdfC",children:[(0,i.jsx)("div",{className:"phonePrefix-y5BSRa",children:"+7"}),(0,i.jsx)("input",{type:"tel",value:(e=>{if(!e)return"";let t="";return e.length>0&&(t+="(",t+=e.slice(0,Math.min(3,e.length)),t+=e.length>3?") ":""),e.length>3&&(t+=e.slice(3,Math.min(6,e.length)),t+=e.length>6?" ":""),e.length>6&&(t+=e.slice(6,Math.min(8,e.length)),t+=e.length>8?" ":""),e.length>8&&(t+=e.slice(8,10)),t})(t),onChange:e=>{a(e.target.value.replace(/\D/g,"").slice(0,10))},className:"input-hC73GA",placeholder:"(999) 999 99 99",onFocus:()=>l(!0),onBlur:()=>l(!1)})]})},ec={pills:"pills-TfXT14",leftContainer:"leftContainer-g725gK",iconContainer:"iconContainer-nijVVH",content:"content-yTKzt5",primaryText:"primaryText-CACMLC",secondaryText:"secondaryText-a2PybI",rightIcon:"rightIcon-tCifue"},ed=e=>{let{icon:t,avatar:a,primaryText:n,secondaryText:r,rightIcon:s,className:l,onClick:o,iconColor:c="#FFFFFF"}=e,d=(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:ec.leftContainer,children:[(t||a)&&(0,i.jsxs)("div",{className:ec.iconContainer,children:[t&&(0,i.jsx)(t,{size:n&&r?32:24,color:"#FFFFFF"}),a&&(0,i.jsx)(_,{src:a.src,size:a.size||24,count:a.count,backgroundColor:a.backgroundColor})]}),(n||r)&&(0,i.jsxs)("div",{className:ec.content,children:[r&&(0,i.jsx)("span",{className:ec.secondaryText,children:r}),n&&(0,i.jsx)("span",{className:ec.primaryText,children:n})]})]}),s&&(0,i.jsx)("div",{className:ec.rightIcon,children:(0,i.jsx)(s,{size:24,color:c})})]});return(0,i.jsx)(o?"button":"div",{className:Q()(ec.pills,l),onClick:o,type:o?"button":void 0,children:d})},eu={container:"container-ZTOadf",label:"label-HiNG0M",inputWrapper:"inputWrapper-LINuxs",disabled:"disabled-zjUvz7",error:"error-V26AXg",input:"input-DAczJS",suffix:"suffix-iEkdvm",caret:"caret-kwlMeS",clearButton:"clearButton-pZskiX",dropdown:"dropdown-hvH28p",option:"option-rckLH7",selected:"selected-yWZkp2",highlighted:"highlighted-r6rnfr",noOptions:"noOptions-Cw8J8g",errorText:"errorText-VXyXq8",hint:"hint-KSgchH"},ep=(0,s.forwardRef)((e,t)=>{let{label:a,error:n,hint:r,disabled:l=!1,options:o,placeholder:c,value:d,onChange:u,inputValue:p,onInputChange:h,className:m,noOptionsText:v="Ничего не найдено"}=e,[x,C]=(0,s.useState)(""),[j,f]=(0,s.useState)(!1),[w,N]=(0,s.useState)(-1),y=(0,s.useRef)(null),b=(0,s.useRef)(null),k=(0,s.useMemo)(()=>`autocomplete-${Math.random().toString(36).substring(2,9)}`,[]),L=void 0!==p?p:x,S=(0,s.useMemo)(()=>{let e=L.trim().toLowerCase();return e?o.filter(t=>t.label.toLowerCase().includes(e)||t.value.toLowerCase().includes(e)):o},[L,o]),I=(0,s.useMemo)(()=>d&&o.find(e=>e.value===d)||null,[d,o]),T=e=>{h?h(e):C(e)},B=()=>{l||f(!0)},F=()=>{f(!1),N(-1)},z=e=>{null==u||u(e.value),T(e.label),F()};(0,s.useEffect)(()=>{let e=e=>{y.current&&(y.current.contains(e.target)||F())};return document.addEventListener("mousedown",e),document.addEventListener("touchstart",e,{passive:!0}),()=>{document.removeEventListener("mousedown",e),document.removeEventListener("touchstart",e)}},[]),(0,s.useEffect)(()=>{if(!b.current||w<0)return;let e=b.current.children[w];null==e||e.scrollIntoView({block:"nearest"})},[w]);let M=!!L&&!l;return(0,i.jsxs)("div",{ref:y,className:`${eu.container}`,children:[a&&(0,i.jsx)("label",{htmlFor:k,className:eu.label,children:a}),(0,i.jsxs)("div",{className:`${eu.inputWrapper} ${n?eu.error:""} ${l?eu.disabled:""} ${m||""}`,onClick:B,children:[(0,i.jsx)("input",{ref:t,id:k,className:eu.input,placeholder:c,value:L,onChange:e=>{T(e.target.value),B()},onFocus:B,onKeyDown:e=>{if(!l){if("ArrowDown"===e.key){e.preventDefault(),B(),N(e=>Math.min(e+1,S.length-1));return}if("ArrowUp"===e.key){e.preventDefault(),B(),N(e=>Math.max(e-1,0));return}if("Enter"===e.key){j&&w>=0&&w<S.length&&(e.preventDefault(),z(S[w]));return}if("Escape"===e.key)return void F()}},disabled:l,role:"combobox","aria-expanded":j,"aria-controls":`${k}-list`,"aria-autocomplete":"list"}),M&&(0,i.jsx)("button",{type:"button",className:eu.clearButton,onClick:()=>{T(""),null==u||u(null),B()},"aria-label":"Очистить",children:(0,i.jsx)(g,{})}),(0,i.jsx)("div",{className:eu.suffix,"aria-hidden":!0,children:(0,i.jsx)("span",{className:eu.caret})})]}),j&&(0,i.jsxs)("ul",{id:`${k}-list`,className:eu.dropdown,role:"listbox",ref:b,children:[0===S.length&&(0,i.jsx)("li",{className:eu.noOptions,"aria-disabled":!0,children:v}),S.map((e,t)=>{let a=(null==I?void 0:I.value)===e.value,n=t===w;return(0,i.jsx)("li",{role:"option","aria-selected":a,className:`${eu.option} ${a?eu.selected:""} ${n?eu.highlighted:""}`,onMouseEnter:()=>N(t),onMouseDown:e=>e.preventDefault(),onClick:()=>z(e),children:e.label},e.value)})]}),n&&(0,i.jsx)("p",{className:eu.errorText,children:n}),!n&&r&&(0,i.jsx)("p",{className:eu.hint,children:r})]})});ep.displayName="AutocompleteSelect";var eh=a(976);let em={container:"container-N6uj5Q",noAdd:"noAdd-BlJ37g",item:"item-PJFUvV",activeItem:"activeItem-sAZZJT",homeItem:"homeItem-o7dDiI",searchItem:"searchItem-xvIWFS",addItem:"addItem-dO6fEe",addEnlarged:"addEnlarged-xPrr9b",ticketItem:"ticketItem-uosKkL",profileItem:"profileItem-HWdot3"},ev=e=>{let{children:t,className:a="",hasAdd:n=!0}=e,r=[em.container,!n?em.noAdd:"",a].filter(Boolean).join(" ");return(0,i.jsx)(eh.E.div,{className:r,initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{type:"spring",stiffness:500,damping:30},children:t})},eg=e=>{let{type:t,isActive:a,activeItem:n,onClick:r}=e,s="event-create"===t&&"main"===n;return(0,i.jsx)("button",{className:`
        ${em.item} 
        ${(()=>{switch(t){case"main":return em.homeItem;case"search":return em.searchItem;case"event-create":return em.addItem;case"ticket":return em.ticketItem;case"profile":return em.profileItem;default:return""}})()} 
        ${a?em.activeItem:""} 
        ${s?em.addEnlarged:""}
      `,onClick:r,"aria-label":`${t} navigation`,type:"button",children:(()=>{let e="#FFFFFF",n="#212C3A";switch(t){case"main":return a?(0,i.jsx)(N,{size:32,color:n}):(0,i.jsx)(w,{size:32,color:e});case"search":return a?(0,i.jsx)(b,{size:32,color:n}):(0,i.jsx)(y,{size:32,color:e});case"event-create":return a?(0,i.jsx)(L,{size:32,color:n}):(0,i.jsx)(k,{size:32,color:s?"#212C3A":"#FFFFFF"});case"ticket":return a?(0,i.jsx)(I,{size:32,color:n}):(0,i.jsx)(S,{size:32,color:e});case"profile":return a?(0,i.jsx)(B,{size:32,color:n}):(0,i.jsx)(T,{size:32,color:e});default:return null}})()})},ex={stepper:"stepper-DIdT6i",stepContainer:"stepContainer-LKsSH4",step:"step-ykmz22",connector:"connector-ytVtTA",connectorCompleted:"connectorCompleted-L5dIbJ",active:"active-VZOuJu",completed:"completed-eO4L70",label:"label-odK1V8",activeLabel:"activeLabel-zw7DVP"},eC=e=>{let{steps:t,currentStep:a,labels:n,className:r,onStepClick:s}=e;return(0,i.jsxs)("div",{className:`${ex.stepper} ${r||""}`,children:[Array.from({length:t-1},(e,n)=>(0,i.jsx)("div",{className:`${ex.connector} ${n+2<=a?ex.connectorCompleted:""}`,style:{left:`calc(${n/(t-1)*100}% + 16px)`,right:`calc(${100-(n+1)/(t-1)*100}% + 16px)`}},`connector-${n+1}`)),Array.from({length:t},(e,t)=>{let r=t+1,l=r===a,o=r<a,c=r<=a+1;return(0,i.jsxs)("div",{className:ex.stepContainer,children:[(0,i.jsx)("button",{className:`${ex.step} ${l?ex.active:""} ${o?ex.completed:""}`,onClick:()=>c&&void(s&&r<=a+1&&s(r)),onKeyDown:e=>{("Enter"===e.key||" "===e.key)&&r<=a+1&&s&&s(r)},disabled:!c,"aria-label":`Step ${r}${(null==n?void 0:n[t])?`: ${n[t]}`:""}`,type:"button",children:o?(0,i.jsx)(W,{size:24,color:"#23222A"}):(0,i.jsxs)("span",{children:[r<10&&(null==n?void 0:n.length)?"":"0",r]})}),n&&n[t]&&(0,i.jsx)("div",{className:`${ex.label} ${l?ex.activeLabel:""}`,children:n[t]})]},`step-${r}`)})]})},ej=e=>{let{title:t,stories:a,avatarSize:n=64,className:r,onStoryClick:l}=e,o=(0,s.useRef)(null),[c,d]=(0,s.useState)(!1),[u,p]=(0,s.useState)(0),[h,m]=(0,s.useState)(0);return(0,s.useEffect)(()=>{let e=()=>{d(!1)};return document.addEventListener("mouseup",e),()=>{document.removeEventListener("mouseup",e)}},[]),(0,i.jsxs)("div",{className:`container-RPV_Rh ${r||""}`,children:[(0,i.jsx)("h2",{className:"title-eveA6y",children:t}),(0,i.jsx)("ul",{className:"scrollContainer-CBj2ea",ref:o,"aria-label":"Stories scrollable list",onMouseDown:e=>{o.current&&(d(!0),p(e.pageX-o.current.offsetLeft),m(o.current.scrollLeft))},onMouseUp:()=>{d(!1)},onMouseLeave:()=>{d(!1)},onMouseMove:e=>{if(!c||!o.current)return;e.preventDefault();let t=e.pageX-o.current.offsetLeft;o.current.scrollLeft=h-(t-u)*1.5},children:a.map((e,t)=>(0,i.jsx)("li",{className:"storyItem-VkCkYB",children:(0,i.jsx)("button",{type:"button",className:"storyButton-J9KQyA",onClick:()=>{l&&!c&&l(t)},"aria-label":`View story ${e.name||e.title||t+1}`,children:(0,i.jsx)(_,{size:n,src:e.imageUrl})})},e.id))})]})},ef={button:"button-vGMI0P",accent:"accent-sqaQrn",disabled:"disabled-nb_AU1",content:"content-x95vnI",indicator:"indicator-xomZVU"},ew=e=>{let{children:t,className:a="",accent:n=!1,disabled:r=!1,...s}=e,l=[ef.button,n?ef.accent:"",r?ef.disabled:"",a].filter(Boolean).join(" ");return(0,i.jsxs)("button",{className:l,disabled:r,...s,children:[(0,i.jsx)("span",{className:ef.content,children:t}),n&&(0,i.jsx)(eh.E.span,{layoutId:"tab-indicator",transition:{type:"spring",bounce:0,duration:.5},className:ef.indicator})]})};var eN=a(3357);let ey={container:"container-nDsQSH",title:"title-MSRomb",tabGroup:"tabGroup-VKaLMj"},eb=e=>{let{children:t,title:a,className:n=""}=e,r=[ey.container,n].filter(Boolean).join(" ");return(0,i.jsxs)("div",{className:r,children:[a&&(0,i.jsx)("h3",{className:ey.title,children:a}),(0,i.jsx)("div",{className:ey.tabGroup,children:(0,i.jsx)(eN.M,{children:t})})]})},ek={container:"container-ciAcia",label:"label-jWkx7f",inputWrapper:"inputWrapper-NZv9mB",disabled:"disabled-fkiNWI",error:"error-OVmn0E",input:"input-K5Jopd",prefix:"prefix-JolH3t",suffix:"suffix-Yo7f1B",clearButton:"clearButton-SBYNWK",errorText:"errorText-nQa0l1",hint:"hint-jsmnau"},eL=(0,s.forwardRef)((e,t)=>{let{label:a,error:n,hint:r,prefixElement:l,suffixElement:o,className:c,showClearButton:d=!0,onClear:u,id:p,value:h,onChange:m,disabled:v=!1,multiline:x=!1,rows:C=1,...j}=e,f=p||`text-field-${Math.random().toString(36).substring(2,9)}`,[w,N]=(0,s.useState)(""),y=void 0!==h?String(h):w,b=d&&y&&!v,k=e=>{N(e.target.value),m&&m(e)};return(0,i.jsxs)("div",{className:`${ek.container}`,children:[a&&(0,i.jsx)("label",{htmlFor:f,className:ek.label,children:a}),(0,i.jsxs)("div",{className:`${ek.inputWrapper} ${n?ek.error:""} ${v?ek.disabled:""} ${c}`,children:[l&&(0,i.jsx)("div",{className:ek.prefix,children:l}),x?(0,i.jsx)("textarea",{id:f,className:ek.input,value:void 0!==h?h:w,onChange:k,disabled:v,rows:C,...j}):(0,i.jsx)("input",{ref:t,id:f,className:ek.input,value:void 0!==h?h:w,onChange:k,disabled:v,...j}),b&&(0,i.jsx)("button",{type:"button",className:ek.clearButton,onClick:()=>{N(""),u&&u(),m&&m({target:{value:""}})},children:(0,i.jsx)(g,{})}),o&&(0,i.jsx)("div",{className:ek.suffix,children:o})]}),n&&(0,i.jsx)("p",{className:ek.errorText,children:n}),!n&&r&&(0,i.jsx)("p",{className:ek.hint,children:r})]})});eL.displayName="TextField";var eS=a(5710);let eI=e=>{let{position:t="top-center",autoClose:a=3e3,hideProgressBar:n=!0,closeOnClick:r=!1,pauseOnHover:s=!0,draggable:l=!0}=e;return(0,i.jsx)(eS.Ix,{position:t,autoClose:a,hideProgressBar:n,newestOnTop:!0,closeOnClick:r,rtl:!1,transition:eS.Mi,pauseOnFocusLoss:!0,draggable:l,pauseOnHover:s,closeButton:!1,limit:1})},eT=e=>{let{text:t,className:a}=e;return(0,i.jsxs)("div",{className:`container-oSb3TP ${a??""}`,children:[(0,i.jsx)("div",{className:"logoContainer-WUneKt",children:(0,i.jsx)("div",{className:"logo-jzNE9u",children:(0,i.jsx)(v,{width:76,height:27})})}),(0,i.jsx)("div",{className:"text-EMgyhx",children:t})]})},eB={container:"container-UEsfU6",content:"content-iHiQG5",form:"form-DTqZ5h",logoContainer:"logoContainer-Fgzi_B",logo:"logo-q0LXMz",phoneText:"phoneText-q4sC0R",buttonGroup:"buttonGroup-vX3uyj",passwordContainer:"passwordContainer-xI71Y1",uploadButton:"uploadButton-mtGCHb",hiddenInput:"hiddenInput-XYX60O",uploadButtonText:"uploadButtonText-i_NwWX",avatarContainer:"avatarContainer-KAcXZm"},eF=e=>{let{firstName:t,lastName:a,middleName:n,error:r,isLoading:l,onFirstNameChange:o,onLastNameChange:c,onMiddleNameChange:d,onAvatarChange:u,onSave:p,onCancel:h}=e,[m,v]=(0,s.useState)(null),g=()=>{var e;null==(e=C.current)||e.click()},x=()=>{v(null),u(null)},C=(0,s.useRef)(null);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:eB.avatarContainer,children:[(0,i.jsx)(_,{src:m,size:100,uploading:null===m,backgroundColor:"#39394040"}),(0,i.jsx)("input",{type:"file",ref:C,onChange:e=>{var t;let a=null==(t=e.target.files)?void 0:t[0];if(a){let e=new FileReader;e.onloadend=()=>{v(e.result)},e.readAsDataURL(a),u(a)}},accept:"image/*",className:eB.hiddenInput}),(0,i.jsxs)("button",{type:"button",className:eB.uploadButton,onClick:m?x:g,onKeyDown:e=>{("Enter"===e.key||" "===e.key)&&(m?x():g())},children:[(0,i.jsx)($,{size:24,color:"#ffffff"}),(0,i.jsx)("span",{className:eB.uploadButtonText,children:m?"Удалить фото":"Добавить фото"})]})]}),(0,i.jsx)(eL,{label:"Фамилия",placeholder:"Иванов",value:a,onChange:c,error:r||void 0,required:!0}),(0,i.jsx)(eL,{label:"Имя",placeholder:"Иван",value:t,onChange:o,error:r||void 0,required:!0}),(0,i.jsx)(eL,{label:"Отчество (необязательно)",placeholder:"Иванович",value:n,onChange:d}),(0,i.jsxs)("div",{className:eB.buttonGroup,children:[(0,i.jsx)(G,{onClick:p,disabled:l,type:"button",accent:!0,children:"Сохранить"}),(0,i.jsx)(G,{onClick:h,type:"button",children:"Отменить"})]})]})},ez=e=>{let{phoneExists:t,password:a,confirmPassword:n,error:r,isLoading:s,onPasswordChange:l,onConfirmPasswordChange:o,onContinue:c,onBack:d}=e,u=/[A-Z]/.test(a),p=/\d/.test(a),h=/[^A-Za-z0-9]/.test(a),m=a.length>=8,v=!1===t&&a.length>0&&!(u&&p&&h&&m)?"Пароль должен быть не менее 8 символов и содержать минимум одну заглавную букву, специальный символ и цифру":r||void 0,g=0===n.length&&a.length>0?"Повторите пароль":n.length>0&&n!==a?"Пароли не совпадают":r||void 0;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("p",{className:eB.phoneText,children:t?"Введите пароль":"Придумайте пароль"}),(0,i.jsxs)("div",{className:eB.passwordContainer,children:[(0,i.jsx)(eL,{label:"Пароль",hint:t?void 0:"Пароль должен содержать минимум одну заглавную букву, специальный символ и цифру",placeholder:"Введите пароль",value:a,onChange:e=>l(e),error:v,type:"password"}),(0,i.jsx)(eL,{label:"Повторите пароль",placeholder:"Введите пароль",value:n,onChange:e=>o(e),error:g,type:"password"})]}),(0,i.jsxs)("div",{className:eB.buttonGroup,children:[(0,i.jsx)(G,{onClick:c,disabled:s,type:"button",children:s?"Загрузка...":"Продолжить"}),(0,i.jsx)(G,{onClick:()=>{d(),l({target:{value:""}}),o({target:{value:""}})},type:"button",children:"Назад"})]})]})},eM=e=>{let{phone:t,error:a,isLoading:n,onPhoneChange:r,onContinue:s}=e;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(eo,{value:t,onChange:r,error:a||void 0}),(0,i.jsx)(G,{onClick:s,disabled:n,type:"button",children:n?"Проверка...":"Продолжить"})]})};var eW=a(6889),eE=a(4392);let eA={eventCard:"eventCard-zFRY_T",withImage:"withImage-ggHKAh",content:"content-KNUeDx",noImage:"noImage-huOyws",image:"image-oMg_kv",title:"title-DviTRc",info:"info-I95P4q",infoWrapper:"infoWrapper-OOE4uW",infoText:"infoText-s13upS",actionsWrapper:"actionsWrapper-DQrHBW",actions:"actions-TNUJ7R",button:"button-s1FEgp"},eU=e=>{let{title:t,date:a,location:n,imageUrl:r,image:s=!0,onButtonClick:l,className:o="",price:c,isFront:d,backgroundColor:u,textColor:p}=e,h=[eA.eventCard,s?eA.withImage:eA.noImage,o].filter(Boolean).join(" ");return(0,i.jsxs)("div",{className:h,children:[s&&r&&(0,i.jsx)("img",{src:r,alt:t,className:eA.image,draggable:"false",style:{pointerEvents:"none"}}),(0,i.jsxs)("div",{className:eA.content,style:{backgroundColor:u},children:[(0,i.jsx)("h3",{className:eA.title,style:{color:p},children:t}),(a||n||c)&&(0,i.jsxs)("div",{className:eA.info,children:[a&&(0,i.jsxs)("span",{className:eA.infoWrapper,children:[(0,i.jsx)(C,{size:16,color:p}),(0,i.jsx)("span",{className:eA.infoText,style:{color:p},children:a})]}),n&&(0,i.jsxs)("span",{className:eA.infoWrapper,children:[(0,i.jsx)(j,{size:16,color:p}),(0,i.jsx)("span",{className:eA.infoText,style:{color:p},children:n})]}),c&&(0,i.jsxs)("span",{className:eA.infoWrapper,children:[(0,i.jsx)(f,{size:16,color:p}),(0,i.jsx)("span",{className:eA.infoText,style:{color:p},children:c})]})]})]}),d&&(0,i.jsx)("div",{className:eA.actionsWrapper,children:(0,i.jsx)("div",{className:eA.actions,children:(0,i.jsx)(G,{accent:!0,onClick:l,className:eA.button,children:"К событию"})})})]})},eH=e=>{let{uuid:t,title:a,date:n,location:r,price:l,imageUrl:o,setCards:c,cards:d,onButtonClick:u,onPositiveSwipe:p,onNegativeSwipe:h}=e,m=(0,eW.c)(0),v=(0,eE.H)(m,[-150,150],[-18,18]),g=(0,eE.H)(m,[-150,0,150],[0,1,0]),x=(0,s.useRef)(null),C=t===d[d.length-1].uuid,j=(0,eE.H)(()=>`${v.get()}deg`);return(0,s.useEffect)(()=>{let e=x.current;if(!e||!C)return;let t=e=>{C&&e.preventDefault()};return e.addEventListener("touchmove",t,{passive:!1}),()=>{e.removeEventListener("touchmove",t)}},[C]),(0,i.jsx)(eh.E.div,{ref:x,className:"cardWrapper-QPRfo0",style:{gridRow:1,gridColumn:1,x:m,opacity:g,rotate:j,transition:"0.125s transform"},animate:{scale:C?1:.98},drag:!!C&&"x",dragConstraints:{left:0,right:0},onDragEnd:()=>{let e=m.get();Math.abs(e)>50&&(c(e=>e.filter(e=>e.uuid!==t)),e>50?null==p||p():null==h||h())},onTouchMove:e=>{C&&e.preventDefault()},children:(0,i.jsx)(eU,{title:a,date:n,location:r,price:l,imageUrl:o||"",image:!!o,isFront:C,onButtonClick:u})},t)},e$=e=>{let{events:t,onPositiveSwipe:a,onNegativeSwipe:n}=e,[r,l]=(0,s.useState)(t),o=(0,s.useRef)(null),c=(0,d.s0)();return(0,s.useEffect)(()=>{let e=o.current;if(!e)return;let t=e=>{e.preventDefault()};return e.addEventListener("touchstart",e=>e.stopPropagation()),e.addEventListener("touchmove",t,{passive:!1}),()=>{e.removeEventListener("touchmove",t)}},[]),console.log(r),(0,i.jsx)("div",{ref:o,className:"container-i_vDwA",onTouchStart:e=>e.stopPropagation(),children:r.map(e=>(0,i.jsx)(eH,{cards:r,onButtonClick:()=>{c(`/event/${e.uuid}`)},onPositiveSwipe:()=>null==a?void 0:a(e.uuid,e.uuid),onNegativeSwipe:()=>null==n?void 0:n(e.uuid,e.uuid),setCards:l,...e},e.uuid))})};var eD=a(340),eP=a.n(eD);let eq={storiesOverlay:"storiesOverlay-_5Wjht",storiesModal:"storiesModal-X6W7a5"},eR=e=>{let{isOpen:t,onClose:a,companies:n,currentCompanyIndex:r,setCurrentCompanyIndex:l}=e,o=(0,s.useRef)(null);return((0,s.useEffect)(()=>{t&&o.current&&o.current.focus()},[t]),(0,s.useEffect)(()=>{let e=e=>{t&&"Escape"===e.key&&a()};return t&&document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[t,a]),t)?(0,i.jsx)("div",{className:eq.storiesOverlay,onClick:e=>{e.target===e.currentTarget&&a()},onKeyDown:e=>{"Escape"===e.key&&a()},role:"dialog","aria-modal":"true","aria-label":"Stories viewer",children:(0,i.jsx)("div",{ref:o,className:eq.storiesModal,tabIndex:-1,children:(0,i.jsx)(eP(),{defaultInterval:4001,width:"100%",preloadCount:3,height:"100%",progressContainerStyles:{paddingTop:"10px",paddingLeft:"20px",paddingRight:"20px",paddingBottom:"20px"},loop:!0,keyboardNavigation:!0,stories:n[r].stories,onAllStoriesEnd:()=>{r<n.length-1?l(r+1):a()}})})}):null},eV=[{id:1,name:"Company 1",avatarUrl:"/avatars/1.webp",stories:[{url:"/avatars/1.webp",duration:4001}]},{id:2,name:"Company 1",avatarUrl:"/avatars/2.avif",stories:[{url:"/avatars/1.webp",duration:4001}]}],eO=e=>{let{companies:t=eV}=e,[a,n]=(0,s.useState)(!1),[r,l]=(0,s.useState)(0),o=(0,s.useCallback)(()=>{n(!1)},[]);return(0,i.jsxs)("div",{className:"container-iA4rZ2",children:[(0,i.jsx)(ej,{title:"Сторисы",stories:t.map(e=>({id:e.id,imageUrl:e.avatarUrl,name:e.name})),avatarSize:64,onStoryClick:e=>{l(e),n(!0)}}),(0,i.jsx)(eR,{isOpen:a,onClose:o,companies:t,currentCompanyIndex:r,setCurrentCompanyIndex:l})]})},eZ={container:"container-ESsjP9",storiesContainer:"storiesContainer-wIxf4o",visible:"visible-bLDa6F",hidden:"hidden-mCoHuP",tabsContainer:"tabsContainer-kXsRu2",sectionBody:"sectionBody-oFk7fB",eventsContainer:"eventsContainer-EAsPhu",swiperMode:"swiperMode-QeuIwD"};var eK=a(9469),eQ=a(7120);let eX=()=>{let[e,t]=(0,s.useState)("poster"),a=(0,d.s0)(),n=(0,eK.NL)(),{isAuthenticated:r}=Z(),{data:l}=(0,P.a)({queryKey:["events"],queryFn:()=>O.getEvents()}),{data:o=[]}=(0,P.a)({queryKey:["favorites"],queryFn:()=>O.getFavorites(),enabled:r}),{data:c=[]}=(0,P.a)({queryKey:["mySubscriptions"],enabled:r,queryFn:()=>O.getMySubscriptions()}),u=(0,s.useMemo)(()=>r&&c.length>0?c.map(e=>e.organization.id):Array.from(new Set((l??[]).map(e=>e.organization.id))),[r,c,l]),p=(0,eQ.h)({queries:u.map(e=>({queryKey:["organization-stories",e],queryFn:()=>O.getOrganizationStories(e),enabled:!!e}))}),h=(0,eQ.h)({queries:r&&c.length>0?[]:u.map(e=>({queryKey:["organization",e],queryFn:()=>O.getOrganization(e),enabled:!!e}))}),m=(0,s.useMemo)(()=>u.map((e,t)=>{var a,n,i;let r=(null==(a=c.find(t=>t.organization.id===e))?void 0:a.organization)||(null==(n=h[t])?void 0:n.data),s=(null==r?void 0:r.name)||"Организация",l=(null==r?void 0:r.avatarUrl)||"/avatars/1.webp",o=((null==(i=p[t])?void 0:i.data)||[]).map(e=>({url:e.posterUrl||l,duration:4001,header:{heading:e.title,subheading:e.description||"",profileImage:l}}));return{id:t+1,name:s,avatarUrl:l,stories:o}}),[u,c,p,h]),v=(0,q.D)({mutationFn:e=>O.addFavorite(e),onSuccess:()=>{n.invalidateQueries({queryKey:["favorites"]})}}),g=(0,q.D)({mutationFn:e=>O.removeFavorite(e),onSuccess:()=>{n.invalidateQueries({queryKey:["favorites"]})}}),x=(0,s.useMemo)(()=>(l??[]).map(e=>({uuid:String(e.id),title:e.title,date:e.date,location:e.location,price:e.price,imageUrl:e.imageUrl})),[l]);return(0,i.jsxs)("div",{className:eZ.container,children:[(0,i.jsx)("div",{className:`${eZ.storiesContainer} ${"poster"===e?eZ.visible:eZ.hidden}`,children:(0,i.jsx)(eO,{companies:m})}),(0,i.jsxs)("div",{className:eZ.sectionBody,children:[(0,i.jsxs)(eb,{title:"События",className:eZ.tabsContainer,children:[(0,i.jsx)(ew,{accent:"poster"===e,onClick:()=>t("poster"),children:"Афишой"},"poster"),(0,i.jsx)(ew,{accent:"swiper"===e,onClick:()=>t("swiper"),children:"Свайпер"},"swiper")]},"tabs"),(0,i.jsx)("div",{className:`${eZ.eventsContainer} ${"swiper"===e?eZ.swiperMode:""}`,children:"poster"===e?(l??[]).map(e=>(0,i.jsx)(en,{title:e.title,date:e.date,location:e.location,price:e.price,imageUrl:e.imageUrl,image:!!e.imageUrl,liked:o.includes(String(e.id)),onIconClick:()=>{a(`/organizer/${e.organization.id}`)},onButtonClick:()=>{a(`/event/${e.id}`)},onLikeClick:()=>{if(!r)return void a("/login");let t=String(e.id);o.includes(t)?g.mutate(t):v.mutate(t)}},e.id)):(0,i.jsx)(e$,{events:x,onPositiveSwipe:(e,t)=>{if(!r)return void a("/login");v.mutate(t??String(e))},onNegativeSwipe:(e,t)=>{if(!r)return void a("/login");g.mutate(t??String(e))}})})]})]})},e_="section-glpd0u",eJ="subtitle-kUsldH",eG="steps-RTN15g",eY="note-QellME",e0=e=>/^(0[1-9]|[12][0-9]|3[01])\.(0[1-9]|1[0-2])\.(\d{4})$/.test(e),e1=e=>/^([01]\d|2[0-3]):([0-5]\d)$/.test(e),e2=e=>{let[t,a,n]=e.split(".").map(e=>Number(e)),i=new Date(n,a-1,t);return i.getFullYear()!==n||i.getMonth()!==a-1||i.getDate()!==t?null:i},e9=e=>{let t=e2(e);if(!t)return!1;let a=new Date;return a.setHours(0,0,0,0),t.setHours(0,0,0,0),t<a},e3=e=>{let t=e.slice(0,8),a=t.slice(0,2),n=t.slice(2,4),i=t.slice(4,8);return t.length<=2?a:t.length<=4?`${a}.${n}`:`${a}.${n}.${i}`},e6=e=>{let t=e.slice(0,4),a=t.slice(0,2),n=t.slice(2,4);return t.length<=2?a:`${a}:${n}`},e5={eventTicketCard:"eventTicketCard-lNQpUA",noImage:"noImage-YRWO4W",withoutActionButton:"withoutActionButton-WtN3Zn",myEvent:"myEvent-c_Zxnv",image:"image-D50Y97",title:"title-XJSMnE",infoText:"infoText-UMk3pc",statusText:"statusText-cbtBCN",actionsWrapper:"actionsWrapper-RFyHPt",statusesWrapper:"statusesWrapper-SrJzHG",statusLine:"statusLine-D6WJiL",heartWrapper:"heartWrapper-iIzg8J",content:"content-gbBXJ2",infoWrapper:"infoWrapper-do8SOt",actions:"actions-aG3OfJ",button:"button-W9Gjy3",editWrapper:"editWrapper-_mVA4M"},e4=e=>{let{title:t,date:a,time:n,imageUrl:r,image:s=!0,onButtonClick:l,onIconClick:o,onClick:c,className:d="",status:u,actionButton:p=!0,isHeart:v=!0,isMyEvent:g=!1,liked:C=!0,isEdit:j=!1,onEditClick:f}=e,w=[e5.eventTicketCard,s?e5.withImage:e5.noImage,p?"":e5.withoutActionButton,g?e5.myEvent:"",d].filter(Boolean).join(" ");return(0,i.jsxs)("div",{className:w,onClick:c,children:[s&&r&&(0,i.jsx)("img",{src:r,alt:t,className:e5.image}),(0,i.jsx)("div",{className:e5.statusesWrapper,children:(0,i.jsxs)("div",{className:e5.statusLine,children:[u&&(0,i.jsx)("span",{className:e5.statusText,children:u}),v&&(0,i.jsx)("div",{className:e5.heartWrapper,children:(0,i.jsx)(et,{icon:x,onClick:e=>{e.stopPropagation(),null==o||o()},iconColor:C?"#212C3A":"#151515",variant:C?"accent":"basic",iconSize:24,fill:C?"#212C3A":"none"})}),j&&(0,i.jsx)("div",{className:e5.editWrapper,children:(0,i.jsx)(et,{icon:m,onClick:f,iconColor:"#212C3A",iconSize:24,fill:"#212C3A"})})]})}),(0,i.jsxs)("div",{className:e5.actionsWrapper,children:[(0,i.jsxs)("div",{className:e5.content,children:[(0,i.jsxs)("div",{className:e5.infoWrapper,children:[(0,i.jsx)("span",{className:e5.infoText,children:a}),(0,i.jsx)("span",{className:e5.infoText,children:n})]}),(0,i.jsx)("h3",{className:e5.title,children:t})]}),p&&(0,i.jsxs)("div",{className:e5.actions,children:[(0,i.jsx)(G,{accent:!0,onClick:e=>{e.stopPropagation(),null==l||l()},className:e5.button,children:"Купить билет"}),(0,i.jsx)(et,{icon:h,onClick:e=>{e.stopPropagation(),null==o||o()},iconColor:"#151515",iconSize:24})]})]})]})},e8={container:"container-MrjaLV",profileContainer:"profileContainer-XhfxJ2",profileCard:"profileCard-FFpECS",userProfileLayout:"userProfileLayout-gAbUMp",userAvatarContainer:"userAvatarContainer-Bt02xY",userInfoContainer:"userInfoContainer-jYniI5",profileCardHeader:"profileCardHeader-EU310J",profileCardHeaderLeft:"profileCardHeaderLeft-z4IUlm",profileCardHeaderRight:"profileCardHeaderRight-yL8drB",profileInfo:"profileInfo-yKTcxW",profileInfoLeft:"profileInfoLeft-IXgajn",profileName:"profileName-skWCdp",profileUsername:"profileUsername-BSi9JO",profileInfoRight:"profileInfoRight-ZHnXoU",profileRating:"profileRating-JtYAj4",userActions:"userActions-R81M_J",actions:"actions-KlQtv0",button:"button-p2a4dl"},e7={button:"button-X6OXn9",accent:"accent-eaLsEi",disabled:"disabled-sUEAT7",text:"text-tMCwZl",iconWrapper:"iconWrapper-xDI2NN"},te=e=>{let{text:t,className:a="",accent:n=!1,disabled:r=!1,...s}=e,l=[e7.button,n?e7.accent:"",r?e7.disabled:"",a].filter(Boolean).join(" ");return(0,i.jsxs)("button",{className:l,disabled:r,...s,children:[(0,i.jsx)("span",{className:e7.text,children:t}),(0,i.jsx)("div",{className:e7.iconWrapper,children:(0,i.jsx)(p,{size:24,color:"#23222A"})})]})},tt={overlay:"overlay-axUSNr",modal:"modal-xd0s4J",form:"form-uUSGqc",buttons:"buttons-dKdF6e",button:"button-Obyeqf"},ta=e=>{let{isOpen:t,onClose:a}=e,[n,r]=(0,s.useState)(""),[l,o]=(0,s.useState)(""),c=(0,s.useId)();return t?(0,i.jsx)("div",{className:tt.overlay,onClick:a,onKeyDown:e=>"Escape"===e.key&&a(),"aria-label":"Close modal",role:"presentation",children:(0,i.jsx)("div",{className:tt.modal,onClick:e=>e.stopPropagation(),onKeyDown:e=>e.stopPropagation(),role:"dialog","aria-modal":"true","aria-labelledby":c,children:(0,i.jsxs)("form",{className:tt.form,onSubmit:e=>{e.preventDefault(),console.log("Support request:",{subject:n,message:l}),r(""),o(""),a(),(0,eS.Am)((0,i.jsx)(ed,{icon:D,primaryText:"уже изучаем!",secondaryText:"Ю-ху!",iconColor:"#AFF940"}))},children:[(0,i.jsx)(eL,{value:n,onChange:e=>r(e.target.value),placeholder:"Тема обращения",required:!0}),(0,i.jsx)(eL,{value:l,multiline:!0,rows:4,onChange:e=>o(e.target.value),placeholder:"Описание проблемы",required:!0}),(0,i.jsxs)("div",{className:tt.buttons,children:[(0,i.jsx)(G,{type:"submit",accent:!0,className:tt.button,children:"Отправить"}),(0,i.jsx)(G,{type:"button",onClick:a,className:tt.button,children:"Отменить"})]})]})})}):null},tn={overlay:"overlay-Ax6tOW",modal:"modal-AYN1C6",form:"form-lhqAME",buttons:"buttons-QGkBn9",button:"button-zD2Azc"},ti=e=>{let{isOpen:t,onClose:a}=e,[n,r]=(0,s.useState)(""),[l,o]=(0,s.useState)(""),c=(0,s.useId)();return t?(0,i.jsx)("div",{className:tn.overlay,onClick:a,onKeyDown:e=>"Escape"===e.key&&a(),"aria-label":"Close modal",role:"presentation",children:(0,i.jsx)("div",{className:tn.modal,onClick:e=>e.stopPropagation(),onKeyDown:e=>e.stopPropagation(),role:"dialog","aria-modal":"true","aria-labelledby":c,children:(0,i.jsxs)("form",{className:tn.form,onSubmit:e=>{e.preventDefault(),console.log("Support request:",{subject:n,message:l}),r(""),o(""),a(),(0,eS.Am)((0,i.jsx)(ed,{icon:D,primaryText:"Спасибо за ваш отзыв!",secondaryText:"Ю-ху!",iconColor:"#AFF940"}))},children:[(0,i.jsx)(eL,{value:l,multiline:!0,rows:4,onChange:e=>o(e.target.value),placeholder:"Место для вашего отзыва",required:!0}),(0,i.jsxs)("div",{className:tn.buttons,children:[(0,i.jsx)(G,{type:"submit",accent:!0,className:tn.button,children:"Оценить"}),(0,i.jsx)(G,{type:"button",onClick:a,className:tn.button,children:"Отменить"})]})]})})}):null},tr={subscriptionCard:"subscriptionCard-e_baXN",noImage:"noImage-qDndLD",withoutActionButton:"withoutActionButton-pBKWQU",hideContent:"hideContent-AoJCkf",eventPage:"eventPage-bPUITO",image:"image-TdGcr8",title:"title-AbLUNe",actionsWrapper:"actionsWrapper-tVx1R4",statusesWrapper:"statusesWrapper-DeWgz9",headerWrapper:"headerWrapper-mLIqHB",backWrapper:"backWrapper-QhEVWf",heartWrapper:"heartWrapper-N2pCKW",content:"content-wfgpXr",infoWrapper:"infoWrapper-QH42nL",contentWrapper:"contentWrapper-ZI8r3j",infoText:"infoText-CU7k0X"},ts=e=>{let{title:t,imageUrl:a,image:n=!0,onButtonClick:r,onHeartClick:s,onBackClick:l,onCardClick:o,className:c="",actionButton:p=!0,isEdit:h=!1,isHeart:v=!1,isSubscribed:g=!1,hideContent:C=!1,isEventPage:j=!1,hideReviews:f=!1,ratingAvg:w=null,reviewsCount:N}=e,y=(0,d.s0)(),b=[tr.subscriptionCard,n?tr.withImage:tr.noImage,p?"":tr.withoutActionButton,C?tr.hideContent:"",j?tr.eventPage:"",c].filter(Boolean).join(" ");return(0,i.jsxs)("div",{className:b,onClick:o,children:[n&&a&&(0,i.jsx)("img",{src:a,alt:t,className:tr.image}),j&&(0,i.jsx)("div",{className:tr.headerWrapper,children:(0,i.jsx)("div",{className:tr.backWrapper,children:(0,i.jsx)(et,{icon:u,onClick:e=>{e.stopPropagation(),null==l||l()},iconColor:"#212C3A",iconSize:24,fill:"#212C3A"})})}),(0,i.jsx)("div",{className:tr.statusesWrapper,children:(0,i.jsxs)("div",{className:tr.heartWrapper,children:[v&&(0,i.jsx)(et,{icon:x,onClick:e=>{e.stopPropagation(),null==s||s()},iconColor:g?"#212C3A":"#151515",variant:g?"accent":"basic",iconSize:24,fill:g?"#212C3A":"none"}),h&&(0,i.jsx)(et,{icon:m,onClick:e=>{e.stopPropagation(),null==r||r()},iconColor:"#212C3A",iconSize:24,fill:"#212C3A"})]})}),(0,i.jsxs)("div",{className:tr.actionsWrapper,children:[(0,i.jsx)("div",{className:tr.content,children:(0,i.jsx)("h3",{className:tr.title,children:t})}),!C&&(0,i.jsxs)("div",{className:tr.contentWrapper,children:[(0,i.jsxs)("div",{className:tr.content,children:[(0,i.jsx)("span",{className:tr.infoText,children:"Рейтинг"}),(0,i.jsxs)("div",{className:tr.infoWrapper,children:[(0,i.jsx)(z,{size:16,color:"#BBBAFF"}),(0,i.jsx)("div",{className:tr.infoText,children:null!=w?(Math.round(10*w)/10).toString().replace(".",","):"—"})]})]}),!f&&(0,i.jsxs)("button",{type:"button",className:tr.content,onClick:e=>{e.stopPropagation(),y("/profile/about-company/reviews")},"aria-label":"Перейти к отзывам",children:[(0,i.jsx)("span",{className:tr.infoText,children:"Отзывы"}),(0,i.jsxs)("div",{className:tr.infoWrapper,children:[(0,i.jsx)(M,{size:16,color:"#BBBAFF"}),(0,i.jsx)("div",{className:tr.infoText,children:N??0})]})]})]})]})]})},tl={container:"container-MM9npn",subscriptionsContainer:"subscriptionsContainer-IqWI1h",content:"content-X4myOK",contentWrapper:"contentWrapper-M4RAgG",infoWrapper:"infoWrapper-e74sZa",infoText:"infoText-eGzZD0",description:"description-zqi5OF",descriptionTitle:"descriptionTitle-k10uaD",descriptionText:"descriptionText-slYmNF",descriptionContent:"descriptionContent-pY0rDx",collapsed:"collapsed-GenYfW",expanded:"expanded-oKBnpr",showMoreButton:"showMoreButton-hvOfyy"},to="content-gy6V4c",tc="infoText-mWuPsi",td={layout:"layout-lUWSjS",content:"content-hEPDVm",snackbarContainer:"snackbarContainer-_UZ7ol"},tu={storiesCard:"storiesCard-f0xmPF",small:"small-ont0O1",noImage:"noImage-JfXliy",content:"content-Vk1EDv",image:"image-Hf54rj",contentWrapper:"contentWrapper-faejZ_",title:"title-EVLFDT",description:"description-umIgdK",infoWrapper:"infoWrapper-SPJICx",infoText:"infoText-B3kRlA"},tp=e=>{let{title:t,imageUrl:a,image:n=!0,className:r="",size:s="small",description:l,date:o,time:c,backgroundColor:d,textColor:u}=e,p=[tu.storiesCard,n?"":tu.noImage,r,"small"===s?tu.small:""].filter(Boolean).join(" ");return(0,i.jsxs)("div",{className:p,children:[n&&a&&(0,i.jsx)("img",{src:a,alt:t,className:tu.image}),(0,i.jsxs)("div",{className:tu.content,style:d?{backgroundColor:d}:void 0,children:[(o||c)&&(0,i.jsxs)("div",{className:tu.infoWrapper,children:[o&&(0,i.jsx)("div",{className:tu.infoText,children:o}),c&&(0,i.jsx)("div",{className:tu.infoText,children:c})]}),(0,i.jsxs)("div",{className:tu.contentWrapper,children:[(0,i.jsx)("h3",{className:tu.title,style:{color:u},children:t}),(0,i.jsx)("h3",{className:tu.description,style:{color:u},children:l})]})]})]})},th={container:"container-FV01mN",stepperContainer:"stepperContainer-yclk_v",profileCard:"profileCard-Wdu6XI",profileCardContent:"profileCardContent-pE7fhN",stepContent:"stepContent-NEiAue",actions:"actions-org2Eg",button:"button-lJKkCQ"},tm="profileContainer-XHePIL",tv="actions-R0w5ue",tg={container:"container-tRBspn",eventContainer:"eventContainer-aH4Epy",eventContent:"eventContent-itUx3g",content:"content-eE6T7e",contentWrapper:"contentWrapper-Ek1F0W",infoWrapper:"infoWrapper-QSORuR",infoText:"infoText-o4TRQB",description:"description-SRPX2b",statistics:"statistics-VsF_xi",participants:"participants-CVT6Tf",participantsWrapper:"participantsWrapper-ry0ZUi",statisticsItem:"statisticsItem-hBftCY",descriptionTitle:"descriptionTitle-AzvowY",statisticsTitle:"statisticsTitle-zRpztl",participantsTitle:"participantsTitle-FFCqQu",participantsContent:"participantsContent-tmmmwj",participantsValue:"participantsValue-fqIlYX",descriptionText:"descriptionText-TDZeyX",statisticsText:"statisticsText-gGZuYI",statisticsValue:"statisticsValue-WvVW5h",descriptionContent:"descriptionContent-FvqlRa",statisticsContent:"statisticsContent-_1OBO9",collapsed:"collapsed-NOG39Y",expanded:"expanded-OH4qww",showMoreButton:"showMoreButton-XIOArS",actionsContainer:"actionsContainer-a3KpyT",actions:"actions-_TEf7y",button:"button-OY2eEJ",price:"price-tKCwBO"},tx=e=>{let{size:t=24,color:a="#AFF940",title:n="GoToIcon"}=e;return(0,i.jsxs)("svg",{width:t,height:t,viewBox:"0 0 24 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,i.jsx)("title",{children:n}),(0,i.jsx)("path",{d:"M11.6797 15.12L14.2397 12.56L11.6797 10",stroke:a,strokeWidth:"1.5",strokeMiterlimit:"10",strokeLinecap:"round",strokeLinejoin:"round"}),(0,i.jsx)("path",{d:"M4 12.5601H14.17",stroke:a,strokeWidth:"1.5",strokeMiterlimit:"10",strokeLinecap:"round",strokeLinejoin:"round"}),(0,i.jsx)("path",{d:"M12 4.5C16.42 4.5 20 7.5 20 12.5C20 17.5 16.42 20.5 12 20.5",stroke:a,strokeWidth:"1.5",strokeMiterlimit:"10",strokeLinecap:"round",strokeLinejoin:"round"})]})},tC="/avatars/1.webp",tj={container:"container-cC3eUo",eventContainer:"eventContainer-FugnVv",participants:"participants-u89uHE",participantsWrapper:"participantsWrapper-fMnl2A",participantsTitle:"participantsTitle-KrNcib",participantsValue:"participantsValue-aZtD71",participantsList:"participantsList-czTq4U",participantItem:"participantItem-H3_Iq4",participantName:"participantName-w5NuxT"},tf={container:"container-QaVlHO",purchaseContainer:"purchaseContainer-Vch2_Q",paymentContainer:"paymentContainer-JTyR11",paymentTitle:"paymentTitle-VZVyDU",detailsTitle:"detailsTitle-jRBP_y",paymentContent:"paymentContent-pn2V2y",ticketsField:"ticketsField-gEuEVx",ticketsContainer:"ticketsContainer-wmqkr1",detailsContainer:"detailsContainer-C2aZtU",detailsContent:"detailsContent-fokbrY",detailsItem:"detailsItem-LX2AKm",itemTitle:"itemTitle-vLUv6N",itemValue:"itemValue-W3OBKW",detailsSeparator:"detailsSeparator-PvXwSn",button:"button-luZF_S",detailsText:"detailsText-zu39Oe"},tw={container:"container-vI1eC7",reviewsContainer:"reviewsContainer-pAUPqz",reviews:"reviews-ZGoYFZ",reviewsTitle:"reviewsTitle-BJW41k",reviewsValue:"reviewsValue-pTenj3",reviewsText:"reviewsText-kHMfHN",collapsed:"collapsed-dgD00C",expanded:"expanded-bCioUc",showMoreButton:"showMoreButton-oaSCPv",reviewsWrapper:"reviewsWrapper-AQBxQf",reviewsList:"reviewsList-qSZv_k",reviewItem:"reviewItem-wsyViu",reviewDivider:"reviewDivider-Rg0Clc",reviewContent:"reviewContent-CQCkhf",avatarContainer:"avatarContainer-zi8R3V",reviewTextContainer:"reviewTextContainer-QhFsxu",reviewName:"reviewName-oIncwr",actionsContainer:"actionsContainer-UJCC5E",actions:"actions-LVFNm4",button:"button-J3az_u"},tN=[{id:1,name:"Антонова Женя",text:"Слов нет, отличные ребята. Очень понравилось мероприятие, обязательно приду еще раз!",avatar:"/avatars/1.webp"},{id:2,name:"Иванов Петр",text:"Прекрасная организация, все было на высшем уровне. Рекомендую всем! Прекрасная организация, все было на высшем уровне. Рекомендую всем!",avatar:"/avatars/2.avif"},{id:3,name:"Смирнова Анна",text:"Интересное мероприятие, но можно было бы улучшить звук. В целом впечатления положительные. Интересное мероприятие, но можно было бы улучшить звук. В целом впечатления положительные.",avatar:"/avatars/1.webp"}],ty=()=>{let[e,t]=(0,s.useState)(!1),[a,n]=(0,s.useState)([]),[r,l]=(0,s.useState)({}),o=(0,s.useRef)({});return(0,s.useEffect)(()=>{let e=()=>{let e={};for(let t of tN){let n=o.current[t.id];if(n){if(a.includes(t.id)){e[t.id]=r[t.id]??!1;continue}e[t.id]=n.scrollHeight>n.clientHeight+1}}l(t=>({...t,...e}))};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[a]),(0,i.jsxs)("div",{className:tw.container,children:[(0,i.jsx)(ti,{isOpen:e,onClose:()=>t(!1)}),(0,i.jsxs)("div",{className:`${tw.reviewsContainer}`,children:[(0,i.jsx)(ts,{title:"Путешествие в Оркестрбург: знакомство с ударными",date:"12 июня",time:"18:00",imageUrl:"/avatars/1.webp",image:!0,isHeart:!0,hideReviews:!0}),(0,i.jsxs)("div",{className:tw.reviews,children:[(0,i.jsxs)("div",{className:tw.reviewsWrapper,children:[(0,i.jsx)("span",{className:tw.reviewsTitle,children:"Об организации"}),(0,i.jsx)("span",{className:tw.reviewsValue,children:"321"})]}),(0,i.jsx)("div",{className:tw.reviewsList,children:tN.map((e,t)=>(0,i.jsxs)("div",{className:tw.reviewItem,children:[t>0&&(0,i.jsx)("div",{className:tw.reviewDivider}),(0,i.jsxs)("div",{className:tw.reviewContent,children:[(0,i.jsx)("div",{className:tw.avatarContainer,children:(0,i.jsx)(_,{src:e.avatar,size:32,alt:e.name})}),(0,i.jsxs)("div",{className:tw.reviewTextContainer,children:[(0,i.jsx)("span",{className:tw.reviewName,children:e.name}),(0,i.jsx)("span",{className:`${tw.reviewsText} ${a.includes(e.id)?tw.expanded:tw.collapsed}`,ref:t=>{o.current[e.id]=t},children:e.text}),(r[e.id]||a.includes(e.id))&&(0,i.jsx)("button",{className:tw.showMoreButton,onClick:()=>{var t;return t=e.id,void n(e=>e.includes(t)?e.filter(e=>e!==t):[...e,t])},type:"button",children:a.includes(e.id)?"Скрыть":"Показать еще"})]})]})]},e.id))})]}),(0,i.jsx)("div",{className:tw.actionsContainer,children:(0,i.jsx)("div",{className:tw.actions,children:(0,i.jsx)(G,{onClick:()=>t(!0),className:tw.button,children:"Оставить отзыв"})})})]})]})},tb={container:"container-EfG6zQ",stepperContainer:"stepperContainer-Eshcqm",profileCard:"profileCard-Zj33cS",profileCardContent:"profileCardContent-IhyEwm",stepContent:"stepContent-D3HZxV",stepContent3:"stepContent3-a0JD4j",stepContent3Item:"stepContent3Item-UbeX1b",actions:"actions-EEPCzc",button:"button-y5smAZ",stepTitle:"stepTitle-QA4sKr",uploadButton:"uploadButton-_Kex8B",hiddenInput:"hiddenInput-LUNckU",uploadButtonText:"uploadButtonText-WIelrk",swiperContainer:"swiperContainer-HRiQ08",swiperTitle:"swiperTitle-KZU_Se",scrollContainer:"scrollContainer-lE8NOS",circle:"circle-dx4Jso",tickIconWrapper:"tickIconWrapper-YZ_VHR",step3Buttom:"step3Buttom-GqdbMM"},tk=e=>{let{eventValue:t,eventInput:a,onEventChange:n,onEventInputChange:r,eventOptions:s,eventError:l,title:o,description:c,onDescriptionChange:d}=e;return(0,i.jsxs)("div",{className:tb.stepContent,children:[(0,i.jsx)("span",{className:tb.stepTitle,children:"Заголовок и описание"}),(0,i.jsx)(ep,{label:"Событие",placeholder:"Выберите событие",options:s,value:t||void 0,inputValue:a,onChange:n,onInputChange:r,error:l}),(0,i.jsx)(eL,{label:"Название",placeholder:"Название",value:o,onChange:()=>{}}),(0,i.jsx)(eL,{label:"Описание",placeholder:"Заполните поле",value:c,onChange:d})]})},tL=e=>{var t,a;let{uploadedImage:n,onImageDelete:r,onAddPhotoClick:l,colors:o,onColorChange:c,titlePreview:d,descriptionPreview:u,datePreview:p,timePreview:h}=e,m=(0,s.useRef)(null),[v,g]=(0,s.useState)(!1),[x,C]=(0,s.useState)(0),[j,f]=(0,s.useState)(0),[w,N]=(0,s.useState)(0);(0,s.useEffect)(()=>{o[0]&&c(o[0].id)},[o.length]);let y=e=>{v||N(e)};return(0,s.useEffect)(()=>{let e=()=>{g(!1)};return document.addEventListener("mouseup",e),()=>{document.removeEventListener("mouseup",e)}},[]),(0,i.jsxs)("div",{className:tb.stepContent3,children:[(0,i.jsxs)("div",{className:tb.stepContent3Item,children:[(0,i.jsx)("span",{className:tb.stepTitle,children:"Превью"}),(0,i.jsx)(tp,{title:d||"Название",imageUrl:n||"/avatars/1.webp",image:!!n,size:"large",date:p,time:h,description:u,backgroundColor:null==(t=o[w])?void 0:t.color,textColor:null==(a=o[w])?void 0:a.textColor})]}),(0,i.jsxs)("div",{className:tb.step3Buttom,children:[(0,i.jsxs)("div",{className:tb.swiperContainer,children:[(0,i.jsx)("span",{className:tb.swiperTitle,children:"Цвет подложки"}),(0,i.jsx)("ul",{className:tb.scrollContainer,ref:m,onMouseDown:e=>{m.current&&(g(!0),C(e.pageX-m.current.offsetLeft),f(m.current.scrollLeft))},onMouseUp:()=>{g(!1)},onMouseLeave:()=>{g(!1)},onMouseMove:e=>{if(!v||!m.current)return;e.preventDefault();let t=e.pageX-m.current.offsetLeft;m.current.scrollLeft=j-(t-x)*1.5},"aria-label":"Навигация по слайдам",children:o.map((e,t)=>(0,i.jsx)("li",{children:(0,i.jsx)("button",{type:"button",className:`${tb.circle}`,style:{backgroundColor:e.color,transform:t===w?"scale(1.2)":"scale(1)"},onClick:()=>{y(t),c(e.id)},onKeyDown:e=>{("Enter"===e.key||" "===e.key)&&y(t)},"aria-label":`\u{426}\u{432}\u{435}\u{442} ${e.name}`,tabIndex:0,children:t===w&&(0,i.jsx)("div",{className:tb.tickIconWrapper,children:(0,i.jsx)(D,{size:24,color:"#FFFFFF"})})})},e.id))})]}),(0,i.jsxs)("button",{type:"button",className:tb.uploadButton,onClick:n?r:l,onKeyDown:e=>{("Enter"===e.key||" "===e.key)&&(n?r():l())},children:[(0,i.jsx)($,{size:24,color:"#ffffff"}),(0,i.jsx)("span",{className:tb.uploadButtonText,children:n?"Удалить фото":"Добавить фото"})]})]})]})},tS={container:"container-dFMQbH",stepperContainer:"stepperContainer-JdjtdY",profileCard:"profileCard-Osa9Qp",profileCardContent:"profileCardContent-zlGXm9",stepContent:"stepContent-vrvDXz",stepContent3:"stepContent3-nW7FJD",stepContent3Item:"stepContent3Item-v5kSs_",navigationButtons:"navigationButtons-GLB4gc",backButton:"backButton-kiiBjn",nextButton:"nextButton-EspU7z",submitButton:"submitButton-uTFh9w",actions:"actions-oFkhQw",button:"button-gbfosh",stepTitle:"stepTitle-LW8ZII",uploadContainer:"uploadContainer-VAbKum",previewImage:"previewImage-GHE3HS",uploadButton:"uploadButton-Yx9Cgz",hiddenInput:"hiddenInput-_oNK7d",uploadButtonText:"uploadButtonText-_aylAQ",swiperContainer:"swiperContainer-GNjtLm",swiperTitle:"swiperTitle-p17lHh",scrollContainer:"scrollContainer-dowhpH",circle:"circle-G4lnn5",tickIconWrapper:"tickIconWrapper-rHz6Mm",step3Buttom:"step3Buttom-W9exS9"},tI=e=>{let{title:t,description:a,titleError:n,descriptionError:r,onTitleChange:s,onDescriptionChange:l}=e;return(0,i.jsxs)("div",{className:tS.stepContent,children:[(0,i.jsx)("span",{className:tS.stepTitle,children:"Заголовок и описание"}),(0,i.jsx)(eL,{label:"Название",placeholder:"Заполните поле",value:t,onChange:s,error:n}),(0,i.jsx)(eL,{label:"Описание",placeholder:"Заполните поле",value:a,onChange:l,error:r})]})},tT=e=>{let{dateStart:t,timeStart:a,dateError:n,timeError:r,onDateChange:s,onTimeChange:l,categoryValue:o,categoryInput:c,onCategoryChange:d,onCategoryInputChange:u,categoryOptions:p,categoryError:h,cityValue:m,cityInput:v,onCityChange:g,onCityInputChange:x,cityOptions:C,cityError:j,locationValue:f,onLocationChange:w,locationError:N,maxQuantity:y,onMaxQuantityChange:b,maxQuantityError:k,price:L,onPriceChange:S,priceError:I}=e;return(0,i.jsxs)("div",{className:tS.stepContent,children:[(0,i.jsx)("span",{className:tS.stepTitle,children:"Заголовок и описание"}),(0,i.jsx)(ep,{label:"Категория",placeholder:"Заполните поле",options:p,value:o||void 0,inputValue:c,onChange:d,onInputChange:u,error:h}),(0,i.jsx)(ep,{label:"Город",placeholder:"Заполните поле",options:C,value:m||void 0,inputValue:v,onChange:g,onInputChange:x,error:j}),(0,i.jsx)(eL,{label:"Дата начала",placeholder:"ДД.ММ.ГГГГ",value:t,onChange:s,error:n,inputMode:"numeric"}),(0,i.jsx)(eL,{label:"Время начала",placeholder:"ЧЧ:ММ",value:a,onChange:l,error:r,inputMode:"numeric"}),(0,i.jsx)(eL,{label:"Локация",placeholder:"Заполните поле",value:f,onChange:w,error:N}),(0,i.jsx)(eL,{label:"Количество мест",placeholder:"Заполните поле",value:y,onChange:b,error:k,inputMode:"numeric"}),(0,i.jsx)(eL,{label:"Стоимость",placeholder:"Заполните поле",value:L,onChange:S,error:I,inputMode:"decimal"})]})},tB=e=>{let{uploadedImage:t,onImageDelete:a,onAddPhotoClick:n,colors:r,onColorChange:l,titlePreview:o,datePreview:c,pricePreview:d,locationPreview:u}=e,p=(0,s.useRef)(null),[h,m]=(0,s.useState)(!1),[v,g]=(0,s.useState)(0),[x,C]=(0,s.useState)(0),[j,f]=(0,s.useState)(0),[w,N]=(0,s.useState)("poster"),y=r[j],b=e=>{if(!h){f(e);let t=r[e];t&&l(t.id)}};return(0,s.useEffect)(()=>{let e=()=>{m(!1)};return document.addEventListener("mouseup",e),()=>{document.removeEventListener("mouseup",e)}},[]),(0,i.jsxs)("div",{className:tS.stepContent3,children:[(0,i.jsxs)("div",{className:tS.stepContent3Item,children:[(0,i.jsx)("span",{className:tS.stepTitle,children:"Превью"}),(0,i.jsxs)(eb,{title:"События",className:tS.tabsContainer,children:[(0,i.jsx)(ew,{accent:"poster"===w,onClick:()=>N("poster"),children:"Афишой"},"poster"),(0,i.jsx)(ew,{accent:"swiper"===w,onClick:()=>N("swiper"),children:"Свайпер"},"swiper")]},"tabs"),"poster"===w&&(0,i.jsx)(en,{title:o||"Название",date:c,price:d,location:u,imageUrl:t||"/avatars/1.webp",image:!!t,backgroundColor:null==y?void 0:y.color,textColor:null==y?void 0:y.textColor},`${w}-${j}-${t?"img":"noimg"}`),"swiper"===w&&(0,i.jsx)(eU,{title:o||"Название",date:c,price:d,location:u,imageUrl:t||"/avatars/1.webp",image:!!t,backgroundColor:null==y?void 0:y.color,textColor:null==y?void 0:y.textColor},`${w}-${j}-${t?"img":"noimg"}`)]}),(0,i.jsxs)("div",{className:tS.step3Buttom,children:[(0,i.jsxs)("div",{className:tS.swiperContainer,children:[(0,i.jsx)("span",{className:tS.swiperTitle,children:"Цвет подложки"}),(0,i.jsx)("ul",{className:tS.scrollContainer,ref:p,onMouseDown:e=>{p.current&&(m(!0),g(e.pageX-p.current.offsetLeft),C(p.current.scrollLeft))},onMouseUp:()=>{m(!1)},onMouseLeave:()=>{m(!1)},onMouseMove:e=>{if(!h||!p.current)return;e.preventDefault();let t=e.pageX-p.current.offsetLeft;p.current.scrollLeft=x-(t-v)*1.5},"aria-label":"Навигация по слайдам",children:r.map((e,t)=>(0,i.jsx)("li",{children:(0,i.jsx)("button",{type:"button",className:`${tS.circle}`,style:{backgroundColor:e.color,transform:t===j?"scale(1.2)":"scale(1)"},onClick:()=>b(t),onKeyDown:e=>{("Enter"===e.key||" "===e.key)&&b(t)},"aria-label":`\u{426}\u{432}\u{435}\u{442} ${e.name}`,tabIndex:0,children:t===j&&(0,i.jsx)("div",{className:tS.tickIconWrapper,children:(0,i.jsx)(D,{size:24,color:"#FFFFFF"})})})},e.id))})]}),(0,i.jsxs)("button",{type:"button",className:tS.uploadButton,onClick:t?a:n,onKeyDown:e=>{("Enter"===e.key||" "===e.key)&&(t?a():n())},children:[(0,i.jsx)($,{size:24,color:"#ffffff"}),(0,i.jsx)("span",{className:tS.uploadButtonText,children:t?"Удалить фото":"Добавить фото"})]})]})]})},tF={container:"container-ngjrlx",stepperContainer:"stepperContainer-lz8SJn",profileCard:"profileCard-uFBlAe",profileCardContent:"profileCardContent-n6rkL9",actions:"actions-i8DSpj",button:"button-kyrhLz",hiddenInput:"hiddenInput-TD86vE",stepTitle:"stepTitle-RmEEEL",stepContent:"stepContent-S6fo5G",stepContent3:"stepContent3-IQ_jtm",stepContent3Item:"stepContent3Item-LiN4Kl",swiperContainer:"swiperContainer-KHY81v",swiperTitle:"swiperTitle-g5wfux",scrollContainer:"scrollContainer-E4NWuH",circle:"circle-tgkvOO",tickIconWrapper:"tickIconWrapper-nUsweh",step3Buttom:"step3Buttom-gGwUOH",uploadButton:"uploadButton-dXXJaf",uploadButtonText:"uploadButtonText-oCoWTe"},tz=e=>{let{title:t,description:a,titleError:n,descriptionError:r,onTitleChange:s,onDescriptionChange:l}=e;return(0,i.jsxs)("div",{className:tF.stepContent,children:[(0,i.jsx)("span",{className:tF.stepTitle,children:"Заголовок и описание"}),(0,i.jsx)(eL,{label:"Название",placeholder:"Заполните поле",value:t,onChange:s,error:n}),(0,i.jsx)(eL,{label:"Описание",placeholder:"Заполните поле",value:a,onChange:l,error:r})]})},tM=e=>{let{dateStart:t,timeStart:a,dateError:n,timeError:r,onDateChange:s,onTimeChange:l,categoryValue:o,categoryInput:c,onCategoryChange:d,onCategoryInputChange:u,categoryOptions:p,categoryError:h,cityValue:m,cityInput:v,onCityChange:g,onCityInputChange:x,cityOptions:C,cityError:j,locationValue:f,onLocationChange:w,locationError:N,maxQuantity:y,onMaxQuantityChange:b,maxQuantityError:k,price:L,onPriceChange:S,priceError:I}=e;return(0,i.jsxs)("div",{className:tF.stepContent,children:[(0,i.jsx)("span",{className:tF.stepTitle,children:"Параметры события"}),(0,i.jsx)(ep,{label:"Категория",placeholder:"Заполните поле",options:p,value:o||void 0,inputValue:c,onChange:d,onInputChange:u,error:h}),(0,i.jsx)(ep,{label:"Город",placeholder:"Заполните поле",options:C,value:m||void 0,inputValue:v,onChange:g,onInputChange:x,error:j}),(0,i.jsx)(eL,{label:"Дата начала",placeholder:"ДД.ММ.ГГГГ",value:t,onChange:s,error:n,inputMode:"numeric"}),(0,i.jsx)(eL,{label:"Время начала",placeholder:"ЧЧ:ММ",value:a,onChange:l,error:r,inputMode:"numeric"}),(0,i.jsx)(eL,{label:"Локация",placeholder:"Заполните поле",value:f,onChange:w,error:N}),(0,i.jsx)(eL,{label:"Количество мест",placeholder:"Заполните поле",value:y,onChange:b,error:k,inputMode:"numeric"}),(0,i.jsx)(eL,{label:"Стоимость",placeholder:"Заполните поле",value:L,onChange:S,error:I,inputMode:"decimal"})]})},tW=e=>{let{uploadedImage:t,onImageDelete:a,onAddPhotoClick:n,colors:r,onColorChange:l,titlePreview:o,datePreview:c,pricePreview:d,locationPreview:u}=e,p=(0,s.useRef)(null),[h,m]=(0,s.useState)(!1),[v,g]=(0,s.useState)(0),[x,C]=(0,s.useState)(0),[j,f]=(0,s.useState)(0),[w,N]=(0,s.useState)("poster"),y=r[j],b=e=>{if(!h){f(e);let t=r[e];t&&l(t.id)}};return(0,s.useEffect)(()=>{let e=()=>m(!1);return document.addEventListener("mouseup",e),()=>document.removeEventListener("mouseup",e)},[]),(0,i.jsxs)("div",{className:tF.stepContent3,children:[(0,i.jsxs)("div",{className:tF.stepContent3Item,children:[(0,i.jsx)("span",{className:tF.stepTitle,children:"Превью"}),(0,i.jsxs)(eb,{title:"События",className:tF.tabsContainer,children:[(0,i.jsx)(ew,{accent:"poster"===w,onClick:()=>N("poster"),children:"Афишой"},"poster"),(0,i.jsx)(ew,{accent:"swiper"===w,onClick:()=>N("swiper"),children:"Свайпер"},"swiper")]},"tabs"),"poster"===w&&(0,i.jsx)(en,{title:o||"Название",date:c,price:d,location:u,imageUrl:t||"/avatars/1.webp",image:!!t,backgroundColor:null==y?void 0:y.color,textColor:null==y?void 0:y.textColor},`${w}-${j}-${t?"img":"noimg"}`),"swiper"===w&&(0,i.jsx)(eU,{title:o||"Название",date:c,price:d,location:u,imageUrl:t||"/avatars/1.webp",image:!!t,backgroundColor:null==y?void 0:y.color,textColor:null==y?void 0:y.textColor},`${w}-${j}-${t?"img":"noimg"}`)]}),(0,i.jsxs)("div",{className:tF.step3Buttom,children:[(0,i.jsxs)("div",{className:tF.swiperContainer,children:[(0,i.jsx)("span",{className:tF.swiperTitle,children:"Цвет подложки"}),(0,i.jsx)("ul",{className:tF.scrollContainer,ref:p,onMouseDown:e=>{p.current&&(m(!0),g(e.pageX-p.current.offsetLeft),C(p.current.scrollLeft))},onMouseUp:()=>m(!1),onMouseLeave:()=>m(!1),onMouseMove:e=>{if(!h||!p.current)return;e.preventDefault();let t=e.pageX-p.current.offsetLeft;p.current.scrollLeft=x-(t-v)*1.5},"aria-label":"Навигация по слайдам",children:r.map((e,t)=>(0,i.jsx)("li",{children:(0,i.jsx)("button",{type:"button",className:`${tF.circle}`,style:{backgroundColor:e.color,transform:t===j?"scale(1.2)":"scale(1)"},onClick:()=>b(t),onKeyDown:e=>{("Enter"===e.key||" "===e.key)&&b(t)},"aria-label":`\u{426}\u{432}\u{435}\u{442} ${e.name}`,tabIndex:0,children:t===j&&(0,i.jsx)("div",{className:tF.tickIconWrapper,children:(0,i.jsx)(D,{size:24,color:"#FFFFFF"})})})},e.id))})]}),(0,i.jsxs)("button",{type:"button",className:tF.uploadButton,onClick:t?a:n,onKeyDown:e=>{("Enter"===e.key||" "===e.key)&&(t?a():n())},children:[(0,i.jsx)($,{size:24,color:"#ffffff"}),(0,i.jsx)("span",{className:tF.uploadButtonText,children:t?"Удалить фото":"Добавить фото"})]})]})]})},tE={subscriptionCard:"subscriptionCard-Y6nrlI",noImage:"noImage-T_HydO",withoutActionButton:"withoutActionButton-lCCO7N",hideContent:"hideContent-buB_Lb",eventPage:"eventPage-o06H4a",image:"image-XK9F52",title:"title-TPB0AZ",infoText:"infoText-Mn8X7k",actionsWrapper:"actionsWrapper-NiYaDn",statusesWrapper:"statusesWrapper-fjC8e9",headerWrapper:"headerWrapper-Cz71va",backWrapper:"backWrapper-ubU2vi",heartWrapper:"heartWrapper-f9mwri",content:"content-kp1Hdv",infoWrapper:"infoWrapper-Y9V7mq",contentWrapper:"contentWrapper-D8GFcR",avatar:"avatar-i6pEBh",ticketCard:"ticketCard-kXnlSs",ticketSvg:"ticketSvg-mVqQxt",ticketInfo:"ticketInfo-DWcYMY",ticketInfoItem:"ticketInfoItem-IMqJSE",ticketInfoDate:"ticketInfoDate-TebgDq",ticketInfoTime:"ticketInfoTime-iDTaob",ticketInfoLocation:"ticketInfoLocation-ZvFqJL"},tA=e=>{let{title:t,date:a,time:n,location:r,imageUrl:s,image:l=!0,onIconClick:o,onBackClick:c,className:d="",actionButton:p=!0,isEdit:h=!1,isHeart:v=!1,hideContent:g=!1,isEventPage:C=!1}=e,j=[tE.subscriptionCard,l?tE.withImage:tE.noImage,p?"":tE.withoutActionButton,g?tE.hideContent:"",C?tE.eventPage:"",d].filter(Boolean).join(" ");return(0,i.jsxs)("div",{className:j,children:[l&&s&&(0,i.jsx)("img",{src:s,alt:t,className:tE.image}),C&&(0,i.jsx)("div",{className:tE.headerWrapper,children:(0,i.jsx)("div",{className:tE.backWrapper,children:(0,i.jsx)(et,{icon:u,onClick:c,iconColor:"#212C3A",iconSize:24,fill:"#212C3A"})})}),(0,i.jsx)("div",{className:tE.statusesWrapper,children:(0,i.jsxs)("div",{className:tE.heartWrapper,children:[v&&(0,i.jsx)(et,{icon:x,onClick:o,iconColor:"#212C3A",variant:"accent",iconSize:24,fill:"#212C3A"}),h&&(0,i.jsx)(et,{icon:m,onClick:o,iconColor:"#212C3A",iconSize:24,fill:"#212C3A"})]})}),(0,i.jsxs)("div",{className:tE.actionsWrapper,children:[(0,i.jsxs)("div",{className:tE.content,children:[(0,i.jsx)("h3",{className:tE.title,children:t}),(0,i.jsx)("div",{className:tE.avatar,children:(0,i.jsx)(_,{src:s,alt:t})})]}),(0,i.jsxs)("div",{className:tE.ticketCard,children:[(0,i.jsxs)("svg",{width:"100%",height:"158px",viewBox:"0 0 343 158",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:tE.ticketSvg,children:[(0,i.jsx)("title",{children:"ticket"}),(0,i.jsx)("path",{d:"M331 0C337.627 6.44258e-08 343 5.37258 343 12V88C336.709 88 331.55 92.8405 331.042 99H330.703C330.151 99 329.703 99.4477 329.703 100C329.703 100.552 330.151 101 330.703 101H331.042C331.55 107.159 336.709 112 343 112V146C343 152.627 337.627 158 331 158H12C5.37258 158 3.22139e-07 152.627 0 146V112C6.29064 112 11.4498 107.159 11.958 101H19.9219C20.4742 101 20.9219 100.552 20.9219 100C20.9219 99.4477 20.4742 99 19.9219 99H11.958C11.4498 92.8405 6.29064 88 0 88V12C3.22139e-07 5.37258 5.37258 6.44258e-08 12 0H331ZM27.8906 99C27.3383 99 26.8906 99.4477 26.8906 100C26.8906 100.552 27.3383 101 27.8906 101H35.8594C36.4117 101 36.8594 100.552 36.8594 100C36.8594 99.4477 36.4117 99 35.8594 99H27.8906ZM43.8281 99C43.2758 99 42.8281 99.4477 42.8281 100C42.8281 100.552 43.2758 101 43.8281 101H51.7969C52.3492 101 52.7969 100.552 52.7969 100C52.7969 99.4477 52.3492 99 51.7969 99H43.8281ZM59.7656 99C59.2133 99 58.7656 99.4477 58.7656 100C58.7656 100.552 59.2133 101 59.7656 101H67.7344L67.8369 100.995C68.341 100.944 68.7344 100.518 68.7344 100C68.7344 99.4823 68.341 99.0562 67.8369 99.0049L67.7344 99H59.7656ZM75.7031 99C75.1508 99 74.7031 99.4477 74.7031 100C74.7031 100.552 75.1508 101 75.7031 101H83.6719C84.2242 101 84.6719 100.552 84.6719 100C84.6719 99.4477 84.2242 99 83.6719 99H75.7031ZM91.6406 99C91.0883 99 90.6406 99.4477 90.6406 100C90.6406 100.552 91.0883 101 91.6406 101H99.6094L99.7119 100.995C100.216 100.944 100.609 100.518 100.609 100C100.609 99.4823 100.216 99.0562 99.7119 99.0049L99.6094 99H91.6406ZM107.578 99C107.026 99 106.578 99.4477 106.578 100C106.578 100.552 107.026 101 107.578 101H115.547C116.099 101 116.547 100.552 116.547 100C116.547 99.4477 116.099 99 115.547 99H107.578ZM123.516 99C122.963 99 122.516 99.4477 122.516 100C122.516 100.552 122.963 101 123.516 101H131.484C132.037 101 132.484 100.552 132.484 100C132.484 99.4477 132.037 99 131.484 99H123.516ZM139.453 99C138.901 99 138.453 99.4477 138.453 100C138.453 100.552 138.901 101 139.453 101H147.422L147.524 100.995C148.029 100.944 148.422 100.518 148.422 100C148.422 99.4823 148.029 99.0562 147.524 99.0049L147.422 99H139.453ZM155.391 99C154.838 99 154.391 99.4477 154.391 100C154.391 100.552 154.838 101 155.391 101H163.359C163.912 101 164.359 100.552 164.359 100C164.359 99.4477 163.912 99 163.359 99H155.391ZM171.328 99C170.776 99 170.328 99.4477 170.328 100C170.328 100.552 170.776 101 171.328 101H179.297C179.849 101 180.297 100.552 180.297 100C180.297 99.4477 179.849 99 179.297 99H171.328ZM187.266 99C186.713 99 186.266 99.4477 186.266 100C186.266 100.552 186.713 101 187.266 101H195.234C195.787 101 196.234 100.552 196.234 100C196.234 99.4477 195.787 99 195.234 99H187.266ZM203.203 99C202.651 99 202.203 99.4477 202.203 100C202.203 100.552 202.651 101 203.203 101H211.172C211.724 101 212.172 100.552 212.172 100C212.172 99.4477 211.724 99 211.172 99H203.203ZM219.141 99C218.588 99 218.141 99.4477 218.141 100C218.141 100.552 218.588 101 219.141 101H227.109C227.662 101 228.109 100.552 228.109 100C228.109 99.4477 227.662 99 227.109 99H219.141ZM235.078 99C234.526 99 234.078 99.4477 234.078 100C234.078 100.552 234.526 101 235.078 101H243.047L243.149 100.995C243.654 100.944 244.047 100.518 244.047 100C244.047 99.4823 243.654 99.0562 243.149 99.0049L243.047 99H235.078ZM251.016 99C250.463 99 250.016 99.4477 250.016 100C250.016 100.552 250.463 101 251.016 101H258.984L259.087 100.995C259.591 100.944 259.984 100.518 259.984 100C259.984 99.4823 259.591 99.0562 259.087 99.0049L258.984 99H251.016ZM266.953 99C266.401 99 265.953 99.4477 265.953 100C265.953 100.552 266.401 101 266.953 101H274.922C275.474 101 275.922 100.552 275.922 100C275.922 99.4477 275.474 99 274.922 99H266.953ZM282.891 99C282.338 99 281.891 99.4477 281.891 100C281.891 100.552 282.338 101 282.891 101H290.859C291.412 101 291.859 100.552 291.859 100C291.859 99.4477 291.412 99 290.859 99H282.891ZM298.828 99C298.276 99 297.828 99.4477 297.828 100C297.828 100.552 298.276 101 298.828 101H306.797L306.899 100.995C307.404 100.944 307.797 100.518 307.797 100C307.797 99.4823 307.404 99.0562 306.899 99.0049L306.797 99H298.828ZM314.766 99C314.213 99 313.766 99.4477 313.766 100C313.766 100.552 314.213 101 314.766 101H322.734C323.287 101 323.734 100.552 323.734 100C323.734 99.4477 323.287 99 322.734 99H314.766Z",fill:"#AFF940"})]}),(0,i.jsxs)("div",{className:tE.ticketInfo,children:[a&&(0,i.jsx)("div",{className:tE.ticketInfoItem,children:(0,i.jsx)("span",{className:tE.ticketInfoDate,children:a})}),n&&(0,i.jsx)("div",{className:tE.ticketInfoItem,children:(0,i.jsx)("span",{className:tE.ticketInfoTime,children:n})}),r&&(0,i.jsx)("div",{className:tE.ticketInfoItem,children:(0,i.jsx)("span",{className:tE.ticketInfoLocation,children:r})})]})]})]})]})};var tU=a(1653);let tH={container:"container-sgrCAP",eventContainer:"eventContainer-LB9bQh",content:"content-ko5vOG",infoWrapper:"infoWrapper-ffL8OM",contentWrapper:"contentWrapper-aeCipd",infoText:"infoText-aLNcMR",description:"description-NRZvrz",eventsWrapper:"eventsWrapper-Essm58",storiesWrapper:"storiesWrapper-cLfZ48",descriptionTitle:"descriptionTitle-dGzm6u",eventsTitle:"eventsTitle-EOzf5T",descriptionText:"descriptionText-N4qpKY",descriptionContent:"descriptionContent-jhXbhI",collapsed:"collapsed-FpiJCp",expanded:"expanded-apApQK",showMoreButton:"showMoreButton-hzsHly",eventsContainer:"eventsContainer-R03903"},t$="/avatars/1.webp",tD={container:"container-akwmjB",stepperContainer:"stepperContainer-xwaFwt",profileCard:"profileCard-Zxd_e6",profileCardContent:"profileCardContent-XZe4kZ",stepContent:"stepContent-rfu4so",actions:"actions-OUJPEi",button:"button-QT_MXL"},tP=e=>{let{children:t}=e;return(0,i.jsx)(i.Fragment,{children:t})},tq=e=>t=>(0,i.jsx)(tP,{children:(0,i.jsx)(e,{...t})}),tR=tq(()=>{let e=(0,d.s0)(),{checkPhone:t,login:a,register:n}=Z(),[r,l]=(0,s.useState)(""),[o,c]=(0,s.useState)(""),[u,p]=(0,s.useState)(""),[h,m]=(0,s.useState)(""),[x,C]=(0,s.useState)(""),[j,f]=(0,s.useState)(""),[w,N]=(0,s.useState)(null),[y,b]=(0,s.useState)(null),[k,L]=(0,s.useState)(!1),[S,I]=(0,s.useState)(null),[T,B]=(0,s.useState)("phone"),F=async()=>{if(!r||r.length<10)return void(0,eS.Am)((0,i.jsx)(ed,{icon:g,primaryText:"Пожалуйста, введите корректный номер телефона",secondaryText:"Упс!",iconColor:"#AFF940"}));try{L(!0);let{exists:e}=await t(r);I(e),L(!1),B("password")}catch(e){(0,eS.Am)((0,i.jsx)(ed,{icon:g,primaryText:"Произошла ошибка. Пожалуйста, попробуйте снова.",secondaryText:"Упс!",iconColor:"#AFF940"})),L(!1)}},z=async()=>{if(null===S)return void(0,eS.Am)((0,i.jsx)(ed,{icon:g,primaryText:"Сначала введите номер телефона",secondaryText:"Упс!",iconColor:"#AFF940"}));if(!o)return void(0,eS.Am)((0,i.jsx)(ed,{icon:g,primaryText:"Пожалуйста, введите пароль",secondaryText:"Упс!",iconColor:"#AFF940"}));if(!1===S){let e=/[A-Z]/.test(o),t=/\d/.test(o),a=/[^A-Za-z0-9]/.test(o),n=o.length>=8;if(!(e&&t&&a&&n))return void(0,eS.Am)((0,i.jsx)(ed,{icon:g,primaryText:"Пароль должен быть не менее 8 символов и содержать минимум одну заглавную букву, специальный символ и цифру",secondaryText:"Упс!",iconColor:"#AFF940"}));if(!u)return void(0,eS.Am)((0,i.jsx)(ed,{icon:g,primaryText:"Повторите пароль",secondaryText:"Упс!",iconColor:"#AFF940"}));if(u!==o)return void(0,eS.Am)((0,i.jsx)(ed,{icon:g,primaryText:"Пароли не совпадают",secondaryText:"Упс!",iconColor:"#AFF940"}))}try{if(L(!0),!0===S){if(!u){L(!1),(0,eS.Am)((0,i.jsx)(ed,{icon:g,primaryText:"Повторите пароль",secondaryText:"Упс!",iconColor:"#AFF940"}));return}if(u!==o){L(!1),(0,eS.Am)((0,i.jsx)(ed,{icon:g,primaryText:"Пароли не совпадают",secondaryText:"Упс!",iconColor:"#AFF940"}));return}await a(r,o),L(!1),e("/main")}else L(!1),B("name")}catch(e){(0,eS.Am)((0,i.jsx)(ed,{icon:g,primaryText:"Неверный телефон или пароль",secondaryText:"Упс!",iconColor:"#AFF940"})),L(!1)}},M=async()=>{if(!x.trim()||!h.trim())return void b("Пожалуйста, введите фамилию и имя");try{L(!0),await n(r,o,{firstName:h,lastName:x,middleName:j.trim()||void 0},w),L(!1),e("/main")}catch(e){b("Произошла ошибка. Пожалуйста, попробуйте снова."),L(!1)}};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:eB.container,children:[(0,i.jsx)(el,{pageName:"Войти или создать аккаунт",showLeftButton:!0,showLogo:!1,showRightButton:!1,onLeftButtonClick:()=>{e("/")}}),(0,i.jsx)("div",{className:eB.content,children:(0,i.jsxs)("div",{className:eB.form,children:["name"!==T&&(0,i.jsx)("div",{className:eB.logoContainer,children:(0,i.jsx)("div",{className:eB.logo,children:(0,i.jsx)(v,{width:76,height:27})})}),"phone"===T&&(0,i.jsx)(eM,{phone:r,error:y,isLoading:k,onPhoneChange:e=>{l(e),I(null),b(null)},onContinue:F}),"password"===T&&(0,i.jsx)(ez,{phoneExists:S,password:o,confirmPassword:u,onConfirmPasswordChange:e=>{p(e.target.value),b(null)},error:y,isLoading:k,onPasswordChange:e=>{c(e.target.value),b(null)},onContinue:z,onBack:()=>{B("phone"),c(""),b(null)}}),"name"===T&&(0,i.jsx)(eF,{firstName:h,lastName:x,middleName:j,error:y,isLoading:k,onFirstNameChange:e=>{m(e.target.value),b(null)},onLastNameChange:e=>{C(e.target.value),b(null)},onMiddleNameChange:e=>{f(e.target.value),b(null)},onAvatarChange:e=>{N(e)},onSave:M,onCancel:()=>{B("password"),b(null)}})]})})]}),(0,i.jsx)(eI,{})]})}),tV=tq(()=>(0,i.jsx)(d.Fg,{to:"/login",replace:!0})),tO=(0,d.aj)([{path:"/",element:(0,i.jsx)(()=>{let[e,t]=(0,s.useState)("main"),a=(0,d.s0)(),n=(0,d.TH)(),r=(0,d.SN)().filter(e=>!!e.handle).slice(-1)[0],l=null==r?void 0:r.handle,o={showLogo:!0,showLeftButton:!1,showRightButton:!1,...(null==l?void 0:l.headerProps)||{}},c=(null==l?void 0:l.showHeader)!==!1,u=(null==l?void 0:l.showSnackbar)!==!1;(0,s.useEffect)(()=>{let e=n.pathname.substring(1)||"main";["main","search","event-create","ticket","profile"].includes(e)&&t(e)},[n.pathname]),(0,s.useEffect)(()=>{let e=document.getElementById("root");e?(e.scrollTo({top:0,left:0,behavior:"auto"}),e.scrollTop=0):window.scrollTo({top:0,left:0,behavior:"auto"})},[n.pathname]);let p=e=>{t(e),a(`/${"main"===e?"main":e}`)},{isAuthenticated:h,user:m}=Z();return(0,i.jsxs)("div",{className:td.layout,children:[c&&(0,i.jsx)(el,{showLogo:o.showLogo,showLeftButton:o.showLeftButton,showRightButton:o.showRightButton,showSearchInput:o.showSearchInput,showFilterButton:o.showFilterButton,pageName:o.pageName,onLeftButtonClick:()=>{o.navigateTo&&a(-1)},onFilterButtonClick:()=>{o.navigateTo&&a(o.navigateTo)},onSearchChange:e=>{let t=new URLSearchParams(n.search),i=e.target.value;i?t.set("q",i):t.delete("q"),a({pathname:n.pathname,search:t.toString()})}}),(0,i.jsx)("div",{className:td.content,children:(0,i.jsx)(d.j3,{})}),u&&(0,i.jsx)("div",{className:td.snackbarContainer,children:(0,i.jsxs)(ev,{hasAdd:!!(null==m?void 0:m.isOrganizer),children:[(0,i.jsx)(eg,{type:"main",isActive:"main"===e,activeItem:e,onClick:()=>p("main")}),(0,i.jsx)(eg,{type:"search",isActive:"search"===e,activeItem:e,onClick:()=>p("search")}),(null==m?void 0:m.isOrganizer)&&(0,i.jsx)(eg,{type:"event-create",isActive:"event-create"===e,activeItem:e,onClick:()=>{h?p("event-create"):a("/login")}}),(0,i.jsx)(eg,{type:"ticket",isActive:"ticket"===e,activeItem:e,onClick:()=>{h?p("ticket"):a("/login")}}),(0,i.jsx)(eg,{type:"profile",isActive:"profile"===e,activeItem:e,onClick:()=>{h?p("profile"):a("/login")}})]})}),(0,i.jsx)(eI,{})]})},{}),errorElement:(0,i.jsx)(Y,{}),children:[{index:!0,element:(0,i.jsx)(eX,{})},{path:"main",element:(0,i.jsx)(eX,{})},{path:"search",element:(0,i.jsx)(()=>{let e=(0,d.s0)(),t=(0,d.TH)(),a=(0,s.useMemo)(()=>new URLSearchParams(t.search),[t.search]),n=a.get("q")||void 0,r=a.get("cityId")||void 0,l=a.get("categoryId")||void 0,o=a.get("date")||void 0,{data:c=[],isLoading:u}=(0,P.a)({queryKey:["events",{q:n,cityId:r,categoryId:l,date:o}],queryFn:()=>{let e={};if(n&&(e.q=n),r&&(e.cityId=r),l&&(e.categoryId=l),o){let t=e2(o);if(t){let a=t.toISOString().slice(0,10);e.dateFrom=a,e.dateTo=a}}return O.getEvents(e)}});return(0,i.jsx)("div",{className:"container-IDQi5R",children:(0,i.jsx)("div",{className:"eventsContainer-RGzm1d",children:u?null:c.map(t=>(0,i.jsx)(en,{title:t.title,date:t.date,location:t.location,price:t.price,image:!!t.imageUrl,imageUrl:t.imageUrl,onButtonClick:()=>{e(`/event/${t.id}`)},forSearch:!0},t.id))})})},{}),handle:{headerProps:{showLogo:!1,showLeftButton:!1,showRightButton:!1,showSearchInput:!0,showFilterButton:!0,navigateTo:"/search/filters"}}},{path:"search/filters",element:(0,i.jsx)(()=>{let e=(0,d.s0)(),t=(0,d.TH)(),a=(0,s.useMemo)(()=>new URLSearchParams(t.search),[t.search]),[n,r]=(0,s.useState)(a.get("cityId")),[l,o]=(0,s.useState)(""),[c,u]=(0,s.useState)(a.get("date")||""),[p,h]=(0,s.useState)(void 0),{data:m=[]}=(0,P.a)({queryKey:["cities"],queryFn:()=>O.getCities()});return(0,s.useEffect)(()=>{r(a.get("cityId")),u(a.get("date")||"")},[t.search]),(0,i.jsxs)("div",{className:"container-kl6J_x",children:[(0,i.jsx)("div",{className:tm,children:(0,i.jsxs)("div",{className:tv,children:[(0,i.jsx)(ep,{label:"Город",placeholder:"Заполните поле",options:m.map(e=>({label:e.name,value:e.id})),value:n||void 0,inputValue:l,onChange:r,onInputChange:o}),(0,i.jsx)(eL,{label:"Дата",placeholder:"ДД.ММ.ГГГГ",value:c,onChange:e=>{let t=e3(e.target.value.replace(/\D/g,""));return(u(t),t)?e0(t)?e9(t)?void h("Дата не может быть в прошлом"):void h(void 0):void h("Формат даты ДД.ММ.ГГГГ"):void h(void 0)},error:p,inputMode:"numeric"})]})}),(0,i.jsx)("div",{className:tm,children:(0,i.jsx)("div",{className:tv,children:(0,i.jsx)(G,{accent:!0,className:"button-WPV6Jt",onClick:()=>{let a=new URLSearchParams(t.search);n?a.set("cityId",n):a.delete("cityId"),c?a.set("date",c):a.delete("date"),e({pathname:"/search",search:a.toString()})},children:"Применить фильтры"})})})]})},{}),handle:{headerProps:{showLogo:!1,showLeftButton:!0,showRightButton:!1,navigateTo:"back",pageName:"Фильтры"}}},{path:"ticket",element:(0,i.jsx)(()=>{let[e,t]=(0,s.useState)("favorites"),a=(0,eK.NL)(),{data:n=[]}=(0,P.a)({queryKey:["favoriteEvents"],queryFn:()=>O.getFavoriteEvents()}),{data:r=[]}=(0,P.a)({queryKey:["favorites"],queryFn:()=>O.getFavorites()}),{data:l=[]}=(0,P.a)({queryKey:["myPurchases"],queryFn:()=>O.getMyPurchases()}),o=(0,q.D)({mutationFn:e=>O.removeFavorite(e),onSuccess:()=>{a.invalidateQueries({queryKey:["favoriteEvents"]}),a.invalidateQueries({queryKey:["favorites"]})}}),c=(0,d.s0)(),{actualEvents:u,historyEvents:p}=(0,s.useMemo)(()=>{let e=new Date,t=[],a=[];for(let n of l){let i=new Date(n.raw.eventDate),[r,s]=n.raw.startTime.split(":").map(Number);i.setHours(r||0,s||0,0,0),i.getTime()>=e.getTime()?t.push(n):a.push(n)}return{actualEvents:t,historyEvents:a}},[l]),h=(0,q.D)({mutationFn:async e=>r.includes(e)?O.removeFavorite(e):O.addFavorite(e),onSuccess:()=>{a.invalidateQueries({queryKey:["favorites"]}),a.invalidateQueries({queryKey:["favoriteEvents"]}),a.invalidateQueries({queryKey:["myPurchases"]})}});return(0,i.jsxs)("div",{className:"container-tevS1T",children:[(0,i.jsx)("div",{className:"tabsContainer-TlATjI",children:(0,i.jsxs)(eb,{children:[(0,i.jsx)(ew,{accent:"favorites"===e,onClick:()=>t("favorites"),children:"Избранные"},"favorites"),(0,i.jsx)(ew,{accent:"actual"===e,onClick:()=>t("actual"),children:"Актуальные"},"actual"),(0,i.jsx)(ew,{accent:"history"===e,onClick:()=>t("history"),children:"Прошедшие"},"history")]},"tabs")}),(0,i.jsx)("div",{className:"eventsListContainer-i5B_yv",children:(()=>{switch(e){case"favorites":if(0===n.length)return(0,i.jsx)(eT,{text:"Пока ничего нет"});return n.map(e=>(0,i.jsx)(e4,{title:e.title,date:e.date,time:e.time,onButtonClick:()=>{c(`/purchase/${e.id}`)},imageUrl:e.imageUrl,image:!!e.imageUrl,actionButton:!0,isHeart:!0,liked:!0,onIconClick:()=>o.mutate(String(e.id))},e.id));case"actual":if(0===u.length)return(0,i.jsx)(eT,{text:"Пока ничего нет"});return u.map(e=>(0,i.jsx)(e4,{title:e.title,date:e.date,time:e.time,status:e.orderNumber,imageUrl:e.imageUrl,image:!!e.imageUrl,actionButton:!1,isHeart:!0,liked:r.includes(e.eventId),onIconClick:()=>h.mutate(String(e.eventId)),onClick:()=>{e.firstTicketId&&c(`/ticket/${e.firstTicketId}`)}},e.id));case"history":if(0===p.length)return(0,i.jsx)(eT,{text:"Пока ничего нет"});return p.map(e=>(0,i.jsx)(e4,{title:e.title,date:e.date,status:e.orderNumber,time:e.time,imageUrl:e.imageUrl,image:!!e.imageUrl,actionButton:!1,isHeart:!0,liked:r.includes(e.eventId),onIconClick:()=>h.mutate(String(e.eventId)),onClick:()=>{e.firstTicketId&&c(`/ticket/${e.firstTicketId}`)}},e.id));default:return null}})()})]})},{}),handle:{headerProps:{showLogo:!1,showLeftButton:!1,showRightButton:!1,pageName:"Билеты"}}},{path:"profile",element:(0,i.jsx)(()=>{let[e,t]=(0,s.useState)(()=>localStorage.getItem("profileActiveTab")||"user"),[a,n]=(0,s.useState)(!1);(0,s.useEffect)(()=>{localStorage.setItem("profileActiveTab",e)},[e]);let r=(0,d.s0)(),{logout:l,user:o}=Z(),c=!!(null==o?void 0:o.isOrganizer),u=(null==o?void 0:o.organizerApplicationStatus)==="pending"||(null==o?void 0:o.organizerApplicationStatus)==="approved",p=(null==o?void 0:o.name)??"",h=(null==o?void 0:o.avatar)??void 0,[v,g]=(0,s.useState)(null);(0,s.useEffect)(()=>{"manager"===e&&c&&(null==o?void 0:o.organizationId)&&O.getOrganization(o.organizationId).then(g).catch(()=>g(null))},[e,c,null==o?void 0:o.organizationId]);let x=[{id:"subscriptions",text:"Подписки",onClick:()=>r("/profile/subscriptions")},...c||u?[]:[{id:"become-organizer",text:"Стать организатором",onClick:()=>r("/profile/get-rights")}],{id:"user-support",text:"Служба поддержки",onClick:()=>n(!0)},{id:"logout",text:"Выйти",onClick:()=>{l(),r("/main")}}],C=(0,s.useMemo)(()=>(null==v?void 0:v.ratingAvg)==null?"—":Number(v.ratingAvg).toFixed(1).replace(".",","),[null==v?void 0:v.ratingAvg]);return(0,i.jsxs)("div",{className:e8.container,children:[(0,i.jsx)(ta,{isOpen:a,onClose:()=>n(!1)}),(0,i.jsxs)("div",{className:e8.profileContainer,children:[c&&(0,i.jsxs)(eb,{children:[(0,i.jsx)(ew,{accent:"user"===e,onClick:()=>t("user"),children:"Пользователь"},"user"),(0,i.jsx)(ew,{accent:"manager"===e,onClick:()=>t("manager"),children:"Организатор"},"manager")]},"tabs"),(0,i.jsx)("div",{className:e8.profileCard,children:c&&"user"!==e?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:e8.profileCardHeader,children:[(0,i.jsx)("div",{className:e8.profileCardHeaderLeft,children:(0,i.jsx)("div",{className:e8.profileCardHeaderLeftImage,children:(0,i.jsx)(_,{size:100,src:null==v?void 0:v.avatarUrl})})}),(0,i.jsx)("div",{className:e8.profileCardHeaderRight,children:(0,i.jsx)(et,{icon:m,onClick:()=>r("/profile/about-company/edit"),iconColor:"#ffffff",iconSize:24,variant:"minimal"})})]}),(0,i.jsxs)("div",{className:e8.profileInfo,children:[(0,i.jsxs)("div",{className:e8.profileInfoLeft,children:[(0,i.jsx)("div",{className:e8.profileName,children:(null==v?void 0:v.name)??"Организация"}),(0,i.jsx)("div",{className:e8.profileUsername,children:p})]}),(0,i.jsxs)("div",{className:e8.profileInfoRight,children:[(0,i.jsx)(z,{size:16,color:"#BBBAFF"}),(0,i.jsx)("div",{className:e8.profileRating,children:C})]})]})]}):(0,i.jsxs)("div",{className:e8.userProfileLayout,children:[(0,i.jsx)("div",{className:e8.userAvatarContainer,children:(0,i.jsx)(_,{size:64,src:h})}),(0,i.jsx)("div",{className:e8.userInfoContainer,children:(0,i.jsx)("div",{className:e8.profileName,children:p})}),(0,i.jsx)("div",{className:e8.profileCardHeaderRight,children:(0,i.jsx)(et,{icon:m,onClick:()=>r("/profile/edit"),iconColor:"#ffffff",iconSize:24,variant:"minimal"})})]})}),(0,i.jsx)("div",{className:e8.userActions,children:c&&"user"!==e?(0,i.jsxs)(i.Fragment,{children:[[{id:"my-events",text:"Мои события",onClick:()=>r("/profile/my-events")},{id:"stories",text:"Сторисы",onClick:()=>r("/profile/my-stories")},{id:"about-org",text:"Об организации",onClick:()=>r("/profile/about-company")},{id:"legal-docs",text:"Юридические документы",onClick:()=>r("/profile/legal-docs")},{id:"manager-support",text:"Служба поддержки",onClick:()=>n(!0)}].map(e=>(0,i.jsx)(te,{text:e.text,onClick:e.onClick},e.id)),(0,i.jsx)("div",{className:e8.actions,children:(0,i.jsx)(G,{accent:!0,onClick:()=>{r("/event-create")},className:e8.button,children:"Создать событие"})})]}):x.map(e=>(0,i.jsx)(te,{text:e.text,onClick:e.onClick},e.id))})]})]})},{}),handle:{headerProps:{showLogo:!1,showLeftButton:!1,showRightButton:!1,pageName:"Профиль"}}},{path:"profile/edit",element:(0,i.jsx)(()=>{let{user:e}=Z(),[t,a]=(0,s.useState)(""),[n,r]=(0,s.useState)(""),[l,o]=(0,s.useState)(""),[c,d]=(0,s.useState)(null),[u,p]=(0,s.useState)(null),[h,m]=(0,s.useState)(!1),[v,g]=(0,s.useState)(null);(0,s.useEffect)(()=>{if(e){let t=(e.name??"").split(" ");a(t[0]??""),o(t.length>2?t.slice(1,-1).join(" "):""),r(t.length>1?t[t.length-1]:""),e.avatar&&p(e.avatar)}},[e]);let x=(0,s.useRef)(null),C=()=>{var e;return null==(e=x.current)?void 0:e.click()},j=()=>{d(null),p(null)},f=async()=>{if(!t.trim()||!n.trim())return void g("Пожалуйста, введите фамилию и имя");g(null);try{let e;if(m(!0),c){let{id:t}=await O.uploadAvatar(c);e=t}await O.updateMe({firstName:t.trim(),lastName:n.trim(),middleName:l.trim()||void 0,...e?{avatarId:e}:{}}),window.history.back()}catch(e){g(e instanceof Error?e.message:"Ошибка сохранения")}finally{m(!1)}};return(0,i.jsxs)("div",{className:"container-WGkeKK",children:[(0,i.jsxs)("div",{className:"avatarContainer-u3yGUn",children:[(0,i.jsx)(_,{src:u,size:100,uploading:null===u,backgroundColor:"#39394040"}),(0,i.jsx)("input",{type:"file",ref:x,onChange:e=>{var t;let a=(null==(t=e.target.files)?void 0:t[0])??null;if(a){let e=new FileReader;e.onloadend=()=>p(e.result),e.readAsDataURL(a)}d(a)},accept:"image/*",className:"hiddenInput-WSosju"}),(0,i.jsxs)("button",{type:"button",className:"uploadButton-Z9KgCd",onClick:u?j:C,onKeyDown:e=>{("Enter"===e.key||" "===e.key)&&(u?j():C())},children:[(0,i.jsx)($,{size:24,color:"#ffffff"}),(0,i.jsx)("span",{className:"uploadButtonText-EtJKdN",children:u?"Удалить фото":"Добавить фото"})]})]}),(0,i.jsx)(eL,{label:"Фамилия",placeholder:"Иванов",value:n,onChange:e=>r(e.target.value),error:v||void 0,required:!0}),(0,i.jsx)(eL,{label:"Имя",placeholder:"Иван",value:t,onChange:e=>a(e.target.value),error:v||void 0,required:!0}),(0,i.jsx)(eL,{label:"Отчество (необязательно)",placeholder:"Иванович",value:l,onChange:e=>o(e.target.value)}),(0,i.jsxs)("div",{className:"buttonGroup-dWT_av",children:[(0,i.jsx)(G,{onClick:f,disabled:h,type:"button",accent:!0,children:"Сохранить"}),(0,i.jsx)(G,{onClick:()=>window.history.back(),type:"button",children:"Отменить"})]})]})},{}),handle:{headerProps:{showLogo:!1,showLeftButton:!0,showRightButton:!1,navigateTo:"back",pageName:"Редактирование профиля"}}},{path:"profile/subscriptions",element:(0,i.jsx)(()=>{let e=(0,eK.NL)(),t=(0,d.s0)(),{data:a,isLoading:n}=(0,P.a)({queryKey:["mySubscriptions"],queryFn:()=>O.getMySubscriptions()}),r=(0,q.D)({mutationFn:async e=>O.unsubscribe(e),onSuccess:()=>{e.invalidateQueries({queryKey:["mySubscriptions"]})}});return(0,i.jsx)("div",{className:"container-MUpiQo",children:(0,i.jsxs)("div",{className:"subscriptionsContainer-WjDW48",children:[n&&null,!n&&(!a||0===a.length)&&(0,i.jsx)(eT,{text:"Пока ничего нет"}),null==a?void 0:a.map(e=>(0,i.jsx)(ts,{title:e.organization.name,imageUrl:e.organization.avatarUrl,image:!!e.organization.avatarUrl,isHeart:!0,isSubscribed:!0,ratingAvg:e.organization.ratingAvg??null,reviewsCount:e.organization.reviewsCount,onHeartClick:()=>r.mutate(e.organization.id),onCardClick:()=>t(`/organizer/${e.organization.id}`)},e.id))]})})},{}),handle:{headerProps:{showLogo:!1,showLeftButton:!0,showRightButton:!1,navigateTo:"back",pageName:"Подписки"}}},{path:"profile/about-company",element:(0,i.jsx)(()=>{let[e,t]=(0,s.useState)(!1),[a,n]=(0,s.useState)(!1),r=(0,s.useRef)(null),l=(0,d.s0)(),{user:o}=Z(),c=(null==o?void 0:o.organizationId)||null,{data:u}=(0,P.a)({queryKey:["organization",c],enabled:!!c,queryFn:()=>O.getOrganization(c)});(0,s.useEffect)(()=>{let e=()=>{let e=r.current;e&&n(e.scrollHeight>e.clientHeight+1)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);let p=(0,s.useMemo)(()=>(null==u?void 0:u.ratingAvg)==null?"—":Number(u.ratingAvg).toFixed(1).replace(".",","),[null==u?void 0:u.ratingAvg]);return(0,i.jsx)("div",{className:tl.container,children:(0,i.jsxs)("div",{className:`${tl.subscriptionsContainer}`,children:[(0,i.jsx)(ts,{title:(null==u?void 0:u.name)||"",imageUrl:null==u?void 0:u.avatarUrl,image:!!(null==u?void 0:u.avatarUrl),isEdit:!0,hideContent:!0,onButtonClick:()=>l("/profile/about-company/edit")}),(0,i.jsxs)("div",{className:tl.contentWrapper,children:[(0,i.jsxs)("div",{className:tl.content,children:[(0,i.jsx)("span",{className:tl.infoText,children:"Рейтинг"}),(0,i.jsxs)("div",{className:tl.infoWrapper,children:[(0,i.jsx)(z,{size:16,color:"#BBBAFF"}),(0,i.jsx)("div",{className:tl.infoText,children:p})]})]}),(0,i.jsxs)("button",{type:"button",className:tl.content,onClick:()=>l("/profile/about-company/reviews"),"aria-label":"Перейти к отзывам",children:[(0,i.jsx)("span",{className:tl.infoText,children:"Отзывы"}),(0,i.jsxs)("div",{className:tl.infoWrapper,children:[(0,i.jsx)(M,{size:16,color:"#BBBAFF"}),(0,i.jsx)("div",{className:tl.infoText,children:(null==u?void 0:u.reviewsCount)??0})]})]})]}),(null==u?void 0:u.description)&&(0,i.jsxs)("div",{className:tl.description,children:[(0,i.jsx)("span",{className:tl.descriptionTitle,children:"Об организации"}),(0,i.jsxs)("div",{className:tl.descriptionContent,children:[(0,i.jsx)("span",{className:`${tl.descriptionText} ${e?tl.expanded:tl.collapsed}`,ref:r,children:null==u?void 0:u.description}),(a||e)&&(0,i.jsx)("button",{className:tl.showMoreButton,onClick:()=>{t(!e)},type:"button",children:e?"Скрыть":"Показать еще"})]})]})]})})},{}),handle:{headerProps:{showLogo:!1,showLeftButton:!0,showRightButton:!1,navigateTo:"back",pageName:"Об организации"}}},{path:"profile/about-company/edit",element:(0,i.jsx)(()=>{let[e,t]=(0,s.useState)(1),a=(0,d.s0)(),{user:n}=Z(),r=(null==n?void 0:n.organizationId)||null,[l,o]=(0,s.useState)(""),[c,u]=(0,s.useState)(""),[p,h]=(0,s.useState)(""),[m,v]=(0,s.useState)(""),[g,x]=(0,s.useState)(""),[C,j]=(0,s.useState)(""),[f,w]=(0,s.useState)(""),[N,y]=(0,s.useState)(""),[b,k]=(0,s.useState)(null),[L,S]=(0,s.useState)({}),[I,T]=(0,s.useState)(!1),[B,F]=(0,s.useState)(null),[z,M]=(0,s.useState)(null),[W,E]=(0,s.useState)(void 0),A=(0,s.useRef)(null);(0,s.useEffect)(()=>{r&&O.getOrganization(r).then(e=>{o(e.name||""),u(e.description||""),E(e.avatarUrl),v(e.socialUrl||""),x(e.inn||""),j(e.ogrn||""),w(e.kpp||""),y(e.licence||"");let t=(e.telephone||"").replace(/\D/g,"").slice(-10);h(t),k({name:e.name||"",description:e.description||"",phoneDigits:t,socialUrl:e.socialUrl||"",inn:e.inn||"",ogrn:e.ogrn||"",kpp:e.kpp||"",licence:e.licence||""})}).catch(()=>{})},[r]);let U=()=>{var e;return null==(e=A.current)?void 0:e.click()},H=e=>{var t;let a=(null==(t=e.target.files)?void 0:t[0])??null;if(a){let e=new FileReader;e.onloadend=()=>M(e.result),e.readAsDataURL(a)}F(a)},D=()=>{F(null),M(null)},P=e=>{let t={};return 1===e?(l.trim()||(t.name="Обязательно"),c.trim()||(t.description="Обязательно"),10!==p.length&&(t.telephone="Введите телефон"),m.trim()||(t.socialUrl="Обязательно")):2===e&&(g.trim()||(t.inn="Обязательно"),C.trim()||(t.ogrn="Обязательно"),f.trim()||(t.kpp="Обязательно"),N.trim()||(t.licence="Обязательно")),S(t),0===Object.keys(t).length},q=async()=>{if(!r)return;let e=!!B,t=!b||b.name!==l||b.description!==c||b.phoneDigits!==p||b.socialUrl!==m||b.inn!==g||b.ogrn!==C||b.kpp!==f||b.licence!==N;try{let n;if(T(!0),e&&!t){let{id:e}=await O.uploadAvatar(B);await O.updateOrganizationAvatar(r,e),a(-1);return}if(t&&!P(2))return;if(e){let{id:e}=await O.uploadAvatar(B);n=e}await O.submitOrganizationUpdateApplication({organizationId:r,name:l,description:c,phoneDigits:p,socialUrl:m,inn:g,ogrn:C,kpp:f,licence:N,...n?{avatarId:n}:{}}),a(-1)}catch(e){console.error(e)}finally{T(!1)}};return(0,i.jsxs)("div",{className:tD.container,children:[(0,i.jsx)("div",{className:tD.stepperContainer,children:(0,i.jsx)(eC,{steps:2,currentStep:e,onStepClick:e=>{t(e)}})}),(0,i.jsx)("div",{className:tD.profileCard,children:(0,i.jsx)("div",{className:tD.profileCardContent,children:(()=>{switch(e){case 1:return(0,i.jsxs)("div",{className:tD.stepContent,children:[(0,i.jsxs)("div",{children:[(0,i.jsx)(_,{src:z||W||void 0,size:100,backgroundColor:"#39394040"}),(0,i.jsx)("input",{type:"file",ref:A,onChange:H,accept:"image/*",style:{display:"none"}}),(0,i.jsxs)("button",{type:"button",onClick:z?D:U,onKeyDown:e=>{("Enter"===e.key||" "===e.key)&&(z?D():U())},className:tD.button,children:[(0,i.jsx)($,{size:24,color:"#ffffff"}),(0,i.jsx)("span",{style:{marginLeft:8},children:z?"Удалить логотип":"Изменить логотип"})]})]}),(0,i.jsx)(eL,{label:"Название",placeholder:'Например: ООО "Альфа"',value:l,onChange:e=>o(e.target.value),error:L.name,required:!0}),(0,i.jsx)(eL,{label:"Описание",placeholder:"Кратко опишите вашу деятельность",value:c,onChange:e=>u(e.target.value),error:L.description,multiline:!0,rows:3,required:!0}),(0,i.jsx)(eL,{label:"Телефон",placeholder:"(999) 999-99-99",prefixElement:(0,i.jsx)("span",{children:"+7"}),value:(e=>{if(!e)return"";let t="";return e.length>0&&(t+="("+e.slice(0,Math.min(3,e.length)),e.length>3&&(t+=") ")),e.length>3&&(t+=e.slice(3,Math.min(6,e.length)),t+=e.length>6?"-":""),e.length>6&&(t+=e.slice(6,Math.min(8,e.length)),t+=e.length>8?"-":""),e.length>8&&(t+=e.slice(8,10)),t})(p),onChange:e=>{h(String(e.target.value).replace(/\D/g,"").slice(0,10))},error:L.telephone,type:"tel",inputMode:"numeric",required:!0}),(0,i.jsx)(eL,{label:"Соц. сети",placeholder:"https://t.me/your_org",value:m,onChange:e=>v(e.target.value),error:L.socialUrl,required:!0})]});case 2:return(0,i.jsxs)("div",{className:tD.stepContent,children:[(0,i.jsx)(eL,{label:"ИНН",placeholder:"Например: 7700000000",value:g,onChange:e=>x(e.target.value),error:L.inn,required:!0}),(0,i.jsx)(eL,{label:"ОГРН",placeholder:"Например: 1207700000000",value:C,onChange:e=>j(e.target.value),error:L.ogrn,required:!0}),(0,i.jsx)(eL,{label:"КПП",placeholder:"Например: 770001001",value:f,onChange:e=>w(e.target.value),error:L.kpp,required:!0}),(0,i.jsx)(eL,{label:"Лицензия",placeholder:"Номер лицензии или описание",value:N,onChange:e=>y(e.target.value),error:L.licence,required:!0})]});default:return null}})()})}),(0,i.jsxs)("div",{className:tD.actions,children:[e<2&&(0,i.jsx)(G,{accent:!0,className:tD.button,onClick:()=>{e<2&&P(e)&&t(e+1)},children:"Продолжить"}),2===e&&(0,i.jsx)(G,{accent:!0,className:tD.button,onClick:q,disabled:I,children:I?"Отправка...":"Сохранить"}),e>1&&(0,i.jsx)(G,{onClick:()=>{e>1&&t(e-1)},className:tD.button,children:"Назад"}),1===e&&(0,i.jsx)(G,{onClick:()=>{a(-1)},className:tD.button,children:"Отменить"})]})]})},{}),handle:{headerProps:{showLogo:!1,showLeftButton:!0,showRightButton:!1,navigateTo:"back",pageName:"Редактирование организации"}}},{path:"profile/about-company/reviews",element:(0,i.jsx)(ty,{}),handle:{headerProps:{showLogo:!1,showLeftButton:!0,showRightButton:!1,navigateTo:"back",pageName:"Отзывы"}}},{path:"profile/legal-docs",element:(0,i.jsx)(()=>{let{user:e}=Z(),t=(null==e?void 0:e.organizationId)||null,a=(0,d.s0)(),{data:n}=(0,P.a)({queryKey:["organization",t],enabled:!!t,queryFn:()=>O.getOrganization(t)});return(0,i.jsx)("div",{className:"container-FMi1V9",children:(0,i.jsxs)("div",{className:"legalDocsContainer-km1Z_q",children:[(0,i.jsx)(ts,{title:(null==n?void 0:n.name)||"",imageUrl:null==n?void 0:n.avatarUrl,image:!!(null==n?void 0:n.avatarUrl),isEdit:!0,hideContent:!0,onButtonClick:()=>a("/profile/about-company/edit")}),(0,i.jsxs)("div",{className:"contentWrapper-BucJ2A",children:[(0,i.jsxs)("div",{className:to,children:[(0,i.jsx)("span",{className:tc,children:"ИНН"}),(0,i.jsx)("div",{className:tc,children:(null==n?void 0:n.inn)||"—"})]}),(0,i.jsxs)("div",{className:to,children:[(0,i.jsx)("span",{className:tc,children:"КПП"}),(0,i.jsx)("div",{className:tc,children:(null==n?void 0:n.kpp)||"—"})]}),(0,i.jsxs)("div",{className:to,children:[(0,i.jsx)("span",{className:tc,children:"ОГРН"}),(0,i.jsx)("div",{className:tc,children:(null==n?void 0:n.ogrn)||"—"})]}),(0,i.jsxs)("div",{className:to,children:[(0,i.jsx)("span",{className:tc,children:"Лицензия"}),(0,i.jsx)("div",{className:tc,children:(null==n?void 0:n.licence)||"—"})]})]})]})})},{}),handle:{headerProps:{showLogo:!1,showLeftButton:!0,showRightButton:!1,navigateTo:"back",pageName:"Юридические документы"}}},{path:"profile/my-events",element:(0,i.jsx)(()=>{let[e,t]=(0,s.useState)("moderation"),{user:a}=Z(),n=(null==a?void 0:a.organizationId)||null,{data:r=[]}=(0,P.a)({queryKey:["organization-events",n,"moderation"],enabled:!!n,queryFn:()=>O.getOrganizationEvents(n,{statusCode:"moderation"})}),{data:l=[]}=(0,P.a)({queryKey:["organization-events",n,"published"],enabled:!!n,queryFn:()=>O.getOrganizationEvents(n,{statusCode:"published"})}),{data:o=[]}=(0,P.a)({queryKey:["organization-events",n,"completed"],enabled:!!n,queryFn:()=>O.getOrganizationEvents(n,{statusCode:"completed"})}),{data:c=[]}=(0,P.a)({queryKey:["organization-drafts",n],enabled:!!n,queryFn:()=>O.getOrganizationDrafts(n)}),u=(0,d.s0)();return(0,i.jsxs)("div",{className:"container-gDfpDo",children:[(0,i.jsx)("div",{className:"tabsContainer-W49ogs",children:(0,i.jsxs)(eb,{children:[(0,i.jsx)(ew,{accent:"moderation"===e,onClick:()=>t("moderation"),children:"Модерация"},"moderation"),(0,i.jsx)(ew,{accent:"actual"===e,onClick:()=>t("actual"),children:"Активные"},"actual"),(0,i.jsx)(ew,{accent:"completed"===e,onClick:()=>t("completed"),children:"Завершены"},"completed"),(0,i.jsx)(ew,{accent:"drafts"===e,onClick:()=>t("drafts"),children:"Черновики"},"drafts")]})}),(0,i.jsx)("div",{className:"eventsListContainer-gK9z78",children:(()=>{switch(e){case"moderation":if(0===r.length)return(0,i.jsx)(eT,{text:"Пока ничего нет"});return r.map(e=>(0,i.jsx)(e4,{title:e.title,date:e.date,time:e.time,isEdit:!0,onEditClick:()=>u(`/event/${e.id}/edit`),imageUrl:e.imageUrl,image:!!e.imageUrl,actionButton:!1,isHeart:!1,isMyEvent:!0},e.id));case"actual":if(0===l.length)return(0,i.jsx)(eT,{text:"Пока ничего нет"});return l.map(e=>(0,i.jsx)(e4,{title:e.title,isEdit:!0,onEditClick:()=>u(`/event/${e.id}/edit`),date:e.date,time:e.time,imageUrl:e.imageUrl,image:!!e.imageUrl,actionButton:!1,isMyEvent:!0,isHeart:!1},e.id));case"drafts":if(0===c.length)return(0,i.jsx)(eT,{text:"Пока ничего нет"});return c.map(e=>(0,i.jsx)(e4,{title:e.title,date:e.date,time:e.time,imageUrl:e.imageUrl,image:!!e.imageUrl,actionButton:!1,isMyEvent:!0,isEdit:!0,onEditClick:()=>u(`/event/${e.id}/edit`),isHeart:!1},e.id));case"completed":if(0===o.length)return(0,i.jsx)(eT,{text:"Пока ничего нет"});return o.map(e=>(0,i.jsx)(e4,{title:e.title,date:e.date,time:e.time,imageUrl:e.imageUrl,image:!!e.imageUrl,actionButton:!1,isMyEvent:!0,isHeart:!1},e.id));default:return null}})()}),(0,i.jsx)("div",{className:"actionsContainer-xYdOwr",children:(0,i.jsx)("div",{className:"actions-CII1Eh",children:(0,i.jsx)(G,{accent:!0,onClick:()=>{u("/event-create")},className:"button-k9Xm5t",children:"Создать"})})})]})},{}),handle:{headerProps:{showLogo:!1,showLeftButton:!0,showRightButton:!1,navigateTo:"back",pageName:"Мои события"}}},{path:"profile/my-stories",element:(0,i.jsx)(()=>{let e=(0,d.s0)(),{user:t}=Z(),{data:a=[]}=(0,P.a)({queryKey:["my-organization-stories",null==t?void 0:t.organizationId],enabled:!!(null==t?void 0:t.organizationId),queryFn:()=>O.getOrganizationStories(t.organizationId)});return(0,i.jsxs)("div",{className:"container-znUqbq",children:[(0,i.jsxs)("div",{className:"eventsContainer-IwmoRv",children:[0===a.length&&(0,i.jsx)(eT,{text:"Пока ничего нет"}),a.map(e=>(0,i.jsx)(tp,{title:e.title,imageUrl:e.posterUrl,image:!!e.posterUrl,backgroundColor:e.color,textColor:e.textColor},e.id))]}),(0,i.jsx)("div",{className:"actionsContainer-tWnNep",children:(0,i.jsx)("div",{className:"actions-hLYOFM",children:(0,i.jsx)(G,{accent:!0,onClick:()=>{e("/story-create")},className:"button-iqCbnU",children:"Создать"})})})]})},{}),handle:{headerProps:{showLogo:!1,showLeftButton:!0,navigateTo:"back",showRightButton:!1,pageName:"Сторисы"}}},{path:"profile/get-rights",element:(0,i.jsx)(()=>{let[e,t]=(0,s.useState)(1),a=(0,d.s0)(),[n,r]=(0,s.useState)(""),[l,o]=(0,s.useState)(""),[c,u]=(0,s.useState)(""),[p,h]=(0,s.useState)(""),[m,v]=(0,s.useState)(""),[g,x]=(0,s.useState)(""),[C,j]=(0,s.useState)(""),[f,w]=(0,s.useState)(""),[N,y]=(0,s.useState)({}),[b,k]=(0,s.useState)(!1),[L,S]=(0,s.useState)(null),[I,T]=(0,s.useState)(null),B=(0,s.useRef)(null),F=()=>{var e;return null==(e=B.current)?void 0:e.click()},z=e=>{var t;let a=(null==(t=e.target.files)?void 0:t[0])??null;if(a){let e=new FileReader;e.onloadend=()=>T(e.result),e.readAsDataURL(a)}S(a)},M=()=>{S(null),T(null)},W=e=>{let t={};return 1===e?(n.trim()||(t.name="Обязательно"),l.trim()||(t.description="Обязательно"),10!==c.length&&(t.telephone="Введите телефон"),p.trim()||(t.socialUrl="Обязательно")):2===e&&(m.trim()||(t.inn="Обязательно"),g.trim()||(t.ogrn="Обязательно"),C.trim()||(t.kpp="Обязательно"),f.trim()||(t.licence="Обязательно")),y(t),0===Object.keys(t).length};return(0,i.jsxs)("div",{className:th.container,children:[(0,i.jsx)("div",{className:th.stepperContainer,children:(0,i.jsx)(eC,{steps:2,currentStep:e,onStepClick:e=>{t(e)}})}),(0,i.jsx)("div",{className:th.profileCard,children:(0,i.jsx)("div",{className:th.profileCardContent,children:(()=>{switch(e){case 1:return(0,i.jsxs)("div",{className:th.stepContent,children:[(0,i.jsxs)("div",{children:[(0,i.jsx)(_,{src:I,size:100,backgroundColor:"#39394040"}),(0,i.jsx)("input",{type:"file",ref:B,onChange:z,accept:"image/*",style:{display:"none"}}),(0,i.jsxs)("button",{type:"button",onClick:I?M:F,onKeyDown:e=>{("Enter"===e.key||" "===e.key)&&(I?M():F())},className:th.button,children:[(0,i.jsx)($,{size:24,color:"#ffffff"}),(0,i.jsx)("span",{style:{marginLeft:8},children:I?"Удалить логотип":"Добавить логотип"})]})]}),(0,i.jsx)(eL,{label:"Название",placeholder:'Например: ООО "Альфа"',value:n,onChange:e=>r(e.target.value),error:N.name,required:!0}),(0,i.jsx)(eL,{label:"Описание",placeholder:"Кратко опишите вашу деятельность",value:l,onChange:e=>o(e.target.value),error:N.description,multiline:!0,rows:3,required:!0}),(0,i.jsx)(eL,{label:"Телефон",placeholder:"(999) 999-99-99",prefixElement:(0,i.jsx)("span",{children:"+7"}),value:(e=>{if(!e)return"";let t="";return e.length>0&&(t+="("+e.slice(0,Math.min(3,e.length)),e.length>3&&(t+=") ")),e.length>3&&(t+=e.slice(3,Math.min(6,e.length)),t+=e.length>6?"-":""),e.length>6&&(t+=e.slice(6,Math.min(8,e.length)),t+=e.length>8?"-":""),e.length>8&&(t+=e.slice(8,10)),t})(c),onChange:e=>{u(String(e.target.value).replace(/\D/g,"").slice(0,10))},error:N.telephone,type:"tel",inputMode:"numeric",required:!0}),(0,i.jsx)(eL,{label:"Соц. сети",placeholder:"https://t.me/your_org",value:p,onChange:e=>h(e.target.value),error:N.socialUrl,required:!0})]});case 2:return(0,i.jsxs)("div",{className:th.stepContent,children:[(0,i.jsx)(eL,{label:"ИНН",placeholder:"Например: 7700000000",value:m,onChange:e=>v(e.target.value),error:N.inn,required:!0}),(0,i.jsx)(eL,{label:"ОГРН",placeholder:"Например: 1207700000000",value:g,onChange:e=>x(e.target.value),error:N.ogrn,required:!0}),(0,i.jsx)(eL,{label:"КПП",placeholder:"Например: 770001001",value:C,onChange:e=>j(e.target.value),error:N.kpp,required:!0}),(0,i.jsx)(eL,{label:"Лицензия",placeholder:"Номер лицензии или описание",value:f,onChange:e=>w(e.target.value),error:N.licence,required:!0})]});default:return null}})()})}),(0,i.jsxs)("div",{className:th.actions,children:[e<2&&(0,i.jsx)(G,{accent:!0,className:th.button,onClick:()=>{e<2&&W(e)&&t(e+1)},children:"Продолжить"}),2===e&&(0,i.jsx)(G,{accent:!0,className:th.button,onClick:async()=>{if(W(2))try{let e;if(k(!0),L){let{id:t}=await O.uploadAvatar(L);e=t}await O.submitOrganizerApplication({name:n,description:l,phoneDigits:c,socialUrl:p,inn:m,ogrn:g,kpp:C,licence:f,...e?{avatarId:e}:{}}),a(-1)}catch(e){console.error(e)}finally{k(!1)}},disabled:b,children:b?"Отправка...":"Отправить"}),e>1&&(0,i.jsx)(G,{onClick:()=>{e>1&&t(e-1)},className:th.button,children:"Назад"}),1===e&&(0,i.jsx)(G,{onClick:()=>{a(-1)},className:th.button,children:"Отменить"})]})]})},{}),handle:{headerProps:{showLogo:!1,showLeftButton:!0,showRightButton:!1,navigateTo:"back",pageName:"Создание профиля"}}},{path:"event/:id",element:(0,i.jsx)(()=>{let{id:e}=(0,d.UO)(),t=e??"",[a,n]=(0,s.useState)(!1),[r,l]=(0,s.useState)(!1),o=(0,s.useRef)(null),c=(0,d.s0)(),{user:u,isAuthenticated:p}=Z(),{data:h}=(0,P.a)({queryKey:["event",t],enabled:!!t,queryFn:()=>O.getEventById(t)}),{data:m=[]}=(0,P.a)({queryKey:["event-purchases",t],enabled:!!t&&!!h&&p&&!!u&&u.isOrganizer&&u.organizationId===h.raw.organizationId,queryFn:()=>O.getEventPurchases(t,"paid")}),v=(0,s.useMemo)(()=>m.map((e,t)=>({id:e.user.id||`participant-${t}`,imageUrl:e.user.avatarUrl||tC})),[m]),g=(0,s.useMemo)(()=>!!u&&!!u.isOrganizer&&!!h&&u.organizationId===h.raw.organizationId,[u,h]);return(0,s.useEffect)(()=>{let e=()=>{let e=o.current;e&&l(e.scrollHeight>e.clientHeight+1)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,i.jsxs)("div",{className:tg.container,children:[(0,i.jsxs)("div",{className:`${tg.eventContainer}`,children:[(0,i.jsx)(ts,{title:(null==h?void 0:h.title)||"",date:null==h?void 0:h.date,time:null==h?void 0:h.time,imageUrl:(null==h?void 0:h.imageUrl)||tC,image:!!(null==h?void 0:h.imageUrl),isEdit:g,onButtonClick:()=>{t&&c(`/event/${t}/edit`)},onBackClick:()=>{c(-1),console.log("back")},isEventPage:!0,hideContent:!0}),(0,i.jsx)("div",{className:tg.eventContent,children:(0,i.jsx)(ed,{avatar:{src:(null==h?void 0:h.organization.avatarUrl)||tC,size:32},primaryText:(null==h?void 0:h.organization.name)||"",secondaryText:"Организатор",rightIcon:tx,iconColor:"#AFF940",onClick:()=>{(null==h?void 0:h.organization.id)&&c(`/organizer/${h.organization.id}`)}})}),(0,i.jsxs)("div",{className:tg.infoWrapper,children:[(0,i.jsxs)("div",{className:tg.contentWrapper,children:[(0,i.jsxs)("div",{className:tg.content,children:[(0,i.jsx)(C,{size:24,color:"#BBBAFF"}),(0,i.jsx)("span",{className:tg.infoText,children:null==h?void 0:h.date})]}),(0,i.jsxs)("div",{className:tg.content,children:[(0,i.jsx)(E,{size:24,color:"#BBBAFF"}),(0,i.jsx)("span",{className:tg.infoText,children:null==h?void 0:h.time})]})]}),(0,i.jsx)("div",{className:tg.contentWrapper,children:(0,i.jsxs)("div",{className:tg.content,children:[(0,i.jsx)(j,{size:24,color:"#BBBAFF"}),(0,i.jsx)("span",{className:tg.infoText,children:null==h?void 0:h.location})]})})]}),g&&(0,i.jsxs)("div",{className:tg.statistics,children:[(0,i.jsx)("span",{className:tg.statisticsTitle,children:"Статистика"}),(0,i.jsxs)("div",{className:tg.statisticsContent,children:[(0,i.jsxs)("div",{className:tg.statisticsItem,children:[(0,i.jsx)("span",{className:tg.statisticsText,children:"Продаж"}),(0,i.jsx)("span",{className:tg.statisticsValue,children:m.length})]}),(0,i.jsxs)("div",{className:tg.statisticsItem,children:[(0,i.jsx)("span",{className:tg.statisticsText,children:"Комиссия"}),(0,i.jsx)("span",{className:tg.statisticsValue,children:Math.round(m.reduce((e,t)=>e+(t.serviceTax||0),0))})]})]})]}),g&&(0,i.jsxs)("div",{className:tg.participants,children:[(0,i.jsxs)("div",{className:tg.participantsWrapper,children:[(0,i.jsx)("span",{className:tg.participantsTitle,children:"Участники"}),(0,i.jsx)("span",{className:tg.participantsValue,children:v.length})]}),(0,i.jsxs)("div",{className:tg.participantsContent,children:[v.slice(0,11).map(e=>(0,i.jsx)(_,{size:48,src:e.imageUrl},e.id)),v.length>11&&(0,i.jsx)("button",{type:"button",onClick:()=>{c(`/event/${t}/participants`)},children:(0,i.jsx)(_,{size:48,backgroundColor:"#BBBAFF",count:v.length-11})})]})]}),(0,i.jsxs)("div",{className:tg.description,children:[(0,i.jsx)("span",{className:tg.descriptionTitle,children:"Описание"}),(0,i.jsxs)("div",{className:tg.descriptionContent,children:[(0,i.jsx)("span",{className:`${tg.descriptionText} ${a?tg.expanded:tg.collapsed}`,ref:o,children:(null==h?void 0:h.description)||""}),(r||a)&&(0,i.jsx)("button",{className:tg.showMoreButton,onClick:()=>{n(!a)},type:"button",children:a?"Скрыть":"Показать еще"})]})]})]}),(0,i.jsx)("div",{className:tg.actionsContainer,children:(0,i.jsxs)("div",{className:tg.actions,children:[(0,i.jsx)("div",{children:(0,i.jsx)(ed,{primaryText:`${null==h?void 0:h.price} \u{20BD}`,className:tg.price})}),(0,i.jsx)(G,{accent:!0,onClick:()=>{c(`/purchase/${t}`)},className:tg.button,children:"Купить билет"})]})})]})},{}),handle:{showHeader:!1}},{path:"event/:id/participants",element:(0,i.jsx)(()=>{let{id:e}=(0,d.UO)(),t=e??"",{data:a=[],isLoading:n}=(0,P.a)({queryKey:["event-purchases",t],enabled:!!t,queryFn:()=>O.getEventPurchases(t,"paid")});return(0,i.jsx)("div",{className:tj.container,children:(0,i.jsx)("div",{className:`${tj.eventContainer}`,children:(0,i.jsxs)("div",{className:tj.participants,children:[(0,i.jsxs)("div",{className:tj.participantsWrapper,children:[(0,i.jsx)("span",{className:tj.participantsTitle,children:"Участники"}),(0,i.jsx)("span",{className:tj.participantsValue,children:n?"...":a.length})]}),(0,i.jsx)("div",{className:tj.participantsList,children:!n&&a.map((e,t)=>(0,i.jsxs)("div",{className:tj.participantItem,children:[(0,i.jsx)(_,{size:48,src:e.user.avatarUrl||"/avatars/1.webp"}),(0,i.jsx)("span",{className:tj.participantName,children:e.user.name})]},e.user.id||t))})]})})})},{}),handle:{headerProps:{showLogo:!1,showLeftButton:!0,showRightButton:!1,navigateTo:"back",pageName:"Участники"}}},{path:"organizer/:id",element:(0,i.jsx)(()=>{let{id:e}=(0,d.UO)(),[t,a]=(0,s.useState)(!1),[n,r]=(0,s.useState)(!1),l=(0,s.useRef)(null),o=(0,d.s0)(),c=(0,eK.NL)(),{isAuthenticated:u}=Z();(0,s.useEffect)(()=>{let e=()=>{let e=l.current;e&&r(e.scrollHeight>e.clientHeight+1)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);let{data:p}=(0,P.a)({queryKey:["organization",e],enabled:!!e,queryFn:()=>O.getOrganization(e)});console.log("org",p);let{data:h=[]}=(0,P.a)({queryKey:["organization-events",e],enabled:!!e,queryFn:()=>O.getOrganizationEvents(e)}),{data:m=[]}=(0,P.a)({queryKey:["organization-stories",e],enabled:!!e,queryFn:()=>O.getOrganizationStories(e)}),{data:v=[]}=(0,P.a)({queryKey:["mySubscriptions"],enabled:!!u,queryFn:()=>O.getMySubscriptions()}),g=(0,q.D)({mutationFn:async e=>O.subscribe(e),onSuccess:()=>{c.invalidateQueries({queryKey:["mySubscriptions"]})}}),x=(0,q.D)({mutationFn:async e=>O.unsubscribe(e),onSuccess:()=>{c.invalidateQueries({queryKey:["mySubscriptions"]})}}),C=(0,s.useMemo)(()=>(null==p?void 0:p.ratingAvg)==null?"—":Number(p.ratingAvg).toFixed(1).replace(".",","),[null==p?void 0:p.ratingAvg]),j=(0,s.useMemo)(()=>!!e&&v.some(t=>t.organization.id===e),[v,e]),f=(0,s.useMemo)(()=>p?m.map((e,t)=>({id:t+1,name:p.name,avatarUrl:e.posterUrl||p.avatarUrl||t$,stories:[{url:e.posterUrl||p.avatarUrl||t$,duration:4001,header:{heading:e.title,subheading:e.description||"",profileImage:p.avatarUrl||t$}}]})):[],[p,m]);return(0,i.jsx)("div",{className:tH.container,children:(0,i.jsxs)("div",{className:`${tH.eventContainer}`,children:[(0,i.jsx)(ts,{title:(null==p?void 0:p.name)||"",imageUrl:(null==p?void 0:p.avatarUrl)||t$,image:!!(null==p?void 0:p.avatarUrl),onBackClick:()=>{o(-1),console.log("back")},onHeartClick:()=>{if(e){if(!u)return void o("/login");j?x.mutate(e):g.mutate(e)}},isEventPage:!0,hideContent:!0,isHeart:!0,isSubscribed:j}),(0,i.jsxs)("div",{className:tH.contentWrapper,children:[(0,i.jsxs)("div",{className:tH.content,children:[(0,i.jsx)("span",{className:tH.infoText,children:"Рейтинг"}),(0,i.jsxs)("div",{className:tH.infoWrapper,children:[(0,i.jsx)(z,{size:16,color:"#BBBAFF"}),(0,i.jsx)("div",{className:tH.infoText,children:C})]})]}),(0,i.jsxs)("button",{type:"button",className:tH.content,onClick:()=>o("/profile/about-company/reviews"),"aria-label":"Перейти к отзывам",children:[(0,i.jsx)("span",{className:tH.infoText,children:"Отзывы"}),(0,i.jsxs)("div",{className:tH.infoWrapper,children:[(0,i.jsx)(M,{size:16,color:"#BBBAFF"}),(0,i.jsx)("div",{className:tH.infoText,children:(null==p?void 0:p.reviewsCount)??0})]})]})]}),(null==p?void 0:p.description)&&(0,i.jsxs)("div",{className:tH.description,children:[(0,i.jsx)("span",{className:tH.descriptionTitle,children:"Об организаторе"}),(0,i.jsxs)("div",{className:tH.descriptionContent,children:[(0,i.jsx)("span",{className:`${tH.descriptionText} ${t?tH.expanded:tH.collapsed}`,ref:l,children:null==p?void 0:p.description}),(n||t)&&(0,i.jsx)("button",{className:tH.showMoreButton,onClick:()=>{a(!t)},type:"button",children:t?"Скрыть":"Показать еще"})]})]}),m.length>0&&(0,i.jsx)("div",{className:tH.storiesWrapper,children:(0,i.jsx)(eO,{companies:f})}),h.length>0&&(0,i.jsxs)("div",{className:tH.eventsWrapper,children:[(0,i.jsx)("div",{className:tH.eventsTitle,children:"События"}),(0,i.jsx)("div",{className:tH.eventsContainer,children:h.map(e=>(0,i.jsx)(en,{title:e.title,date:e.date+` \u{432} ${e.time}`,location:e.location,price:e.price,image:!!e.imageUrl,imageUrl:e.imageUrl,onButtonClick:()=>{o(`/event/${e.id}`)},forSearch:!0},e.id))})]})]})})},{}),handle:{showHeader:!1}},{path:"organizer/:id/reviews",element:(0,i.jsx)(ty,{}),handle:{headerProps:{showLogo:!1,showLeftButton:!0,showRightButton:!1,navigateTo:"back",pageName:"Отзывы"}}},{path:"ticket/:id",element:(0,i.jsx)(()=>{let{id:e}=(0,d.UO)(),{data:t}=(0,P.a)({queryKey:["ticket",e],enabled:!!e,queryFn:()=>O.getTicketById(e)});return(0,i.jsx)("div",{className:"container-svEM2x",children:(0,i.jsxs)("div",{className:"subscriptionsContainer-GWptth",children:[(0,i.jsx)(tA,{title:(null==t?void 0:t.event.title)||"",date:null==t?void 0:t.event.date,location:null==t?void 0:t.event.location,time:null==t?void 0:t.event.time,imageUrl:null==t?void 0:t.event.imageUrl,image:!!(null==t?void 0:t.event.imageUrl)}),(0,i.jsx)("div",{className:"qrCodeContainerWrapper-qClKnT",children:(0,i.jsxs)("div",{className:"qrCodeContainer-zFZlwR",children:[(0,i.jsx)(tU.default,{value:(null==t?void 0:t.code)||"",style:{height:"auto",maxWidth:"100%",width:"100%"}}),(0,i.jsxs)("div",{className:"qrCodeLabel-NQ1Sa2",children:[(0,i.jsx)("span",{className:"qrCodeTitle-CA01Nt",children:"Билет"}),(0,i.jsx)("span",{className:"qrCodeId-c4F582",children:null==t?void 0:t.code})]})]})}),(0,i.jsxs)("div",{className:"detailsContainer-BsZuJd",children:[(0,i.jsx)("span",{className:"detailsTitle-wUZy1y",children:"Детали заказа"}),(0,i.jsx)("div",{className:"detailsContent-hAV95g",children:(0,i.jsxs)("div",{className:"detailsItem-WLrn44",children:[(0,i.jsx)("span",{className:"itemTitle-RtwBB7",children:"Номер заказа"}),(0,i.jsx)("span",{className:"itemValue-FN9wE_",children:null==t?void 0:t.orderNumber})]})})]})]})})},{}),handle:{headerProps:{showLogo:!1,showLeftButton:!0,navigateTo:"back",showRightButton:!1,pageName:"Билет на событие"}}},{path:"purchase/:id",element:(0,i.jsx)(()=>{let{id:e}=(0,d.UO)(),t=e??"",a=(0,d.s0)(),n=(0,eK.NL)(),[r,l]=(0,s.useState)(1),[o,c]=(0,s.useState)(""),[u,p]=(0,s.useState)(""),[h,m]=(0,s.useState)(),[v,g]=(0,s.useState)(),{data:x}=(0,P.a)({queryKey:["event",t],enabled:!!t,queryFn:()=>O.getEventById(t)}),C=(null==x?void 0:x.price)??0,j=(0,s.useMemo)(()=>r*C,[r,C]),f=(0,s.useMemo)(()=>.1*j,[j]),w=(0,s.useMemo)(()=>j+f,[j,f]);x&&u.trim().length>0&&o.trim().length;let N=(0,q.D)({mutationFn:async()=>O.createPurchase({eventId:t,firstName:u.trim(),lastName:o.trim(),quantity:r,statusCode:"paid"}),onSuccess:async e=>{await n.invalidateQueries({queryKey:["myPurchases"]}),e&&Array.isArray(e.ticketIds)&&e.ticketIds[0]?a(`/ticket/${e.ticketIds[0]}`):a("/ticket")}}),y=(0,s.useCallback)(()=>{l(e=>Math.max(1,e-1))},[]),b=(0,s.useCallback)(()=>{l(e=>e+1)},[]),k=(0,s.useCallback)(()=>{let e=!1;o.trim()?m(void 0):(m("Заполните фамилию"),e=!0),u.trim()?g(void 0):(g("Заполните имя"),e=!0),!e&&(N.isPending||N.mutate())},[o,u,N]);return(0,i.jsx)("div",{className:tf.container,children:(0,i.jsxs)("div",{className:tf.purchaseContainer,children:[(0,i.jsx)(en,{title:(null==x?void 0:x.title)||"",date:x?`${x.date} \u{432} ${x.time}`:void 0,short:!0,location:null==x?void 0:x.location,imageUrl:null==x?void 0:x.imageUrl,image:!!(null==x?void 0:x.imageUrl),price:x?`${x.price} \u{20BD}`:void 0}),(0,i.jsxs)("div",{className:tf.paymentContainer,children:[(0,i.jsx)("span",{className:tf.paymentTitle,children:"Информация покупателя"}),(0,i.jsxs)("div",{className:tf.paymentContent,children:[(0,i.jsx)(eL,{label:"Фамилия",placeholder:"Заполните поле",className:tf.textField,value:o,required:!0,error:h,onChange:e=>{c(String(e.target.value)),h&&m(void 0)}}),(0,i.jsx)(eL,{label:"Имя",placeholder:"Заполните поле",className:tf.textField,value:u,required:!0,error:v,onChange:e=>{p(String(e.target.value)),v&&g(void 0)}}),(0,i.jsxs)("div",{className:tf.ticketsContainer,children:[(0,i.jsx)(eL,{label:"Количество билетов",value:r.toString(),readOnly:!0,required:!0,className:tf.ticketsField}),(0,i.jsx)(et,{icon:(0,i.jsx)(U,{}),onClick:y,disabled:r<=1}),(0,i.jsx)(et,{variant:"accent",icon:(0,i.jsx)(A,{}),onClick:b})]})]})]}),(0,i.jsxs)("div",{className:tf.detailsContainer,children:[(0,i.jsx)("span",{className:tf.detailsTitle,children:"Детали заказа"}),(0,i.jsxs)("div",{className:tf.detailsContent,children:[(0,i.jsxs)("div",{className:tf.detailsItem,children:[(0,i.jsx)("span",{className:tf.itemTitle,children:"Билеты"}),(0,i.jsxs)("span",{className:tf.itemValue,children:[Math.round(j)," ₽"]})]}),(0,i.jsxs)("div",{className:tf.detailsItem,children:[(0,i.jsx)("span",{className:tf.itemTitle,children:"Сервисный сбор"}),(0,i.jsxs)("span",{className:tf.itemValue,children:[Math.round(f)," ₽"]})]})]}),(0,i.jsx)("div",{className:tf.detailsSeparator}),(0,i.jsxs)("div",{className:tf.detailsItem,children:[(0,i.jsx)("span",{className:tf.itemTitle,children:"Итого"}),(0,i.jsxs)("span",{className:tf.itemValue,children:[Math.round(w)," ₽"]})]}),(0,i.jsx)(G,{accent:!0,className:tf.button,disabled:!x||N.isPending,onClick:k,children:N.isPending?"Оплата...":"Оплатить"}),(0,i.jsx)("span",{className:tf.detailsText,children:"Нажимая на кнопку, я предоставляю согласие на обработку своих персональных данных, а также подтверждаю ознакомление и согласие с Политикой конфиденциальности и Пользовательским соглашением"})]})]})})},{}),handle:{headerProps:{showLogo:!1,showLeftButton:!0,showRightButton:!1,navigateTo:"back",pageName:"Покупка билета"}}},{path:"story-create",element:(0,i.jsx)(()=>{let[e,t]=(0,s.useState)(1),[a,n]=(0,s.useState)(null),[r,l]=(0,s.useState)(null),o=(0,s.useRef)(null),c=(0,d.s0)(),{user:u}=Z(),[p,h]=(0,s.useState)(null),[m,v]=(0,s.useState)(""),[g,x]=(0,s.useState)(null),[C,j]=(0,s.useState)(""),[f,w]=(0,s.useState)(""),[N,y]=(0,s.useState)(void 0),[b,k]=(0,s.useState)(void 0),{data:L=[]}=(0,P.a)({queryKey:["story-colors"],queryFn:()=>O.getStoryColors()}),[S,I]=(0,s.useState)(null),{data:T=[]}=(0,P.a)({queryKey:["organization-events-for-stories",null==u?void 0:u.organizationId],enabled:!!(null==u?void 0:u.organizationId),queryFn:()=>O.getOrganizationEvents(u.organizationId)}),{data:B}=(0,P.a)({queryKey:["event",p],enabled:!!p,queryFn:()=>O.getEventById(p)});(0,s.useEffect)(()=>{if(!p)return;let e=T.find(e=>e.id===p);e&&(j(e.title),y(e.date),k(e.time))},[p,T]),(0,s.useEffect)(()=>{p&&B&&w(B.description||"")},[p,B]);let F=()=>{n(null)},z=(0,q.D)({mutationFn:async()=>{var e;let t;if(!(null==u?void 0:u.organizationId))throw Error("Доступно только организаторам");if(!p)throw Error("Выберите событие");let a=S||(null==(e=L[0])?void 0:e.id);return r&&(t=(await O.uploadFile(r)).id),await O.createOrganizationStory({organizationId:u.organizationId,eventId:p,description:f.trim()||void 0,colorId:a,...t?{posterId:t}:{}})},onSuccess:()=>{(0,eS.Am)((0,i.jsx)(ed,{icon:D,primaryText:"История успешно создана!",secondaryText:"Ю-ху!",iconColor:"#AFF940"})),c(-1)},onError:e=>{eS.Am.error((null==e?void 0:e.message)||"Ошибка при создании истории")}}),M=()=>{var e;null==(e=o.current)||e.click()};return(0,i.jsxs)("div",{className:tb.container,children:[(0,i.jsx)("div",{className:tb.stepperContainer,children:(0,i.jsx)(eC,{steps:2,currentStep:e,onStepClick:e=>{t(e)}})}),(0,i.jsx)("div",{className:tb.profileCard,children:(0,i.jsx)("div",{className:tb.profileCardContent,children:(()=>{switch(e){case 1:default:return(0,i.jsx)(tk,{eventValue:p,eventInput:m,onEventChange:e=>{h(e),x(null)},onEventInputChange:e=>v(e),eventOptions:T.map(e=>({label:e.title,value:e.id})),eventError:g||void 0,title:C,description:f,onDescriptionChange:e=>w(e.target.value)});case 2:return(0,i.jsx)(tL,{uploadedImage:a,onImageDelete:F,onAddPhotoClick:M,colors:L,onColorChange:e=>I(e),titlePreview:C,descriptionPreview:f||void 0})}})()})}),(0,i.jsx)("input",{type:"file",ref:o,onChange:e=>{var t;let a=null==(t=e.target.files)?void 0:t[0];if(a){l(a);let e=new FileReader;e.onloadend=()=>{n(e.result)},e.readAsDataURL(a)}},accept:"image/*",className:tb.hiddenInput}),(0,i.jsxs)("div",{className:tb.actions,children:[1===e&&(0,i.jsx)(G,{accent:!0,className:tb.button,onClick:()=>{if(1===e&&!p)return void x("Выберите событие");e<2&&t(e+1)},children:"Продолжить"}),2===e&&(0,i.jsx)(G,{accent:!0,className:tb.button,onClick:()=>{if(!p){x("Выберите событие"),t(1);return}z.mutate()},children:"Отправить"}),e>1&&(0,i.jsx)(G,{onClick:()=>{e>1&&t(e-1)},className:tb.button,children:"Назад"}),1===e&&(0,i.jsx)(G,{onClick:()=>{c(-1)},className:tb.button,children:"Отменить"})]})]})},{}),handle:{headerProps:{showLogo:!1,showLeftButton:!0,showRightButton:!1,navigateTo:"back",pageName:"Создание сторис"}}},{path:"event-create",element:(0,i.jsx)(()=>{let{user:e}=Z(),[t,a]=(0,s.useState)(1),[n,r]=(0,s.useState)(null),[l,o]=(0,s.useState)(null),c=(0,s.useRef)(null),[u,p]=(0,s.useState)(""),[h,m]=(0,s.useState)(""),[v,g]=(0,s.useState)(null),[x,C]=(0,s.useState)(null),[j,f]=(0,s.useState)(""),[w,N]=(0,s.useState)(""),[y,b]=(0,s.useState)(null),[k,L]=(0,s.useState)(""),[S,I]=(0,s.useState)(null),[T,B]=(0,s.useState)(""),[F,z]=(0,s.useState)(""),[M,W]=(0,s.useState)(""),[E,A]=(0,s.useState)(""),[U,H]=(0,s.useState)(null),[$,R]=(0,s.useState)(null),[V,K]=(0,s.useState)(null),[Q,X]=(0,s.useState)(null),[_,J]=(0,s.useState)(null),[Y,ee]=(0,s.useState)(null),[et,ea]=(0,s.useState)(null),en=(0,d.s0)(),{data:ei=[]}=(0,P.a)({queryKey:["categories"],queryFn:()=>O.getCategories()}),{data:er=[]}=(0,P.a)({queryKey:["cities"],queryFn:()=>O.getCities()}),{data:es=[]}=(0,P.a)({queryKey:["colors"],queryFn:()=>O.getColors()}),[el,eo]=(0,s.useState)(null),ec=e=>e?e0(e)?e9(e)?"Дата не может быть в прошлом":null:"Формат даты ДД.ММ.ГГГГ":null,eu=e=>e?e1(e)?null:"Формат времени ЧЧ:ММ":null,ep=()=>{r(null)},eh=()=>{var e;null==(e=c.current)||e.click()},em=(0,q.D)({mutationFn:async()=>{var t;let a;if(!(null==e?void 0:e.organizationId))throw Error("Доступно только организаторам");l&&(a=(await O.uploadFile(l)).id);let n=e2(j);if(!n)throw Error("Некорректная дата");let i=n.getFullYear(),r=String(n.getMonth()+1).padStart(2,"0"),s=String(n.getDate()).padStart(2,"0"),o=`${i}-${r}-${s}`,c={organizationId:e.organizationId,...a?{posterId:a}:{},name:u.trim(),description:h.trim()||void 0,categoryId:y,cityId:S,eventDate:o,startTime:w,location:F.trim(),maxQuantity:Number(M),price:Number(E),colorId:el||(null==(t=es[0])?void 0:t.id)};return await O.createEvent(c)},onSuccess:()=>{(0,eS.Am)((0,i.jsx)(ed,{icon:D,primaryText:"Ивент успешно создан!",secondaryText:"Ю-ху!",iconColor:"#AFF940"})),en(-1)},onError:e=>{eS.Am.error((null==e?void 0:e.message)||"Ошибка при создании ивента")}});return(0,i.jsxs)("div",{className:tS.container,children:[(0,i.jsx)("div",{className:tS.stepperContainer,children:(0,i.jsx)(eC,{steps:3,currentStep:t,onStepClick:e=>{a(e)}})}),(0,i.jsx)("div",{className:tS.profileCard,children:(0,i.jsx)("div",{className:tS.profileCardContent,children:(()=>{switch(t){case 1:default:return(0,i.jsx)(tI,{title:u,description:h,titleError:v||void 0,descriptionError:x||void 0,onTitleChange:e=>{let t=e.target.value;p(t),g(t&&t.trim().length<3?"Минимум 3 символа":null)},onDescriptionChange:e=>{let t=e.target.value;m(t),C(t&&t.trim().length<10?"Минимум 10 символов":null)}});case 2:return(0,i.jsx)(tT,{dateStart:j,timeStart:w,dateError:U||void 0,timeError:$||void 0,onDateChange:e=>{let t=e3(e.target.value.replace(/\D/g,""));f(t),H(ec(t))},onTimeChange:e=>{let t=e6(e.target.value.replace(/\D/g,""));N(t),R(eu(t))},categoryValue:y,categoryInput:k,onCategoryChange:e=>{b(e),J(null)},onCategoryInputChange:e=>L(e),categoryOptions:ei.map(e=>({label:e.name,value:e.id})),categoryError:_||void 0,cityValue:S,cityInput:T,onCityChange:e=>{I(e),ee(null)},onCityInputChange:e=>B(e),cityOptions:er.map(e=>({label:e.name,value:e.id})),cityError:Y||void 0,locationValue:F,onLocationChange:e=>{z(e.target.value),ea(null)},locationError:et||void 0,maxQuantity:M,onMaxQuantityChange:e=>{let t=e.target.value.replace(/\D/g,"");W(t);let a=Number(t);K(!t||a<=0?"Укажите кол-во мест (>0)":null)},maxQuantityError:V||void 0,price:E,onPriceChange:e=>{let t=e.target.value.replace(/[^\d.]/g,"").replace(/\.(?=.*\.)/g,"");A(t);let a=Number(t);X(!t||a<=0?"Укажите стоимость (>0)":null)},priceError:Q||void 0});case 3:return(0,i.jsx)(tB,{uploadedImage:n,onImageDelete:ep,onAddPhotoClick:eh,colors:es,onColorChange:e=>eo(e),titlePreview:u,datePreview:(()=>{let e=e2(j);if(!e||!w)return;let t=String(e.getDate()).padStart(2,"0"),a=String(e.getMonth()+1).padStart(2,"0"),n=e.getFullYear();return`${t}.${a}.${n} \u{432} ${w}`})(),pricePreview:E?`${Number(E).toFixed(0)}\u{20BD}`:void 0,locationPreview:F||void 0})}})()})}),(0,i.jsx)("input",{type:"file",ref:c,onChange:e=>{var t;let a=null==(t=e.target.files)?void 0:t[0];if(a){o(a);let e=new FileReader;e.onloadend=()=>{r(e.result)},e.readAsDataURL(a)}},accept:"image/*",className:tS.hiddenInput}),(0,i.jsxs)("div",{className:tS.actions,children:[t<3&&(0,i.jsx)(G,{accent:!0,className:tS.button,onClick:()=>{if(1===t){let e=u.trim().length<3?"Минимум 3 символа":null,t=h.trim().length<10?"Минимум 10 символов":null;if(g(e),C(t),e||t)return}if(2===t){let e=!0,t=j?ec(j):"Формат даты ДД.ММ.ГГГГ",a=w?eu(w):"Формат времени ЧЧ:ММ";if(H(t),R(a),t&&(e=!1),a&&(e=!1),!e)return}t<3&&a(t+1)},children:"Продолжить"}),3===t&&(0,i.jsx)(G,{accent:!0,className:tS.button,onClick:()=>{if(!u.trim()){g("Заполните название"),a(1);return}if(!y){J("Выберите категорию"),a(2);return}if(!S){ee("Выберите город"),a(2);return}if(!F.trim()){ea("Укажите локацию"),a(2);return}if(!M||0>=Number(M)){K("Укажите кол-во мест (>0)"),a(2);return}if(!E||0>=Number(E)){X("Укажите стоимость (>0)"),a(2);return}em.mutate()},children:"Отправить"}),t>1&&(0,i.jsx)(G,{onClick:()=>{t>1&&a(t-1)},className:tS.button,children:"Назад"}),1===t&&(0,i.jsx)(G,{onClick:()=>{en(-1)},className:tS.button,children:"Отменить"})]})]})},{}),handle:{headerProps:{showLogo:!1,showLeftButton:!0,showRightButton:!1,navigateTo:"back",pageName:"Создание события"}}},{path:"event/:id/edit",element:(0,i.jsx)(()=>{let{id:e}=(0,d.UO)(),{user:t}=Z(),[a,n]=(0,s.useState)(1),[r,l]=(0,s.useState)(null),[o,c]=(0,s.useState)(null),u=(0,s.useRef)(null),{data:p}=(0,P.a)({queryKey:["event",e],enabled:!!e,queryFn:()=>O.getEventById(e)}),[h,m]=(0,s.useState)(""),[v,g]=(0,s.useState)(""),[x,C]=(0,s.useState)(null),[j,f]=(0,s.useState)(null),[w,N]=(0,s.useState)(""),[y,b]=(0,s.useState)(""),[k,L]=(0,s.useState)(null),[S,I]=(0,s.useState)(""),[T,B]=(0,s.useState)(null),[F,z]=(0,s.useState)(""),[M,W]=(0,s.useState)(""),[E,A]=(0,s.useState)(""),[U,H]=(0,s.useState)(""),[$,R]=(0,s.useState)(null),[V,K]=(0,s.useState)(null),[Q,X]=(0,s.useState)(null),[_,J]=(0,s.useState)(null),[Y,ee]=(0,s.useState)(null),[et,ea]=(0,s.useState)(null),[en,ei]=(0,s.useState)(null),er=(0,d.s0)(),{data:es=[]}=(0,P.a)({queryKey:["categories"],queryFn:()=>O.getCategories()}),{data:el=[]}=(0,P.a)({queryKey:["cities"],queryFn:()=>O.getCities()}),{data:eo=[]}=(0,P.a)({queryKey:["colors"],queryFn:()=>O.getColors()}),[ec,eu]=(0,s.useState)(null);(0,s.useEffect)(()=>{p&&(m(p.title||""),g(p.description||""),N(p.date||""),b(p.time||""),L(p.raw.categoryId),B(p.raw.cityId),W(p.location||""),A(String(p.raw.maxQuantity??"")),H(String(p.price??"")),eu(p.raw.colorId),p.imageUrl&&l(p.imageUrl))},[p]);let ep=e=>e?e0(e)?e9(e)?"Дата не может быть в прошлом":null:"Формат даты ДД.ММ.ГГГГ":null,eh=e=>e?e1(e)?null:"Формат времени ЧЧ:ММ":null,em=()=>{l(null),c(null)},ev=(0,q.D)({mutationFn:async()=>{var a;let n;if(!(null==t?void 0:t.organizationId))throw Error("Доступно только организаторам");if(!e)throw Error("Некорректный id события");o?n=(await O.uploadFile(o)).id:null===r&&(n=null);let i=e2(w);if(!i)throw Error("Некорректная дата");let s=i.getFullYear(),l=String(i.getMonth()+1).padStart(2,"0"),c=String(i.getDate()).padStart(2,"0"),d=`${s}-${l}-${c}`,u={organizationId:t.organizationId,name:h.trim(),description:v.trim()||void 0,categoryId:k,cityId:T,eventDate:d,startTime:y,location:M.trim(),maxQuantity:Number(E),price:Number(U),colorId:ec||(null==(a=eo[0])?void 0:a.id)};return void 0!==n&&(u.posterId=n),await O.updateEvent(e,u)},onSuccess:()=>{(0,eS.Am)((0,i.jsx)(ed,{icon:D,primaryText:"Ивент обновлен!",secondaryText:"Готово",iconColor:"#AFF940"})),er(-1)},onError:e=>{eS.Am.error((null==e?void 0:e.message)||"Ошибка при обновлении события")}});return(0,i.jsxs)("div",{className:tF.container,children:[(0,i.jsx)("div",{className:tF.stepperContainer,children:(0,i.jsx)(eC,{steps:3,currentStep:a,onStepClick:e=>{n(e)}})}),(0,i.jsx)("div",{className:tF.profileCard,children:(0,i.jsx)("div",{className:tF.profileCardContent,children:(()=>{switch(a){case 1:return(0,i.jsx)(tz,{title:h,description:v,titleError:x||void 0,descriptionError:j||void 0,onTitleChange:e=>{let t=e.target.value;m(t),C(t&&t.trim().length<3?"Минимум 3 символа":null)},onDescriptionChange:e=>{let t=e.target.value;g(t),f(t&&t.trim().length<10?"Минимум 10 символов":null)}});case 2:return(0,i.jsx)(tM,{dateStart:w,timeStart:y,dateError:$||void 0,timeError:V||void 0,onDateChange:e=>{let t=e3(e.target.value.replace(/\D/g,""));N(t),R(ep(t))},onTimeChange:e=>{let t=e6(e.target.value.replace(/[^\d:]/g,""));b(t),K(eh(t))},categoryValue:k,categoryInput:S,onCategoryChange:e=>{L(e),ee(null)},onCategoryInputChange:e=>I(e),categoryOptions:es.map(e=>({label:e.name,value:e.id})),categoryError:Y||void 0,cityValue:T,cityInput:F,onCityChange:e=>{B(e),ea(null)},onCityInputChange:e=>z(e),cityOptions:el.map(e=>({label:e.name,value:e.id})),cityError:et||void 0,locationValue:M,onLocationChange:e=>{W(e.target.value),ei(null)},locationError:en||void 0,maxQuantity:E,onMaxQuantityChange:e=>{let t=e.target.value.replace(/\D/g,"");A(t);let a=Number(t);X(!t||a<=0?"Укажите кол-во мест (>0)":null)},maxQuantityError:Q||void 0,price:U,onPriceChange:e=>{let t=e.target.value.replace(/[^\d.]/g,"").replace(/\.(?=.*\.)/g,"");H(t);let a=Number(t);J(!t||a<=0?"Укажите стоимость (>0)":null)},priceError:_||void 0});case 3:return(0,i.jsx)(tW,{uploadedImage:r,onImageDelete:em,onAddPhotoClick:()=>{var e;return null==(e=u.current)?void 0:e.click()},colors:eo,onColorChange:e=>eu(e),titlePreview:h,datePreview:(()=>{let e=e2(w);if(!e||!y)return;let t=String(e.getDate()).padStart(2,"0"),a=String(e.getMonth()+1).padStart(2,"0"),n=e.getFullYear();return`${t}.${a}.${n} \u{432} ${y}`})(),pricePreview:U?`${Number(U).toFixed(0)}\u{20BD}`:void 0,locationPreview:M||void 0});default:return null}})()})}),(0,i.jsx)("input",{type:"file",ref:u,onChange:e=>{var t;let a=null==(t=e.target.files)?void 0:t[0];if(a){c(a);let e=new FileReader;e.onloadend=()=>{l(e.result)},e.readAsDataURL(a)}},accept:"image/*",className:tF.hiddenInput}),(0,i.jsxs)("div",{className:tF.actions,children:[a<3&&(0,i.jsx)(G,{accent:!0,className:tF.button,onClick:()=>{if(1===a){let e=h.trim().length<3?"Минимум 3 символа":null,t=v.trim().length<10?"Минимум 10 символов":null;if(C(e),f(t),e||t)return}if(2===a){let e=!0,t=w?ep(w):"Формат даты ДД.ММ.ГГГГ",a=y?eh(y):"Формат времени ЧЧ:ММ";if(R(t),K(a),t&&(e=!1),a&&(e=!1),!e)return}a<3&&n(a+1)},children:"Продолжить"}),3===a&&(0,i.jsx)(G,{accent:!0,className:tF.button,onClick:()=>{if(!h.trim()){C("Заполните название"),n(1);return}if(!k){ee("Выберите категорию"),n(2);return}if(!T){ea("Выберите город"),n(2);return}if(!M.trim()){ei("Укажите локацию"),n(2);return}if(!E||0>=Number(E)){X("Укажите кол-во мест (>0)"),n(2);return}if(!U||0>=Number(U)){J("Укажите стоимость (>0)"),n(2);return}ev.mutate()},children:"Сохранить"}),a>1&&(0,i.jsx)(G,{onClick:()=>{a>1&&n(a-1)},className:tF.button,children:"Назад"}),1===a&&(0,i.jsx)(G,{onClick:()=>{er(-1)},className:tF.button,children:"Отменить"})]})]})},{}),handle:{headerProps:{showLogo:!1,showLeftButton:!0,showRightButton:!1,navigateTo:"back",pageName:"Редактирование события"}}}]},{path:"/login",element:(0,i.jsx)(tR,{}),errorElement:(0,i.jsx)(Y,{})},{path:"/register",element:(0,i.jsx)(tV,{}),errorElement:(0,i.jsx)(Y,{})},{path:"/install",element:(0,i.jsx)(()=>(0,i.jsxs)("div",{className:"container-HNzOuB",children:[(0,i.jsx)(el,{pageName:"Установка приложения",showLeftButton:!1,showLogo:!0,showRightButton:!1}),(0,i.jsxs)("div",{className:"content-pUauRm",children:[(0,i.jsx)("h1",{className:"title-MVajwE",children:"Установка на домашний экран"}),(0,i.jsxs)("div",{className:e_,children:[(0,i.jsx)("h2",{className:eJ,children:"iOS (iPhone, iPad)"}),(0,i.jsxs)("ol",{className:eG,children:[(0,i.jsx)("li",{children:"Откройте сайт в браузере Safari"}),(0,i.jsxs)("li",{children:["Нажмите на кнопку \xabПоделиться\xbb"," ",(0,i.jsx)("span",{className:"icon-cKp_cm",children:"⎙"})," внизу экрана"]}),(0,i.jsx)("li",{children:"Прокрутите вниз и выберите \xabНа экран \xabДомой\xbb\xbb"}),(0,i.jsx)("li",{children:"Нажмите \xabДобавить\xbb в правом верхнем углу"})]}),(0,i.jsx)("div",{className:eY,children:"После установки приложение будет работать в полноэкранном режиме без элементов браузера"})]}),(0,i.jsxs)("div",{className:e_,children:[(0,i.jsx)("h2",{className:eJ,children:"Android"}),(0,i.jsxs)("ol",{className:eG,children:[(0,i.jsx)("li",{children:"Откройте сайт в браузере Chrome"}),(0,i.jsx)("li",{children:"Нажмите на три точки в правом верхнем углу"}),(0,i.jsx)("li",{children:"Выберите \xabУстановить приложение\xbb или \xabДобавить на главный экран\xbb"}),(0,i.jsx)("li",{children:"Подтвердите установку"})]}),(0,i.jsx)("div",{className:eY,children:"После установки приложение будет доступно на домашнем экране и в меню приложений"})]})]})]}),{}),errorElement:(0,i.jsx)(Y,{})},{path:"*",element:(0,i.jsx)(d.Fg,{to:"/",replace:!0}),errorElement:(0,i.jsx)(Y,{})}]),tZ=new(a(388)).S({defaultOptions:{queries:{refetchOnWindowFocus:!1,retry:!1}}});var tK=a(8906);let tQ=o()(e=>()=>(0,i.jsx)(eK.aH,{client:tZ,children:e()}),e=>()=>((0,s.useEffect)(()=>{tK.default.ready(),/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)&&tK.default.expand(),tK.default.disableVerticalSwipes&&tK.default.disableVerticalSwipes(),tK.default.enableClosingConfirmation();let e=function(){let e=()=>{0===window.scrollY&&window.scrollTo(0,1)};return document.addEventListener("touchstart",e),document.addEventListener("scroll",e),e(),()=>{document.removeEventListener("touchstart",e),document.removeEventListener("scroll",e)}}();return tK.default.setHeaderColor("#23222A"),tK.default.setBackgroundColor("#23222A"),()=>{e()}},[]),(0,i.jsx)(i.Fragment,{children:e()})),e=>()=>(0,i.jsx)(c.p,{router:tO})),tX=()=>null,t_=tQ(()=>(0,i.jsx)(tX,{})),tJ=!!("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function tG(e,t){navigator.serviceWorker.register(e).then(e=>{e.onupdatefound=()=>{let a=e.installing;null!=a&&(a.onstatechange=()=>{"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(e=>{console.error("Error during service worker registration:",e)})}let tY=document.getElementById("root");(0,r.createRoot)(tY).render((0,i.jsx)(t_,{})),"serviceWorker"in navigator&&new URL(process.env.PUBLIC_URL||"",window.location.href).origin===window.location.origin&&window.addEventListener("load",()=>{var e,t;let a=window.location.pathname.startsWith("/tickets_project")?"/tickets_project":"",i=`${a}/service-worker.js`;tJ?(t=void 0,fetch(e=i,{headers:{"Service-Worker":"script"}}).then(a=>{let n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then(e=>{e.unregister().then(()=>{window.location.reload()})}):tG(e,t)}).catch(()=>{console.log("No internet connection found. App is running in offline mode.")}),navigator.serviceWorker.ready.then(()=>{console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")})):tG(i,n)})}},t={};function a(n){var i=t[n];if(void 0!==i)return i.exports;var r=t[n]={exports:{}};return e[n].call(r.exports,r,r.exports,a),r.exports}a.m=e,a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e=[];a.O=(t,n,i,r)=>{if(n){r=r||0;for(var s=e.length;s>0&&e[s-1][2]>r;s--)e[s]=e[s-1];e[s]=[n,i,r];return}for(var l=1/0,s=0;s<e.length;s++){for(var[n,i,r]=e[s],o=!0,c=0;c<n.length;c++)(!1&r||l>=r)&&Object.keys(a.O).every(e=>a.O[e](n[c]))?n.splice(c--,1):(o=!1,r<l&&(l=r));if(o){e.splice(s--,1);var d=i();void 0!==d&&(t=d)}}return t}})(),(()=>{var e={980:0};a.O.j=t=>0===e[t];var t=(t,n)=>{var i,r,[s,l,o]=n,c=0;if(s.some(t=>0!==e[t])){for(i in l)a.o(l,i)&&(a.m[i]=l[i]);if(o)var d=o(a)}for(t&&t(n);c<s.length;c++)r=s[c],a.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return a.O(d)},n=self.webpackChunkrsbuild_react_ts=self.webpackChunkrsbuild_react_ts||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var n=a.O(void 0,["72","361","118","734"],function(){return a(2927)});n=a.O(n)})();